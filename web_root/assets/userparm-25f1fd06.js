import{_ as E,aV as V,o as C,c as U,b as e,f as t,m as r,bl as m,a as c,cv as S,l as B,E as N,p as O,q as D,Q as P,bc as T,g as A,cw as R}from"./index-1c344ead.js";import{E as J}from"./el-dialog-5503b2ce.js";import{j as v,U as G,v as q}from"./commondata-d367610c.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tag-af7befcd.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-8ce72081.js";import"./el-scrollbar-3e75bdc3.js";import{E as M}from"./el-switch-a9ea1d44.js";import{E as j,a as F}from"./index-2e0debbe.js";import{E as Q,a as z}from"./index-63aa4757.js";import{_ as H}from"./check-2d5afc83.js";import{_ as I}from"./DefinScrollbar-04001c86.js";import"./_Uint8Array-1475e228.js";import"./_initCloneObject-43cc36ea.js";import"./index-612f59f7.js";import"./isEqual-8bd9e430.js";import"./debounce-7c3a0787.js";import"./el-card-77d9a4c6.js";import"./strings-96852cf3.js";/* empty css                                                                       */const K=f=>(O("data-v-cb9402ec"),f=f(),D(),f),W=K(()=>c("br",null,null,-1)),X={slot:"footer",class:"dialog-footer"},Y="添加数据",Z={__name:"function",setup(f){let a=V({ch_key:"",des:"",en_key:"",value:!1});const p=V(!1),_=(o,l)=>{const i=v.value.FuncSet.keys.find(b=>b.en_key===l.en_key);i&&(i.value=l.value)},y=()=>{p.value=!0},g=()=>{if(a.value.ch_key&&a.value.en_key&&a.value.des){const o={...a.value};v.value.FuncSet.keys.push(o),console.log("11111",o),p.value=!1}else S.error("请填写完整数据")},x=o=>{const l=v.value.FuncSet.keys.findIndex(b=>b.en_key===o.en_key);l!==-1&&v.value.FuncSet.keys.splice(l,1);const i=v.value.FuncSet.keys.indexOf(o);i!==-1&&v.value.FuncSet.keys.splice(i,1)};return(o,l)=>{const i=j,b=M,h=B,d=F,s=N,u=Q,w=z,L=J;return C(),U("div",null,[e(d,{data:m(v).FuncSet.keys,style:{width:"100%"},class:"functioncDate"},{default:t(()=>[e(i,{prop:"ch_key",label:"⚠️ 功能定制"}),e(i,{prop:"des",label:"说明"}),e(i,{prop:"en_key",label:"英文名"}),e(i,{prop:"value",label:"是否启用"},{default:t(n=>[e(b,{modelValue:n.row.value,"onUpdate:modelValue":$=>n.row.value=$,"active-value":!0,"inactive-value":!1,onChange:$=>_(n.$index,n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(i,{label:"操作"},{default:t(n=>[e(h,{type:"danger",onClick:$=>x(n.row)},{default:t(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),W,e(h,{type:"primary",onClick:y},{default:t(()=>[r("添加新数据")]),_:1}),e(L,{title:Y,modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=n=>p.value=n),visible:p.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[e(w,{ref:"form",model:m(a),"label-width":"80px"},{default:t(()=>[e(u,{label:"名称"},{default:t(()=>[e(s,{modelValue:m(a).ch_key,"onUpdate:modelValue":l[0]||(l[0]=n=>m(a).ch_key=n),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(u,{label:"说明"},{default:t(()=>[e(s,{modelValue:m(a).des,"onUpdate:modelValue":l[1]||(l[1]=n=>m(a).des=n),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(u,{label:"英文名"},{default:t(()=>[e(s,{modelValue:m(a).en_key,"onUpdate:modelValue":l[2]||(l[2]=n=>m(a).en_key=n),placeholder:"en_key值"},null,8,["modelValue"])]),_:1}),e(u,{label:"是否启用"},{default:t(()=>[e(b,{modelValue:m(a).value,"onUpdate:modelValue":l[3]||(l[3]=n=>m(a).value=n),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),c("div",X,[e(h,{onClick:l[4]||(l[4]=n=>p.value=!1)},{default:t(()=>[r("取 消")]),_:1}),e(h,{type:"primary",onClick:g},{default:t(()=>[r("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ee=E(Z,[["__scopeId","data-v-cb9402ec"]]);const te={__name:"index",setup(f){const a=(p,_)=>{v.value.Password=_.value};return(p,_)=>{const y=j,g=N,x=F;return C(),U("div",null,[e(x,{data:m(G),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(y,{prop:"name",label:"⚠️ 用户权限 "}),e(y,{prop:"value",label:" "},{default:t(o=>[e(g,{modelValue:o.row.value,"onUpdate:modelValue":l=>o.row.value=l,placeholder:"密码",style:{width:"100%"},onChange:l=>a(o.$index,o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},le=E(te,[["__scopeId","data-v-2b7f1679"]]);const ae={__name:"index",setup(f){const a=(p,_)=>{v.value.version=_.value};return(p,_)=>{const y=j,g=N,x=F;return C(),U("div",null,[e(x,{data:m(q),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(y,{prop:"name",label:"⚠️ 版本号 "}),e(y,{prop:"value",label:" "},{default:t(o=>[e(g,{modelValue:o.row.value,"onUpdate:modelValue":l=>o.row.value=l,placeholder:"版本号",style:{width:"100%"},onChange:l=>a(o.$index,o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},oe=E(ae,[["__scopeId","data-v-8f6d5a2f"]]);const k=f=>(O("data-v-ab469e2d"),f=f(),D(),f),ne={class:"page-container main-view"},se={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},ue={class:"left"},de=k(()=>c("hr",{class:"hengxian"},null,-1)),_e={class:"left"},ie=k(()=>c("h2",null,"⚠️ 用户配置：",-1)),re=k(()=>c("hr",{class:"hengxian2"},null,-1)),ce=k(()=>c("hr",{class:"hengxian3"},null,-1)),pe=k(()=>c("hr",{class:"hengxian3"},null,-1)),me={key:0},ve=k(()=>c("hr",{class:"hengxian2"},null,-1)),fe={__name:"userparm",setup(f){const a=V(!1),p=()=>{a.value=!0},_=V(!1),y=V(!0),g=P(()=>JSON.stringify(v.value,null,2)),x=()=>{_.value=!0},o=()=>{router.push("/main/third")},l=()=>{router.push("/main/param/index")},i=()=>{let h={data:{file:"agvparam.json",value:v.value},group:"siasun",account:"test",password:"123456"};console.log(h),R({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(h)}).then(d=>{S.success("请求成功");var s={type:"syncParm",data:!0};console.log(JSON.stringify(s)),R({method:"post",url:"/api/ctrl/manualdata",data:JSON.stringify(s)}).then(u=>{S.success("同步参数")}).catch(u=>{}).finally(()=>{})}).catch(d=>{S.error("请求失败")}).finally(()=>{})},b=()=>{const h=JSON.stringify(v.value),d=new Blob([h],{type:"application/json"}),s=window.URL.createObjectURL(d),u=document.createElement("a");u.href=s,u.download="agvparam.json",document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(s),document.body.removeChild(u)};return(h,d)=>{const s=B,u=J;return C(),U("div",null,[c("div",ne,[c("div",se,[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[c("div",ue,[e(s,{type:"info",onClick:p},{default:t(()=>[r(" 查看设备 ")]),_:1}),e(u,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=w=>a.value=w),title:"设备总览",visible:a.value,width:"900px",onClose:d[1]||(d[1]=w=>a.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[e(H)]),_:1})]),_:1},8,["modelValue","visible"]),r("   "),e(s,{type:"info",onClick:x},{default:t(()=>[r(" 查看 ")]),_:1}),e(u,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=w=>_.value=w),title:"数据",visible:_.value,onClose:d[3]||(d[3]=w=>_.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[c("pre",null,T(g.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),r("   "),e(s,{type:"primary",onClick:o},{default:t(()=>[r("上一步")]),_:1}),e(s,{type:"primary",onClick:l},{default:t(()=>[r("返回")]),_:1}),e(s,{type:"success",onClick:i},{default:t(()=>[r("同步到AGV")]),_:1}),e(s,{type:"success",onClick:b},{default:t(()=>[r("导出到本地")]),_:1})]),de,c("div",_e,[ie,r(" 配置用户参数，功能等： "),re,e(oe),ce,e(le),pe,y.value?(C(),U("div",me,[e(ee)])):A("",!0)]),ve]),_:1})])])])}}},Te=E(fe,[["__scopeId","data-v-ab469e2d"]]);export{Te as default};
