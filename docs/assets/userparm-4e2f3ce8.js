import{_ as N,aV as w,o as E,c as S,b as e,f as t,m as _,bl as c,a as r,cv as U,l as R,E as B,p as O,q as D,Q as T,bc as A,g as G,cw as j}from"./index-3842b3c8.js";import{E as F}from"./el-dialog-bed384a6.js";import{g as C,j as h,U as q}from"./commondata-eb30ec7a.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tag-0ca59edd.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-adbb7e80.js";import"./el-scrollbar-fde17889.js";import{E as M}from"./el-switch-9f7a9269.js";import{E as J,a as L}from"./index-fed4bc38.js";import{E as Q,a as z}from"./index-7e8ed321.js";import{_ as H}from"./check-84f79b02.js";import{_ as I}from"./DefinScrollbar-c9a189f1.js";import"./Uint8Array-d9c3e762.js";import"./initCloneObject-a43f42f0.js";import"./index-2380c275.js";import"./isEqual-86b10d31.js";import"./debounce-ccf9c823.js";import"./el-tab-pane-231b9385.js";import"./strings-5aa74a7f.js";import"./el-card-513ad40f.js";/* empty css                                                                       */const K=p=>(O("data-v-d4fec3eb"),p=p(),D(),p),W=K(()=>r("br",null,null,-1)),X={slot:"footer",class:"dialog-footer"},Y="添加数据",Z={__name:"function",setup(p){let a=w({ch_key:"",des:"",en_key:"",value:!1});const m=w(!1),v=(u,l)=>{const i=h.value.FuncSet.keys.find(y=>y.en_key===l.en_key);i&&(i.value=l.value)},g=()=>{m.value=!0},k=()=>{if(a.value.ch_key&&a.value.des&&a.value.en_key){const u={...a.value};h.value.FuncSet.keys.push(u),C.value.push(u),m.value=!1}else U.error("请填写完整数据")},x=u=>{const l=h.value.FuncSet.keys.findIndex(y=>y.en_key===u.en_key);l!==-1&&h.value.FuncSet.keys.splice(l,1);const i=C.value.indexOf(u);i!==-1&&C.value.splice(i,1)};return(u,l)=>{const i=J,y=M,f=R,d=L,n=B,s=Q,b=z,P=F;return E(),S("div",null,[e(d,{data:c(C),style:{width:"100%"},class:"functioncDate"},{default:t(()=>[e(i,{prop:"ch_key",label:"⚠️ 功能定制"}),e(i,{prop:"des",label:"说明"}),e(i,{prop:"en_key",label:"英文名"}),e(i,{prop:"value",label:"是否启用"},{default:t(o=>[e(y,{modelValue:o.row.value,"onUpdate:modelValue":$=>o.row.value=$,"active-value":!0,"inactive-value":!1,onChange:$=>v(o.$index,o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(i,{label:"操作"},{default:t(o=>[e(f,{type:"danger",onClick:$=>x(o.row)},{default:t(()=>[_("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),W,e(f,{type:"primary",onClick:g},{default:t(()=>[_("添加新数据")]),_:1}),e(P,{title:Y,modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=o=>m.value=o),visible:m.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[e(b,{ref:"form",model:c(a),"label-width":"80px"},{default:t(()=>[e(s,{label:"名称"},{default:t(()=>[e(n,{modelValue:c(a).ch_key,"onUpdate:modelValue":l[0]||(l[0]=o=>c(a).ch_key=o),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"说明"},{default:t(()=>[e(n,{modelValue:c(a).des,"onUpdate:modelValue":l[1]||(l[1]=o=>c(a).des=o),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(s,{label:"英文名"},{default:t(()=>[e(n,{modelValue:c(a).en_key,"onUpdate:modelValue":l[2]||(l[2]=o=>c(a).en_key=o),placeholder:"en_key值"},null,8,["modelValue"])]),_:1}),e(s,{label:"是否启用"},{default:t(()=>[e(y,{modelValue:c(a).value,"onUpdate:modelValue":l[3]||(l[3]=o=>c(a).value=o),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",X,[e(f,{onClick:l[4]||(l[4]=o=>m.value=!1)},{default:t(()=>[_("取 消")]),_:1}),e(f,{type:"primary",onClick:k},{default:t(()=>[_("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ee=N(Z,[["__scopeId","data-v-d4fec3eb"]]);const te={__name:"index",setup(p){const a=(m,v)=>{h.value.Password=v.value};return(m,v)=>{const g=J,k=B,x=L;return E(),S("div",null,[e(x,{data:c(q),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(g,{prop:"name",label:"⚠️ 用户权限 "}),e(g,{prop:"value",label:" "},{default:t(u=>[e(k,{modelValue:u.row.value,"onUpdate:modelValue":l=>u.row.value=l,placeholder:"密码",style:{width:"100%"},onChange:l=>a(u.$index,u.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},le=N(te,[["__scopeId","data-v-2b7f1679"]]);const V=p=>(O("data-v-875d19aa"),p=p(),D(),p),ae={class:"page-container main-view"},oe={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},ne={class:"left"},se=V(()=>r("hr",{class:"hengxian"},null,-1)),ue={class:"left"},de=V(()=>r("h2",null,"⚠️ 用户配置：",-1)),ie=V(()=>r("hr",{class:"hengxian2"},null,-1)),_e=V(()=>r("hr",{class:"hengxian3"},null,-1)),re={key:0},ce=V(()=>r("hr",{class:"hengxian2"},null,-1)),pe={__name:"userparm",setup(p){const a=w(!1),m=()=>{a.value=!0},v=w(!1),g=w(!0),k=T(()=>JSON.stringify(h.value,null,2)),x=()=>{v.value=!0},u=()=>{router.push("/main/third")},l=()=>{router.push("/main/param/index")},i=()=>{let f={data:{file:"agvparam.json",value:h.value},group:"siasun",account:"test",password:"123456"};console.log(f),j({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(f)}).then(d=>{U.success("请求成功");var n={type:"syncParm",data:!0};console.log(JSON.stringify(n)),j({method:"post",url:"/api/ctrl/manualdata",data:JSON.stringify(n)}).then(s=>{U.success("同步参数")}).catch(s=>{}).finally(()=>{})}).catch(d=>{U.error("请求失败")}).finally(()=>{})},y=()=>{const f=JSON.stringify(h.value),d=new Blob([f],{type:"application/json"}),n=window.URL.createObjectURL(d),s=document.createElement("a");s.href=n,s.download="agvparam.json",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s)};return(f,d)=>{const n=R,s=F;return E(),S("div",null,[r("div",ae,[r("div",oe,[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[r("div",ne,[e(n,{type:"info",onClick:m},{default:t(()=>[_(" 查看设备 ")]),_:1}),e(s,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=b=>a.value=b),title:"设备总览",visible:a.value,width:"900px",onClose:d[1]||(d[1]=b=>a.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[e(H)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"info",onClick:x},{default:t(()=>[_(" 查看 ")]),_:1}),e(s,{modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=b=>v.value=b),title:"数据",visible:v.value,onClose:d[3]||(d[3]=b=>v.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[r("pre",null,A(k.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"primary",onClick:u},{default:t(()=>[_("上一步")]),_:1}),e(n,{type:"primary",onClick:l},{default:t(()=>[_("返回")]),_:1}),e(n,{type:"success",onClick:i},{default:t(()=>[_("同步到AGV")]),_:1}),e(n,{type:"success",onClick:y},{default:t(()=>[_("导出到本地")]),_:1})]),se,r("div",ue,[de,_(" 配置用户参数，功能等： "),ie,e(le),_e,g.value?(E(),S("div",re,[e(ee)])):G("",!0)]),ce]),_:1})])])])}}},Le=N(pe,[["__scopeId","data-v-875d19aa"]]);export{Le as default};
