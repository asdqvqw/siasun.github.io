import{aV as g,bB as re,o as C,c as I,b as e,f as l,m as n,F,aY as Y,a as t,bc as G,g as D,E as ne,_ as me,bl as S,cj as $e,l as we,p as pe,q as fe,e as Pe,Q as Me,aC as he}from"./index-31d041b7.js";import{E as ye}from"./el-dialog-f026a5f0.js";import{g as W,j as ae,h as ue,i as se,k as ie,l as ee,m as q,n as le,o as te}from"./commondata-38ea6384.js";/* empty css                */import{E as Se,a as ke}from"./el-table-column-58bcd18c.js";import{E as Ue}from"./el-tag-94a35715.js";import{E as ve,a as de}from"./el-select-9d644a01.js";import"./el-scrollbar-1cd9d3fa.js";import"./el-popper-20e53888.js";import{E as _e,a as be}from"./el-form-item-3a0024b9.js";import"./el-tooltip-4ed993c7.js";/* empty css                 */import{E as ge}from"./index-9f78b7f2.js";import{_ as We}from"./check-7f220ef3.js";import"./index-e584377a.js";import"./debounce-23f92823.js";import"./index-309e42d7.js";import"./strings-76a06904.js";const xe=g(!0),oe=g(!0),V=g({name:"",value:[1,1,1,1,1],editingIndex:-1,isHardBum:!1,pos:7,HardBum:{one:{input:[0,2,2,2,0],output:[0,2,2,2,0]},two:{input:[0,2,2,2,0],output:[0,2,2,2,0]},reset:{input:[0,2,2,2,0],output:[0,2,2,2,0]}}}),Ye=t("br",null,null,-1),ze={key:0},Ze={key:0},Ke=t("br",null,null,-1),el=t("br",null,null,-1),ll=t("br",null,null,-1),al=t("br",null,null,-1),ul={key:1},tl=t("br",null,null,-1),nl=t("br",null,null,-1),ol=t("br",null,null,-1),vl=t("br",null,null,-1),dl={key:2},sl=t("br",null,null,-1),il=t("br",null,null,-1),rl=t("br",null,null,-1),ml={key:3},pl=t("br",null,null,-1),fl=t("br",null,null,-1),_l=t("br",null,null,-1),bl=t("br",null,null,-1),gl={key:4},Vl=t("br",null,null,-1),cl=t("br",null,null,-1),Cl={__name:"IO",setup(L){const o=g("1"),k=g(!0),$=g(!1),x=g(!1),B=g(!1),w=g(!1),i=g(!0),d=g("1"),r=g("1"),_=g("1"),s=g("1"),c=()=>{i.value||(V.value.value=[0,2,2,2,0]),O()},O=()=>{i.value?o.value==="1"||o.value==="2"||o.value==="4"?V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(r.value),parseInt(_.value)]:o.value==="5"&&(V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(r.value)]):V.value.value=[0,2,2,2,0],console.log("generateJSON",V.value.value)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],f=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],J=()=>{console.log("putjson,",V.value.value.value),V.value.value.value!==void 0?V.value.value.value[0]===1||V.value.value.value[0]===2||V.value.value.value[0]===4?(o.value=V.value.value.value[0].toString(),i.value=!0,d.value=V.value.value.value[1].toString(),r.value=V.value.value.value[2].toString(),_.value=V.value.value.value[3].toString(),s.value=V.value.value.value[4].toString(),P()):V.value.value.value[0]===3?(i.value=!0,o.value=V.value.value.value[0].toString(),d.value=V.value.value.value[1].toString(),r.value=V.value.value.value[2].toString(),_.value=V.value.value.value[3].toString(),P()):V.value.value.value[0]===5?(o.value=V.value.value.value[0].toString(),i.value=!0,d.value=V.value.value.value[1].toString(),r.value=V.value.value.value[2].toString(),P()):V.value.value.value[0]===0&&(i.value=!1,P()):V.value.value!==void 0?V.value.value[0]===1||V.value.value[0]===2||V.value.value[0]===4?(o.value=V.value.value[0].toString(),i.value=!0,d.value=V.value.value[1].toString(),r.value=V.value.value[2].toString(),_.value=V.value.value[3].toString(),s.value=V.value.value[4].toString(),P()):V.value.value[0]===3?(i.value=!0,o.value=V.value.value[0].toString(),d.value=V.value.value[1].toString(),r.value=V.value.value[2].toString(),_.value=V.value.value[3].toString(),P()):V.value.value[0]===5?(o.value=V.value.value[0].toString(),i.value=!0,d.value=V.value.value[1].toString(),r.value=V.value.value[2].toString(),P()):V.value.value.value[0]===0&&(i.value=!1,P()):(i.value=!1,P(),console.log("putJSONelse"))},P=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,$.value=!1,x.value=!1,B.value=!1,w.value=!1,O();return;case"2":k.value=!1,$.value=!0,x.value=!1,B.value=!1,w.value=!1,O();return;case"3":k.value=!1,$.value=!1,x.value=!0,B.value=!1,w.value=!1,O();return;case"4":k.value=!1,$.value=!1,x.value=!1,B.value=!0,w.value=!1,O();return;case"5":k.value=!1,$.value=!1,x.value=!1,B.value=!1,w.value=!0,O();return}};J();let A=0;return re(xe,()=>{const h=Date.now();h-A>=700&&(J(),A=h)}),(h,b)=>{const a=Ue,y=ge,m=ve,u=de,U=ne;return C(),I("div",null,[e(a,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=p=>i.value=p),onChange:c},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Ye,i.value?(C(),I("div",ze,[(C(),I(F,null,Y(j,(p,v)=>e(y,{key:v,modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=M=>o.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(C(),I("div",Ze,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),Ke,n(" CAN-POS模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),el,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[4]||(b[4]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ll,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[5]||(b[5]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),al])):D("",!0),$.value?(C(),I("div",ul,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[6]||(b[6]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),tl,n(" CAN-OPEN模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[7]||(b[7]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),nl,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[8]||(b[8]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ol,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[9]||(b[9]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),vl])):D("",!0),x.value?(C(),I("div",dl,[n(" 本地IO地址: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[10]||(b[10]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),sl,n(" 输出点对应位: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[11]||(b[11]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),il,n(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[12]||(b[12]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),rl])):D("",!0),B.value?(C(),I("div",ml,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[13]||(b[13]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),pl,n(" CAN-IO模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[14]||(b[14]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),fl,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[15]||(b[15]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),_l,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[16]||(b[16]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),bl])):D("",!0),w.value?(C(),I("div",gl,[n(" 输入点对应位: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[17]||(b[17]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),Vl,n(" 信号极性: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[18]||(b[18]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),cl])):D("",!0)])):D("",!0)])}}},hl=t("br",null,null,-1),Il={key:0},$l={key:0},wl=t("br",null,null,-1),yl=t("br",null,null,-1),Sl=t("br",null,null,-1),kl={key:1},Ul=t("br",null,null,-1),Bl=t("br",null,null,-1),Nl=t("br",null,null,-1),xl={key:2},Ol=t("br",null,null,-1),Al=t("br",null,null,-1),Tl={key:3},Hl=t("br",null,null,-1),Rl=t("br",null,null,-1),El=t("br",null,null,-1),Pl={key:4},Jl=t("br",null,null,-1),Be={__name:"IOinoutPut",props:{wheel:{type:Array,required:!0}},setup(L){const o=L,k=g(!1),$=g("1"),x=g(!0),B=g(!1),w=g(!1),i=g(!1),d=g(!1),r=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.wheel[0]!==void 0?o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString(),c.value=o.wheel[4].toString()):o.wheel[0]===3?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString()):o.wheel[0]===5?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString()):o.wheel[0]===0&&(k.value=!1,A()):k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),f()},f=()=>{k.value?$.value==="1"||$.value==="2"||$.value==="4"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:$.value==="3"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:$.value==="5"&&(o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value)]):o.wheel.value=[0,2,2,2,0]},J=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],P=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch($.value){case"1":x.value=!0,B.value=!1,w.value=!1,i.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,w.value=!1,i.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,w.value=!0,i.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,w.value=!1,i.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,w.value=!1,i.value=!1,d.value=!0,f();return}};O();let h=0;return re(oe,()=>{const b=Date.now();b-h>=700&&(O(),h=b)}),(b,a)=>{const y=Ue,m=ge,u=ve,U=de,p=ne;return C(),I("div",null,[e(y,{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=v=>k.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),hl,k.value?(C(),I("div",Il,[(C(),I(F,null,Y(J,(v,M)=>e(m,{key:M,modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=K=>$.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),I("div",$l,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),wl,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),yl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Sl,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),B.value?(C(),I("div",kl,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Ul,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Bl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Nl,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),w.value?(C(),I("div",xl,[n(" 本地IO地址: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[10]||(a[10]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),Ol,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Al,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),i.value?(C(),I("div",Tl,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[13]||(a[13]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Hl,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Rl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),El,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),d.value?(C(),I("div",Pl,[n(" 输入点对应位: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[17]||(a[17]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),Jl,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0)])):D("",!0)])}}};const Ge=L=>(pe("data-v-8b15db88"),L=L(),fe(),L),Dl=Ge(()=>t("br",null,null,-1)),Ll=Ge(()=>t("br",null,null,-1)),Ml={key:0},Ql={slot:"footer",class:"dialog-footer"},jl={slot:"footer",class:"dialog-footer"},Gl={slot:"footer",class:"dialog-footer"},Xl={slot:"footer",class:"dialog-footer"},ql={slot:"footer",class:"dialog-footer"},Fl={slot:"footer",class:"dialog-footer"},Wl={slot:"footer",class:"dialog-footer"},Je="输入点",De="输出点",Yl="硬保险杠",zl={__name:"Bumper",setup(L){const o=g(!1),k=g(!1),$=g(!1),x=g(!1),B=g(!1),w=g(!1),i=g(!1),d=()=>{oe.value=!oe.value,B.value=!0},r=()=>{B.value=!1},_=()=>{oe.value=!oe.value,w.value=!0},s=()=>{w.value=!1},c=()=>{oe.value=!oe.value,x.value=!0},O=()=>{x.value=!1},j=()=>{oe.value=!oe.value,$.value=!0},f=()=>{$.value=!1},J=()=>{oe.value=!oe.value,k.value=!0},P=()=>{k.value=!1},A=()=>{oe.value=!oe.value,o.value=!0},h=()=>{o.value=!1},b=()=>{V.isHardBum=!V.isHardBum},a=()=>{V.value.name="No name",V.value.pos=7,V.value.isHardBum=!1,V.value.value.value=[1,1,1,1,1],V.value.editingIndex=-1,V.value.HardBum.one.input=[0,2,2,2,0],V.value.HardBum.one.output=[0,2,2,2,0],V.value.HardBum.two.input=[0,2,2,2,0],V.value.HardBum.two.output=[0,2,2,2,0],V.value.HardBum.reset.input=[0,2,2,2,0],V.value.HardBum.reset.output=[0,2,2,2,0],console.log("addNewRow",V.value.value.value),i.value=!0,xe.value=!xe.value},y=U=>{V.value.name=W.value[U].name,V.value.pos=W.value[U].pos,V.value.isHardBum=W.value[U].isHardBum,V.value.value.value=W.value[U].value,W.value[U].HardBum.one.input!==void 0&&(V.value.HardBum.one.input=W.value[U].HardBum.one.input),W.value[U].HardBum.one.output!==void 0&&(V.value.HardBum.one.output=W.value[U].HardBum.one.output),W.value[U].HardBum.two.input!==void 0&&(V.value.HardBum.two.input=W.value[U].HardBum.two.input),W.value[U].HardBum.two.output!==void 0&&(V.value.HardBum.two.output=W.value[U].HardBum.two.output),W.value[U].HardBum.reset.input!==void 0&&(V.value.HardBum.reset.input=W.value[U].HardBum.reset.input),W.value[U].HardBum.reset.output!==void 0&&(V.value.HardBum.reset.output=W.value[U].HardBum.reset.output),V.value.editingIndex=U,console.log("reedit",U),console.log("reedit",W.value[U].value),console.log("reedit",V.value.value.value),xe.value=!xe.value,i.value=!0},m=()=>{if(V.value.name){if(V.value.editingIndex!==-1)W.value[V.value.editingIndex].name=V.value.name,W.value[V.value.editingIndex].pos=V.value.pos,W.value[V.value.editingIndex].isHardBum=V.value.isHardBum,console.log("1111",V.value.HardBum.one.input.value),V.value.HardBum.one.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.one.input=V.value.HardBum.one.input.value),V.value.HardBum.one.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.one.output=V.value.HardBum.one.output.value),V.value.HardBum.two.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.two.input=V.value.HardBum.two.input.value),V.value.HardBum.two.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.two.output=V.value.HardBum.two.output.value),V.value.HardBum.reset.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.reset.input=V.value.HardBum.reset.input.value),V.value.HardBum.reset.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.reset.output=V.value.HardBum.reset.output.value),V.value.value!=null&&(W.value[V.value.editingIndex].value=V.value.value),ae.value.HardBumper=W,console.log("handleAddRow",V.value.HardBum.one.input.value),console.log("handleAddRow",W.value[V.value.editingIndex].HardBum);else{V.value.HardBum.one.output.value!==void 0&&(V.value.HardBum.one.output=V.value.HardBum.one.output.value),V.value.HardBum.one.input.value!==void 0&&(V.value.HardBum.one.input=V.value.HardBum.one.input.value),V.value.HardBum.two.output.value!==void 0&&(V.value.HardBum.two.output=V.value.HardBum.two.output.value),V.value.HardBum.two.input.value!==void 0&&(V.value.HardBum.two.input=V.value.HardBum.two.input.value),V.value.HardBum.reset.output.value!==void 0&&(V.value.HardBum.reset.output=V.value.HardBum.reset.output.value),V.value.HardBum.reset.input.value!==void 0&&(V.value.HardBum.reset.input=V.value.HardBum.reset.input.value);const U={...V.value};W.value.push(JSON.parse(JSON.stringify(U))),ae.value.HardBumper=W,console.log("handleAddRow",U)}i.value=!1}else $e.error("请填写完整数据")},u=U=>{W.value.splice(U,1)};return(U,p)=>{const v=we,M=Se,K=ke,Ve=ne,ce=_e,Q=ve,Ne=de,Xe=Ue,qe=be,Ce=ye;return C(),I("div",null,[e(K,{data:S(W),style:{width:"100%"}},{default:l(()=>[e(M,{prop:"name",label:""},{default:l(Z=>[e(v,{type:"text",onClick:Fe=>y(Z.$index)},{default:l(()=>[n(G(S(W)[Z.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(M,{label:""},{default:l(Z=>[e(v,{type:"danger",onClick:Fe=>u(Z.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Dl,e(v,{type:"primary",onClick:a},{default:l(()=>[n("添加")]),_:1}),e(Ce,{title:Yl,modelValue:i.value,"onUpdate:modelValue":p[16]||(p[16]=Z=>i.value=Z),visible:i.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(qe,{ref:"form",model:S(V),"label-width":"80px"},{default:l(()=>[e(ce,{label:"名称"},{default:l(()=>[e(Ve,{modelValue:S(V).name,"onUpdate:modelValue":p[0]||(p[0]=Z=>S(V).name=Z),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(ce,{label:"IO"},{default:l(()=>[e(Cl)]),_:1}),e(ce,{label:"安装位置"},{default:l(()=>[e(Ne,{modelValue:S(V).pos,"onUpdate:modelValue":p[1]||(p[1]=Z=>S(V).pos=Z)},{default:l(()=>[e(Q,{label:"前侧",value:0}),e(Q,{label:"后侧",value:1}),e(Q,{label:"左侧",value:2}),e(Q,{label:"右侧",value:3}),e(Q,{label:"环绕四周",value:4}),e(Q,{label:"前侧+后侧",value:5}),e(Q,{label:"左侧+右侧",value:6}),e(Q,{label:"未设置",value:7})]),_:1},8,["modelValue"])]),_:1}),e(ce,null,{default:l(()=>[e(Xe,{modelValue:S(V).isHardBum,"onUpdate:modelValue":p[2]||(p[2]=Z=>S(V).isHardBum=Z),onChange:b},{default:l(()=>[n("车型为硬件停车型保险杠")]),_:1},8,["modelValue"]),Ll]),_:1})]),_:1},8,["model"]),S(V).isHardBum?(C(),I("div",Ml,[n("   "),e(v,{onClick:A,type:"primary"},{default:l(()=>[n("禁止继电器1输入点")]),_:1}),e(Ce,{title:Je,modelValue:o.value,"onUpdate:modelValue":p[4]||(p[4]=Z=>o.value=Z),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.one.input},null,8,["wheel"])]),t("div",Ql,[e(v,{onClick:p[3]||(p[3]=Z=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:h},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:J,type:"primary"},{default:l(()=>[n("禁止继电器1输出点")]),_:1}),e(Ce,{title:De,modelValue:k.value,"onUpdate:modelValue":p[6]||(p[6]=Z=>k.value=Z),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.one.output},null,8,["wheel"])]),t("div",jl,[e(v,{onClick:p[5]||(p[5]=Z=>k.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:P},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:j,type:"primary"},{default:l(()=>[n("禁止继电器2输入点")]),_:1}),e(Ce,{title:Je,modelValue:$.value,"onUpdate:modelValue":p[8]||(p[8]=Z=>$.value=Z),visible:$.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.two.input},null,8,["wheel"])]),t("div",Gl,[e(v,{onClick:p[7]||(p[7]=Z=>$.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:f},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:c,type:"primary"},{default:l(()=>[n("禁止继电器2输出点")]),_:1}),e(Ce,{title:De,modelValue:x.value,"onUpdate:modelValue":p[10]||(p[10]=Z=>x.value=Z),visible:x.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.two.output},null,8,["wheel"])]),t("div",Xl,[e(v,{onClick:p[9]||(p[9]=Z=>x.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:O},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:d,type:"primary"},{default:l(()=>[n("复位继电器输入点")]),_:1}),e(Ce,{title:Je,modelValue:B.value,"onUpdate:modelValue":p[12]||(p[12]=Z=>B.value=Z),visible:B.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.reset.input},null,8,["wheel"])]),t("div",ql,[e(v,{onClick:p[11]||(p[11]=Z=>B.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:r},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:_,type:"primary"},{default:l(()=>[n("复位继电器输出点")]),_:1}),e(Ce,{title:De,modelValue:w.value,"onUpdate:modelValue":p[14]||(p[14]=Z=>w.value=Z),visible:w.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{wheel:S(V).HardBum.reset.output},null,8,["wheel"])]),t("div",Fl,[e(v,{onClick:p[13]||(p[13]=Z=>w.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:s},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  ")])):D("",!0),t("div",Wl,[e(v,{onClick:p[15]||(p[15]=Z=>i.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:m},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Zl=me(zl,[["__scopeId","data-v-8b15db88"]]);g(!0);const Oe=g(!0),z=g({name:"",input:[0,2,2,2,0],output:[0,2,2,2,0],editingIndex:-1}),Kl=t("br",null,null,-1),ea={key:0},la={key:0},aa=t("br",null,null,-1),ua=t("br",null,null,-1),ta=t("br",null,null,-1),na={key:1},oa=t("br",null,null,-1),va=t("br",null,null,-1),da=t("br",null,null,-1),sa={key:2},ia=t("br",null,null,-1),ra=t("br",null,null,-1),ma={key:3},pa=t("br",null,null,-1),fa=t("br",null,null,-1),_a=t("br",null,null,-1),ba={key:4},ga=t("br",null,null,-1),je={__name:"IOinoutPut",props:{wheel:{type:Array,required:!0}},setup(L){const o=L,k=g(!1),$=g("1"),x=g(!0),B=g(!1),w=g(!1),i=g(!1),d=g(!1),r=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.wheel[0]!==void 0?o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString(),c.value=o.wheel[4].toString()):o.wheel[0]===3?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString()):o.wheel[0]===5?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString()):o.wheel[0]===0&&(k.value=!1,A()):k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),f()},f=()=>{k.value?$.value==="1"||$.value==="2"||$.value==="4"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:$.value==="3"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:$.value==="5"&&(o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value)]):o.wheel.value=[0,2,2,2,0]},J=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],P=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch($.value){case"1":x.value=!0,B.value=!1,w.value=!1,i.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,w.value=!1,i.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,w.value=!0,i.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,w.value=!1,i.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,w.value=!1,i.value=!1,d.value=!0,f();return}};O();let h=0;return re(Oe,()=>{const b=Date.now();b-h>=700&&(O(),h=b)}),(b,a)=>{const y=Ue,m=ge,u=ve,U=de,p=ne;return C(),I("div",null,[e(y,{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=v=>k.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Kl,k.value?(C(),I("div",ea,[(C(),I(F,null,Y(J,(v,M)=>e(m,{key:M,modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=K=>$.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),I("div",la,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),aa,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ua,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ta,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),B.value?(C(),I("div",na,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),oa,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),va,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),da,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),w.value?(C(),I("div",sa,[n(" 本地IO地址: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[10]||(a[10]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),ia,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),ra,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),i.value?(C(),I("div",ma,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[13]||(a[13]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),pa,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),fa,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),_a,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),d.value?(C(),I("div",ba,[n(" 输入点对应位: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[17]||(a[17]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),ga,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0)])):D("",!0)])}}};const Va=L=>(pe("data-v-25313819"),L=L(),fe(),L),ca=Va(()=>t("br",null,null,-1)),Ca={slot:"footer",class:"dialog-footer"},ha={slot:"footer",class:"dialog-footer"},Ia={slot:"footer",class:"dialog-footer"},$a="输入点",wa="输出点",ya="继电器",Sa={__name:"Relay",setup(L){const o=g(!1),k=g(!1),$=g(!1),x=()=>{Oe.value=!Oe.value,k.value=!0},B=()=>{k.value=!1},w=()=>{Oe.value=!Oe.value,o.value=!0},i=()=>{o.value=!1},d=()=>{z.value.name="No name",z.value.input=[0,2,2,2,0],z.value.output=[0,2,2,2,0],z.value.editingIndex=-1,$.value=!0},r=c=>{z.value.name=ue.value[c].name,ue.value[c].input!==void 0&&(z.value.input=ue.value[c].input),ue.value[c].output!==void 0&&(z.value.output=ue.value[c].output),z.value.editingIndex=c,console.log("reedit",c),console.log("reedit",ue.value[c].input),console.log("reedit",z.value.input),$.value=!0},_=()=>{if(z.value.name){if(z.value.editingIndex!==-1)ue.value[z.value.editingIndex].name=z.value.name,console.log("1111",z.value.input.value),z.value.input.value!==void 0&&(ue.value[z.value.editingIndex].input=z.value.input.value),z.value.output.value!==void 0&&(ue.value[z.value.editingIndex].output=z.value.output.value),ae.value.Relay=ue,console.log("handleAddRow",z.value.input.value);else{z.value.output.value!==void 0&&(z.value.output=z.value.output.value),z.value.input.value!==void 0&&(z.value.input=z.value.input.value);const c={...z.value};ue.value.push(JSON.parse(JSON.stringify(c))),ae.value.Relay=ue,console.log("handleAddRow",c)}$.value=!1}else $e.error("请填写完整数据")},s=c=>{ue.value.splice(c,1)};return(c,O)=>{const j=we,f=Se,J=ke,P=ne,A=_e,h=be,b=ye;return C(),I("div",null,[e(J,{data:S(ue),style:{width:"100%"}},{default:l(()=>[e(f,{prop:"name",label:""},{default:l(a=>[e(j,{type:"text",onClick:y=>r(a.$index)},{default:l(()=>[n(G(S(ue)[a.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(f,{label:""},{default:l(a=>[e(j,{type:"danger",onClick:y=>s(a.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),ca,e(j,{type:"primary",onClick:d},{default:l(()=>[n("添加")]),_:1}),e(b,{title:ya,modelValue:$.value,"onUpdate:modelValue":O[6]||(O[6]=a=>$.value=a),visible:$.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(h,{ref:"form",model:S(z),"label-width":"80px"},{default:l(()=>[e(A,{label:"名称"},{default:l(()=>[e(P,{modelValue:S(z).name,"onUpdate:modelValue":O[0]||(O[0]=a=>S(z).name=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("   "),e(j,{onClick:w,type:"primary"},{default:l(()=>[n("输入点")]),_:1}),e(b,{title:$a,modelValue:o.value,"onUpdate:modelValue":O[2]||(O[2]=a=>o.value=a),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(je,{wheel:S(z).input},null,8,["wheel"])]),t("div",Ca,[e(j,{onClick:O[1]||(O[1]=a=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:i},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(j,{onClick:x,type:"primary"},{default:l(()=>[n("输出点")]),_:1}),e(b,{title:wa,modelValue:k.value,"onUpdate:modelValue":O[4]||(O[4]=a=>k.value=a),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(je,{wheel:S(z).output},null,8,["wheel"])]),t("div",ha,[e(j,{onClick:O[3]||(O[3]=a=>k.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:B},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),t("div",Ia,[e(j,{onClick:O[5]||(O[5]=a=>$.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:_},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ka=me(Sa,[["__scopeId","data-v-25313819"]]),Ae=g(!1),H=g({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),Te=g(!1),R=g({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),Ua={key:0},Ba=t("br",null,null,-1),Na=t("br",null,null,-1),xa=t("br",null,null,-1),Oa=t("br",null,null,-1),Aa={key:1},Ta=t("br",null,null,-1),Ha=t("br",null,null,-1),Ra=t("br",null,null,-1),Ea=t("br",null,null,-1),Pa={key:2},Ja=t("br",null,null,-1),Da=t("br",null,null,-1),La=t("br",null,null,-1),Ma={key:3},Qa=t("br",null,null,-1),ja=t("br",null,null,-1),Ga=t("br",null,null,-1),Xa=t("br",null,null,-1),qa={key:4},Fa=t("br",null,null,-1),Wa=t("br",null,null,-1),Ya={__name:"IO",setup(L){const o=g("1"),k=g(!0),$=g(!1),x=g(!1),B=g(!1),w=g(!1),i=g("1"),d=g("1"),r=g("1"),_=g("1"),s=g("1"),c=()=>{o.value==="1"||o.value==="2"||o.value==="4"?H.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?H.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value),parseInt(s.value)]:o.value==="5"&&(H.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(s.value)]),console.log("generateJSON",H.value.value)},O=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],f=()=>{H.value.value.value!==void 0?H.value.value.value[0]===1||H.value.value.value[0]===2||H.value.value.value[0]===4?(o.value=H.value.value.value[0].toString(),i.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),r.value=H.value.value.value[3].toString(),_.value=H.value.value.value[4].toString(),s.value=H.value.value.value[5].toString(),J()):H.value.value.value[0]===3?(o.value=H.value.value.value[0].toString(),i.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),r.value=H.value.value.value[3].toString(),s.value=H.value.value.value[4].toString(),J()):H.value.value.value[0]===5&&(o.value=H.value.value.value[0].toString(),i.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),s.value=H.value.value.value[3].toString(),J()):H.value.value!==void 0?H.value.value[0]===1||H.value.value[0]===2||H.value.value[0]===4?(o.value=H.value.value[0].toString(),i.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),r.value=H.value.value[3].toString(),_.value=H.value.value[4].toString(),s.value=H.value.value[5].toString(),J()):H.value.value[0]===3?(o.value=H.value.value[0].toString(),i.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),r.value=H.value.value[3].toString(),s.value=H.value.value[4].toString(),J()):H.value.value[0]===5&&(o.value=H.value.value[0].toString(),i.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),s.value=H.value.value[3].toString(),J()):(o.value="1",i.value="1",d.value="1",r.value="1",_.value="1",s.value="1",J(),console.log("putJSONelse"))},J=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,$.value=!1,x.value=!1,B.value=!1,w.value=!1,c();return;case"2":k.value=!1,$.value=!0,x.value=!1,B.value=!1,w.value=!1,c();return;case"3":k.value=!1,$.value=!1,x.value=!0,B.value=!1,w.value=!1,c();return;case"4":k.value=!1,$.value=!1,x.value=!1,B.value=!0,w.value=!1,c();return;case"5":k.value=!1,$.value=!1,x.value=!1,B.value=!1,w.value=!0,c();return}};f();let P=0;return re(Ae,()=>{const A=Date.now();A-P>=700&&(f(),P=A)}),(A,h)=>{const b=ge,a=ve,y=de,m=ne;return C(),I("div",null,[(C(),I(F,null,Y(O,(u,U)=>e(b,{key:U,modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=p=>o.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(C(),I("div",Ua,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Ba,n(" CAN-POS模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[2]||(h[2]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Na,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[3]||(h[3]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),xa,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[4]||(h[4]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Oa,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[5]||(h[5]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),$.value?(C(),I("div",Aa,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[6]||(h[6]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Ta,n(" CAN-OPEN模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[7]||(h[7]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ha,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[8]||(h[8]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ra,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[9]||(h[9]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Ea,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[10]||(h[10]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),x.value?(C(),I("div",Pa,[n(" 本地IO地址: "),e(m,{modelValue:i.value,"onUpdate:modelValue":h[11]||(h[11]=u=>i.value=u),type:"number",onChange:c},null,8,["modelValue"]),Ja,n(" 输出点对应位: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[12]||(h[12]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Da,n(" 信号极性: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[13]||(h[13]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),La,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[14]||(h[14]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),B.value?(C(),I("div",Ma,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[15]||(h[15]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Qa,n(" CAN-IO模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[16]||(h[16]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ja,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[17]||(h[17]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ga,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[18]||(h[18]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Xa,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[19]||(h[19]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),w.value?(C(),I("div",qa,[n(" 输入点对应位: "),e(m,{modelValue:i.value,"onUpdate:modelValue":h[20]||(h[20]=u=>i.value=u),type:"number",onChange:c},null,8,["modelValue"]),Fa,n(" 信号极性: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[21]||(h[21]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Wa,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[22]||(h[22]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0)])}}};const za=L=>(pe("data-v-c9c1717f"),L=L(),fe(),L),Za=za(()=>t("br",null,null,-1)),Ka={slot:"footer",class:"dialog-footer"},eu="开关",lu={__name:"switch",setup(L){const o=g(!1),k=()=>{H.value.name="",H.value.value.value=[1,1,1,1,1,1],H.value.editingIndex=-1,console.log("addNewRow",H.value.value.value),o.value=!0,Ae.value=!Ae.value},$=w=>{H.value.name=se.value[w].name,H.value.value.value=se.value[w].value,H.value.editingIndex=w,console.log("reedit",H.value.value.value),o.value=!0,Ae.value=!Ae.value},x=()=>{if(H.value.name){if(H.value.editingIndex!==-1)se.value[H.value.editingIndex].name=H.value.name,H.value.value!=null&&(se.value[H.value.editingIndex].value=H.value.value),ae.value.switch.StartButton=se,console.log("handleAddRow",H.value.value),console.log("handleAddRow",se.value[H.value.editingIndex].value);else{const w={...H.value};se.value.push(JSON.parse(JSON.stringify(w))),ae.value.switch.StartButton=se,console.log("handleAddRow",w)}o.value=!1}else $e.error("请填写完整数据")},B=w=>{se.value.splice(w,1)};return(w,i)=>{const d=we,r=Se,_=ke,s=ne,c=_e,O=be,j=ye;return C(),I("div",null,[e(_,{data:S(se),style:{width:"100%"}},{default:l(()=>[e(r,{prop:"name",label:"按钮名称"},{default:l(f=>[e(d,{type:"text",onClick:J=>$(f.$index)},{default:l(()=>[n(G(S(se)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:"操作"},{default:l(f=>[e(d,{type:"danger",onClick:J=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Za,e(d,{type:"primary",onClick:k},{default:l(()=>[n("添加开关")]),_:1}),e(j,{title:eu,modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=f=>o.value=f),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:S(H),"label-width":"80px"},{default:l(()=>[e(c,{label:"按钮名称"},{default:l(()=>[e(s,{modelValue:S(H).name,"onUpdate:modelValue":i[0]||(i[0]=f=>S(H).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(Ya)]),_:1})]),_:1},8,["model"]),t("div",Ka,[e(d,{onClick:i[1]||(i[1]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},au=me(lu,[["__scopeId","data-v-c9c1717f"]]),uu={key:0},tu=t("br",null,null,-1),nu=t("br",null,null,-1),ou=t("br",null,null,-1),vu=t("br",null,null,-1),du={key:1},su=t("br",null,null,-1),iu=t("br",null,null,-1),ru=t("br",null,null,-1),mu=t("br",null,null,-1),pu={key:2},fu=t("br",null,null,-1),_u=t("br",null,null,-1),bu=t("br",null,null,-1),gu={key:3},Vu=t("br",null,null,-1),cu=t("br",null,null,-1),Cu=t("br",null,null,-1),hu=t("br",null,null,-1),Iu={key:4},$u=t("br",null,null,-1),wu=t("br",null,null,-1),yu={__name:"IO",setup(L){const o=g("1"),k=g(!0),$=g(!1),x=g(!1),B=g(!1),w=g(!1),i=g("1"),d=g("1"),r=g("1"),_=g("1"),s=g("1"),c=()=>{o.value==="1"||o.value==="2"||o.value==="4"?R.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?R.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value),parseInt(s.value)]:o.value==="5"&&(R.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(s.value)]),console.log("generateJSON",R.value.value)},O=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],f=()=>{R.value.value.value!==void 0?R.value.value.value[0]===1||R.value.value.value[0]===2||R.value.value.value[0]===4?(o.value=R.value.value.value[0].toString(),i.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),r.value=R.value.value.value[3].toString(),_.value=R.value.value.value[4].toString(),s.value=R.value.value.value[5].toString(),J()):R.value.value.value[0]===3?(o.value=R.value.value.value[0].toString(),i.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),r.value=R.value.value.value[3].toString(),s.value=R.value.value.value[4].toString(),J()):R.value.value.value[0]===5&&(o.value=R.value.value.value[0].toString(),i.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),s.value=R.value.value.value[3].toString(),J()):R.value.value!==void 0?R.value.value[0]===1||R.value.value[0]===2||R.value.value[0]===4?(o.value=R.value.value[0].toString(),i.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),r.value=R.value.value[3].toString(),_.value=R.value.value[4].toString(),s.value=R.value.value[5].toString(),J()):R.value.value[0]===3?(o.value=R.value.value[0].toString(),i.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),r.value=R.value.value[3].toString(),s.value=R.value.value[4].toString(),J()):R.value.value[0]===5&&(o.value=R.value.value[0].toString(),i.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),s.value=R.value.value[3].toString(),J()):(o.value="1",i.value="1",d.value="1",r.value="1",_.value="1",s.value="1",J(),console.log("putJSONelse"))},J=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,$.value=!1,x.value=!1,B.value=!1,w.value=!1,c();return;case"2":k.value=!1,$.value=!0,x.value=!1,B.value=!1,w.value=!1,c();return;case"3":k.value=!1,$.value=!1,x.value=!0,B.value=!1,w.value=!1,c();return;case"4":k.value=!1,$.value=!1,x.value=!1,B.value=!0,w.value=!1,c();return;case"5":k.value=!1,$.value=!1,x.value=!1,B.value=!1,w.value=!0,c();return}};f();let P=0;return re(Te,()=>{const A=Date.now();A-P>=700&&(f(),P=A)}),(A,h)=>{const b=ge,a=ve,y=de,m=ne;return C(),I("div",null,[(C(),I(F,null,Y(O,(u,U)=>e(b,{key:U,modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=p=>o.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(C(),I("div",uu,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),tu,n(" CAN-POS模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[2]||(h[2]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),nu,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[3]||(h[3]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ou,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[4]||(h[4]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),vu,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[5]||(h[5]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),$.value?(C(),I("div",du,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[6]||(h[6]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),su,n(" CAN-OPEN模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[7]||(h[7]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),iu,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[8]||(h[8]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ru,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[9]||(h[9]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),mu,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[10]||(h[10]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),x.value?(C(),I("div",pu,[n(" 本地IO地址: "),e(m,{modelValue:i.value,"onUpdate:modelValue":h[11]||(h[11]=u=>i.value=u),type:"number",onChange:c},null,8,["modelValue"]),fu,n(" 输出点对应位: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[12]||(h[12]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),_u,n(" 信号极性: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[13]||(h[13]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),bu,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[14]||(h[14]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),B.value?(C(),I("div",gu,[n(" 远程模块连接到: "),(C(),I(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:i.value,"onUpdate:modelValue":h[15]||(h[15]=p=>i.value=p),label:u.value,onChange:J},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Vu,n(" CAN-IO模块编号: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[16]||(h[16]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),cu,n(" 模块内输出点编号: "),e(y,{modelValue:r.value,"onUpdate:modelValue":h[17]||(h[17]=u=>r.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Cu,n(" 信号极性: "),e(y,{modelValue:_.value,"onUpdate:modelValue":h[18]||(h[18]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),hu,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[19]||(h[19]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),w.value?(C(),I("div",Iu,[n(" 输入点对应位: "),e(m,{modelValue:i.value,"onUpdate:modelValue":h[20]||(h[20]=u=>i.value=u),type:"number",onChange:c},null,8,["modelValue"]),$u,n(" 信号极性: "),e(y,{modelValue:d.value,"onUpdate:modelValue":h[21]||(h[21]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),wu,n(" 按钮类型: "),e(y,{modelValue:s.value,"onUpdate:modelValue":h[22]||(h[22]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):D("",!0)])}}};const Su=L=>(pe("data-v-c98acd18"),L=L(),fe(),L),ku=Su(()=>t("br",null,null,-1)),Uu={slot:"footer",class:"dialog-footer"},Bu="开关",Nu={__name:"switch",setup(L){const o=g(!1),k=()=>{R.value.name="",R.value.value.value=[1,1,1,1,1,1],R.value.editingIndex=-1,console.log("addnewRowEmg",R.value.value.value),o.value=!0,Te.value=!Te.value},$=w=>{R.value.name=ie.value[w].name,R.value.value.value=ie.value[w].value,R.value.editingIndex=w,console.log("reedit",R.value.value.value),o.value=!0,Te.value=!Te.value},x=()=>{if(R.value.name){if(R.value.editingIndex!==-1)ie.value[R.value.editingIndex].name=R.value.name,R.value.value!=null&&(ie.value[R.value.editingIndex].value=R.value.value),ae.value.switch.EmgButton=ie,console.log("handleAddRow",R.value.value),console.log("handleAddRow",ie.value[R.value.editingIndex].value);else{const w={...R.value};ie.value.push(JSON.parse(JSON.stringify(w))),ae.value.switch.EmgButton=ie,console.log("handleAddRow",w)}o.value=!1}else $e.error("请填写完整数据")},B=w=>{ie.value.splice(w,1)};return(w,i)=>{const d=we,r=Se,_=ke,s=ne,c=_e,O=be,j=ye;return C(),I("div",null,[e(_,{data:S(ie),style:{width:"100%"}},{default:l(()=>[e(r,{prop:"name",label:"按钮名称"},{default:l(f=>[e(d,{type:"text",onClick:J=>$(f.$index)},{default:l(()=>[n(G(S(ie)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:"操作"},{default:l(f=>[e(d,{type:"danger",onClick:J=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),ku,e(d,{type:"primary",onClick:k},{default:l(()=>[n("添加开关")]),_:1}),e(j,{title:Bu,modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=f=>o.value=f),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:S(R),"label-width":"80px"},{default:l(()=>[e(c,{label:"按钮名称"},{default:l(()=>[e(s,{modelValue:S(R).name,"onUpdate:modelValue":i[0]||(i[0]=f=>S(R).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(yu)]),_:1})]),_:1},8,["model"]),t("div",Uu,[e(d,{onClick:i[1]||(i[1]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},xu=me(Nu,[["__scopeId","data-v-c98acd18"]]),Ou=t("br",null,null,-1),Au={key:0},Tu={key:1},Hu=t("br",null,null,-1),Ru={key:2},Eu=t("br",null,null,-1),Pu={__name:"Better",setup(L){const o=g(["🎈很低阈值","🎈低阈值","🎈正常阈值"]),k=g(["🎈很低阈值","🎈低阈值","🎈正常阈值","🎈比例系数"]);function $(w,i,d){d[w]=parseInt(i),x()}const x=()=>{ae.value.Better=ee},B=()=>{(ee.value.type===1||ee.value.type===2)&&(ee.value.param=ee.value.param.slice(0,3)),x()};return(w,i)=>{const d=ve,r=de,_=_e,s=Se,c=ne,O=ke,j=be;return C(),Pe(j,{ref:"form",model:S(ee),"label-width":"120px"},{default:l(()=>[e(_,{label:"🎈电量表类型"},{default:l(()=>[e(r,{modelValue:S(ee).type,"onUpdate:modelValue":i[0]||(i[0]=f=>S(ee).type=f),placeholder:"请选择",onChange:B},{default:l(()=>[e(d,{label:"无电量表",value:0}),e(d,{label:"CAN电量表",value:1}),e(d,{label:"电池管理系统",value:2}),e(d,{label:"IO模块",value:3})]),_:1},8,["modelValue"]),Ou]),_:1}),S(ee).type===0?(C(),I("div",Au)):D("",!0),S(ee).type===1||S(ee).type===2?(C(),I("div",Tu,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(r,{modelValue:S(ee).elect,"onUpdate:modelValue":i[1]||(i[1]=f=>S(ee).elect=f),placeholder:"请选择",onChange:x},{default:l(()=>[e(d,{label:"电流(A)",value:0}),e(d,{label:"电压(V)",value:1}),e(d,{label:"电量百分比(%)",value:2})]),_:1},8,["modelValue"]),Hu]),_:1}),e(O,{data:o.value,style:{width:"90%"}},{default:l(()=>[e(s,{prop:"name",label:" "},{default:l(f=>[n(G(o.value[f.$index]),1)]),_:1}),e(s,{prop:"value",label:" "},{default:l(f=>[e(c,{modelValue:S(ee).param[f.$index],"onUpdate:modelValue":J=>S(ee).param[f.$index]=J,placeholder:"请输入",style:{width:"100%"},onChange:J=>$(f.$index,S(ee).param[f.$index],S(ee).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):S(ee).type===3?(C(),I("div",Ru,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(r,{modelValue:S(ee).elect,"onUpdate:modelValue":i[2]||(i[2]=f=>S(ee).elect=f),placeholder:"请选择",onChange:x},{default:l(()=>[e(d,{label:"电流",value:0}),e(d,{label:"电压",value:1}),e(d,{label:"电量百分比",value:2})]),_:1},8,["modelValue"]),Eu]),_:1}),e(O,{data:k.value,style:{width:"90%"}},{default:l(()=>[e(s,{prop:"name",label:" "},{default:l(f=>[n(G(k.value[f.$index]),1)]),_:1}),e(s,{prop:"value",label:" "},{default:l(f=>[e(c,{modelValue:S(ee).param[f.$index],"onUpdate:modelValue":J=>S(ee).param[f.$index]=J,placeholder:"请输入",style:{width:"100%"},onChange:J=>$(f.$index,S(ee).param[f.$index],S(ee).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):D("",!0)]),_:1},8,["model"])}}},Ie=g(!0);g(!0);g(!0);const He=g(!0),N=g({name:"",type:0,near:[0,2,2,2,0],mid:[0,2,2,2,0],far:[0,2,2,2,0]}),E=g({name:"",area:[1,1,1,1,1]}),Ju=t("br",null,null,-1),Du={key:0},Lu={key:0},Mu=t("br",null,null,-1),Qu=t("br",null,null,-1),ju=t("br",null,null,-1),Gu={key:1},Xu=t("br",null,null,-1),qu=t("br",null,null,-1),Fu=t("br",null,null,-1),Wu={key:2},Yu=t("br",null,null,-1),zu=t("br",null,null,-1),Zu={key:3},Ku=t("br",null,null,-1),et=t("br",null,null,-1),lt=t("br",null,null,-1),at={key:4},ut=t("br",null,null,-1),Le={__name:"IO",props:{wheel:{type:Array,required:!0}},setup(L){const o=L,k=g(!1),$=g("1"),x=g(!0),B=g(!1),w=g(!1),i=g(!1),d=g(!1),r=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.wheel[0]!==void 0?o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString(),c.value=o.wheel[4].toString()):o.wheel[0]===3?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),s.value=o.wheel[3].toString()):o.wheel[0]===5?(k.value=!0,$.value=o.wheel[0].toString(),A(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString()):o.wheel[0]===0&&(k.value=!1,A()):k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),f()},f=()=>{k.value?$.value==="1"||$.value==="2"||$.value==="4"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:$.value==="3"?o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:$.value==="5"&&(o.wheel.value=[parseInt($.value),parseInt(r.value),parseInt(_.value)]):o.wheel.value=[0,2,2,2,0]},J=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],P=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch($.value){case"1":x.value=!0,B.value=!1,w.value=!1,i.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,w.value=!1,i.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,w.value=!0,i.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,w.value=!1,i.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,w.value=!1,i.value=!1,d.value=!0,f();return}};O();let h=0;return re(Ie,()=>{const b=Date.now();b-h>=700&&(O(),h=b)}),(b,a)=>{const y=Ue,m=ge,u=ve,U=de,p=ne;return C(),I("div",null,[e(y,{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=v=>k.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Ju,k.value?(C(),I("div",Du,[(C(),I(F,null,Y(J,(v,M)=>e(m,{key:M,modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=K=>$.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),I("div",Lu,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Mu,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Qu,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ju,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),B.value?(C(),I("div",Gu,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Xu,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),qu,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Fu,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),w.value?(C(),I("div",Wu,[n(" 本地IO地址: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[10]||(a[10]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),Yu,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),zu,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),i.value?(C(),I("div",Zu,[n(" 远程模块连接到: "),(C(),I(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:r.value,"onUpdate:modelValue":a[13]||(a[13]=K=>r.value=K),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Ku,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),et,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),lt,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0),d.value?(C(),I("div",at,[n(" 输入点对应位: "),e(p,{modelValue:r.value,"onUpdate:modelValue":a[17]||(a[17]=v=>r.value=v),type:"number",onChange:f},null,8,["modelValue"]),ut,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):D("",!0)])):D("",!0)])}}},tt=t("br",null,null,-1),nt={key:0},ot={key:0},vt=t("br",null,null,-1),dt=t("br",null,null,-1),st=t("br",null,null,-1),it=t("br",null,null,-1),rt={key:1},mt=t("br",null,null,-1),pt=t("br",null,null,-1),ft=t("br",null,null,-1),_t=t("br",null,null,-1),bt={key:2},gt=t("br",null,null,-1),Vt=t("br",null,null,-1),ct=t("br",null,null,-1),Ct={key:3},ht=t("br",null,null,-1),It=t("br",null,null,-1),$t=t("br",null,null,-1),wt=t("br",null,null,-1),yt={key:4},St=t("br",null,null,-1),kt=t("br",null,null,-1),Ut={__name:"IOEXP",setup(L){const o=g("1"),k=g(!0),$=g(!1),x=g(!1),B=g(!1),w=g(!1),i=g(!0),d=g("1"),r=g("1"),_=g("1"),s=g("1"),c=()=>{i.value||(E.value.area=[0,2,2,2,0]),O()},O=()=>{i.value?o.value==="1"||o.value==="2"||o.value==="4"?E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(r.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(r.value),parseInt(_.value)]:o.value==="5"&&(E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(r.value)]):E.value.area=[0,2,2,2,0],console.log("generateJSON",E.value.area)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],f=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],J=()=>{console.log("putjson,",E.value.area.value),E.value.area.value!==void 0?E.value.area.value[0]===1||E.value.area.value[0]===2||E.value.area.value[0]===4?(o.value=E.value.area.value[0].toString(),i.value=!0,d.value=E.value.area.value[1].toString(),r.value=E.value.area.value[2].toString(),_.value=E.value.area.value[3].toString(),s.value=E.value.area.value[4].toString(),P()):E.value.area.value[0]===3?(i.value=!0,o.value=E.value.area.value[0].toString(),d.value=E.value.area.value[1].toString(),r.value=E.value.area.value[2].toString(),_.value=E.value.area.value[3].toString(),P()):E.value.area.value[0]===5?(o.value=E.value.area.value[0].toString(),i.value=!0,d.value=E.value.area.value[1].toString(),r.value=E.value.area.value[2].toString(),P()):E.value.area.value[0]===0&&(i.value=!1,P()):E.value.area!==void 0?E.value.area[0]===1||E.value.area[0]===2||E.value.area[0]===4?(o.value=E.value.area[0].toString(),i.value=!0,d.value=E.value.area[1].toString(),r.value=E.value.area[2].toString(),_.value=E.value.area[3].toString(),s.value=E.value.area[4].toString(),P()):E.value.area[0]===3?(i.value=!0,o.value=E.value.area[0].toString(),d.value=E.value.area[1].toString(),r.value=E.value.area[2].toString(),_.value=E.value.area[3].toString(),P()):E.value.area[0]===5?(o.value=E.value.area[0].toString(),i.value=!0,d.value=E.value.area[1].toString(),r.value=E.value.area[2].toString(),P()):E.value.area.value[0]===0&&(i.value=!1,P()):(i.value=!1,P(),console.log("putJSONelse"))},P=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,$.value=!1,x.value=!1,B.value=!1,w.value=!1,O();return;case"2":k.value=!1,$.value=!0,x.value=!1,B.value=!1,w.value=!1,O();return;case"3":k.value=!1,$.value=!1,x.value=!0,B.value=!1,w.value=!1,O();return;case"4":k.value=!1,$.value=!1,x.value=!1,B.value=!0,w.value=!1,O();return;case"5":k.value=!1,$.value=!1,x.value=!1,B.value=!1,w.value=!0,O();return}};J();let A=0;return re(He,()=>{const h=Date.now();h-A>=700&&(J(),A=h)}),(h,b)=>{const a=Ue,y=ge,m=ve,u=de,U=ne;return C(),I("div",null,[e(a,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=p=>i.value=p),onChange:c},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),tt,i.value?(C(),I("div",nt,[(C(),I(F,null,Y(j,(p,v)=>e(y,{key:v,modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=M=>o.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(C(),I("div",ot,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),vt,n(" CAN-POS模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),dt,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[4]||(b[4]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),st,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[5]||(b[5]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),it])):D("",!0),$.value?(C(),I("div",rt,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[6]||(b[6]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),mt,n(" CAN-OPEN模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[7]||(b[7]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),pt,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[8]||(b[8]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ft,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[9]||(b[9]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),_t])):D("",!0),x.value?(C(),I("div",bt,[n(" 本地IO地址: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[10]||(b[10]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),gt,n(" 输出点对应位: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[11]||(b[11]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Vt,n(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[12]||(b[12]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),ct])):D("",!0),B.value?(C(),I("div",Ct,[n(" 远程模块连接到: "),(C(),I(F,null,Y(f,(p,v)=>e(y,{key:v,modelValue:d.value,"onUpdate:modelValue":b[13]||(b[13]=M=>d.value=M),label:p.value,onChange:P},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),ht,n(" CAN-IO模块编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[14]||(b[14]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),It,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[15]||(b[15]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),$t,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[16]||(b[16]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),wt])):D("",!0),w.value?(C(),I("div",yt,[n(" 输入点对应位: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[17]||(b[17]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),St,n(" 信号极性: "),e(u,{modelValue:r.value,"onUpdate:modelValue":b[18]||(b[18]=p=>r.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),kt])):D("",!0)])):D("",!0)])}}};const Ee=L=>(pe("data-v-5d07ad5d"),L=L(),fe(),L),Bt=Ee(()=>t("br",null,null,-1)),Nt=Ee(()=>t("br",null,null,-1)),xt={key:0},Ot={slot:"footer",class:"dialog-footer"},At={slot:"footer",class:"dialog-footer"},Tt={slot:"footer",class:"dialog-footer"},Ht=Ee(()=>t("br",null,null,-1)),Rt=Ee(()=>t("br",null,null,-1)),Et=Ee(()=>t("br",null,null,-1)),Pt={slot:"footer",class:"dialog-footer"},Jt={key:1},Dt={slot:"footer",class:"dialog-footer"},Lt={__name:"PLS",setup(L){const o=g(!1),k=g(!1),$=g(!1),x=()=>{Ie.value=!Ie.value,k.value=!0},B=()=>{P(!1),k.value=!1},w=()=>{Ie.value=!Ie.value,$.value=!0},i=()=>{P(!1),$.value=!1},d=()=>{Ie.value=!Ie.value,o.value=!0},r=()=>{P(!1),o.value=!1},_=g([]),s=g(!1),c=g(!1),O=()=>{N.value.name="No name",N.value.type=0,N.value.CUTtype=0,N.value.port="",N.value.ip="",N.value.near=[0,2,2,2,0],N.value.area=[],N.value.mid=[0,2,2,2,0],N.value.far=[0,2,2,2,0],N.value.editingIndex=-1,s.value=!0},j=()=>{He.value=!He.value,E.value.name="No name",E.value.area.value=[1,1,1,1,1],E.value.editingIndex=-1,console.log("1111",E.value.area),c.value=!0},f=a=>{N.value.name=q.value[a].name,N.value.type=q.value[a].type,N.value.CUTtype=q.value[a].CUTtype,N.value.port=q.value[a].port,N.value.ip=q.value[a].ip,q.value[a].near!==void 0&&(N.value.near=q.value[a].near),q.value[a].mid!==void 0&&(N.value.mid=q.value[a].mid),q.value[a].far!==void 0&&(N.value.far=q.value[a].far),q.value[a].area!==void 0&&(N.value.area=q.value[a].area),_.value=q.value[a].area,console.log("111",N.value.near),console.log("222",N.value.mid),console.log("333",N.value.far),N.value.editingIndex=a,s.value=!0},J=a=>{He.value=!He.value,E.value.name=_.value[a].name,E.value.area.value=_.value[a].area,console.log("333",_.value[a].area),console.log("444",E.value.area.value),E.value.editingIndex=a,c.value=!0},P=a=>{if(N.value.name){if(N.value.editingIndex!==-1)q.value[N.value.editingIndex].name=N.value.name,q.value[N.value.editingIndex].type=N.value.type,delete q.value[N.value.editingIndex].near,delete q.value[N.value.editingIndex].mid,delete q.value[N.value.editingIndex].far,delete q.value[N.value.editingIndex].ip,delete q.value[N.value.editingIndex].port,delete q.value[N.value.editingIndex].area,delete q.value[N.value.editingIndex].CUTtype,N.value.type===0?(q.value[N.value.editingIndex].CUTtype=N.value.CUTtype,N.value.mid.value!==void 0?(console.log("mid",N.value.mid.value),q.value[N.value.editingIndex].mid=N.value.mid.value):(q.value[N.value.editingIndex].mid=[0,2,2,2,0],console.log("mid")),N.value.near.value!==void 0?(console.log("near",N.value.near.value),q.value[N.value.editingIndex].near=N.value.near.value):(q.value[N.value.editingIndex].near=[0,2,2,2,0],console.log("near")),N.value.far.value!==void 0?(console.log("far",N.value.far.value),q.value[N.value.editingIndex].far=N.value.far.value):(q.value[N.value.editingIndex].far=[0,2,2,2,0],console.log("far")),N.value.area.value!==void 0?(console.log("area",N.value.area.value),q.value[N.value.editingIndex].area=N.value.area.value):(q.value[N.value.editingIndex].area=[],console.log("area")),q.value[N.value.editingIndex].area=_.value,_.value=[]):(q.value[N.value.editingIndex].ip=N.value.ip,q.value[N.value.editingIndex].port=N.value.port),ae.value.PLS=q;else if(a){N.value.near.value!==void 0&&(N.value.near=N.value.near.value),N.value.mid.value!==void 0&&(N.value.mid=N.value.mid.value),N.value.far.value!==void 0&&(N.value.far=N.value.far.value),N.value.area=_.value,_.value=[];const y={...N.value};N.value.type===0?(delete y.ip,delete y.port):(delete y.near,delete y.mid,delete y.far,delete y.CUTtype),q.value.push(JSON.parse(JSON.stringify(y))),ae.value.PLS=q}a&&(s.value=!1)}else $e.error("请填写完整数据")},A=()=>{if(E.value.name){if(E.value.editingIndex!==-1)_.value[E.value.editingIndex].name=E.value.name,E.value.area!==void 0&&(_.value[E.value.editingIndex].area=E.value.area),console.log("111",_.value[E.value.editingIndex].area),console.log("222",E.value.area);else{const a={...E.value};_.value.push(JSON.parse(JSON.stringify(a)))}c.value=!1}else $e.error("请填写完整数据")},h=a=>{q.value.splice(a,1)},b=a=>{_.value.splice(a,1)};return(a,y)=>{const m=we,u=Se,U=ke,p=ne,v=_e,M=ve,K=de,Ve=ye,ce=be;return C(),I("div",null,[e(U,{data:S(q),style:{width:"100%"}},{default:l(()=>[e(u,{prop:"name",label:""},{default:l(Q=>[e(m,{type:"text",onClick:Ne=>f(Q.$index)},{default:l(()=>[n(G(S(q)[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(u,{label:""},{default:l(Q=>[e(m,{type:"danger",onClick:Ne=>h(Q.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Bt,e(m,{type:"primary",onClick:O},{default:l(()=>[n("添加")]),_:1}),e(Ve,{title:"PLS",modelValue:s.value,"onUpdate:modelValue":y[18]||(y[18]=Q=>s.value=Q),visible:s.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(ce,{ref:"form",model:S(N),"label-width":"80px"},{default:l(()=>[e(v,{label:"名称"},{default:l(()=>[e(p,{modelValue:S(N).name,"onUpdate:modelValue":y[0]||(y[0]=Q=>S(N).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"类型"},{default:l(()=>[e(K,{modelValue:S(N).type,"onUpdate:modelValue":y[1]||(y[1]=Q=>S(N).type=Q),placeholder:"请选择"},{default:l(()=>[e(M,{label:"IO",value:0}),e(M,{label:"网络",value:1})]),_:1},8,["modelValue"]),Nt]),_:1}),S(N).type===0?(C(),I("div",xt,[e(v,{label:"IO"},{default:l(()=>[n("   "),e(m,{onClick:x,type:"primary"},{default:l(()=>[n("近距离区域")]),_:1}),e(Ve,{title:"近",modelValue:k.value,"onUpdate:modelValue":y[3]||(y[3]=Q=>k.value=Q),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{wheel:S(N).near},null,8,["wheel"])]),t("div",Ot,[e(m,{onClick:y[2]||(y[2]=Q=>k.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:B},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(m,{onClick:w,type:"primary"},{default:l(()=>[n("中距离区域")]),_:1}),e(Ve,{title:"中",modelValue:$.value,"onUpdate:modelValue":y[5]||(y[5]=Q=>$.value=Q),visible:$.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{wheel:S(N).mid},null,8,["wheel"])]),t("div",At,[e(m,{onClick:y[4]||(y[4]=Q=>$.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:i},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(m,{onClick:d,type:"primary"},{default:l(()=>[n("远距离区域")]),_:1}),e(Ve,{title:"远",modelValue:o.value,"onUpdate:modelValue":y[7]||(y[7]=Q=>o.value=Q),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{wheel:S(N).far},null,8,["wheel"])]),t("div",Tt,[e(m,{onClick:y[6]||(y[6]=Q=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:r},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  ")]),_:1}),e(v,{label:"切区类型"},{default:l(()=>[e(K,{modelValue:S(N).CUTtype,"onUpdate:modelValue":y[8]||(y[8]=Q=>S(N).CUTtype=Q),placeholder:"请选择"},{default:l(()=>[e(M,{label:"正常类型",value:0}),e(M,{label:"互斥类型",value:1}),e(M,{label:"单点切区",value:2}),e(M,{label:"多点切区",value:3})]),_:1},8,["modelValue"]),Ht]),_:1}),e(v,{label:"切区设置"},{default:l(()=>[e(U,{data:_.value,style:{width:"100%"}},{default:l(()=>[e(u,{prop:"name",label:""},{default:l(Q=>[e(m,{type:"text",onClick:Ne=>J(Q.$index)},{default:l(()=>[n(G(_.value[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(u,{label:""},{default:l(Q=>[e(m,{type:"danger",onClick:Ne=>b(Q.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Rt,Et,e(m,{type:"primary",onClick:y[9]||(y[9]=Q=>j())},{default:l(()=>[n("添加")]),_:1}),e(Ve,{title:"切区设置",modelValue:c.value,"onUpdate:modelValue":y[13]||(y[13]=Q=>c.value=Q),visible:c.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(ce,{ref:"form",model:S(E),"label-width":"80px"},{default:l(()=>[e(v,{label:"名称"},{default:l(()=>[e(p,{modelValue:S(E).name,"onUpdate:modelValue":y[10]||(y[10]=Q=>S(E).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"控制区域"},{default:l(()=>[e(Ut)]),_:1})]),_:1},8,["model"]),t("div",Pt,[e(m,{onClick:y[11]||(y[11]=Q=>c.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:y[12]||(y[12]=Q=>A())},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])]),_:1})])):S(N).type===1?(C(),I("div",Jt,[e(v,{label:"IP"},{default:l(()=>[e(p,{modelValue:S(N).ip,"onUpdate:modelValue":y[14]||(y[14]=Q=>S(N).ip=Q),placeholder:"请输入IP"},null,8,["modelValue"])]),_:1}),e(v,{label:"端口号"},{default:l(()=>[e(p,{modelValue:S(N).port,"onUpdate:modelValue":y[15]||(y[15]=Q=>S(N).port=Q),placeholder:"端口号"},null,8,["modelValue"])]),_:1})])):D("",!0)]),_:1},8,["model"]),t("div",Dt,[e(m,{onClick:y[16]||(y[16]=Q=>s.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:y[17]||(y[17]=Q=>P(!0))},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Mt=me(Lt,[["__scopeId","data-v-5d07ad5d"]]);const Qe=L=>(pe("data-v-f45bc53f"),L=L(),fe(),L),Qt=Qe(()=>t("br",null,null,-1)),jt=Qe(()=>t("br",null,null,-1)),Gt=Qe(()=>t("br",null,null,-1)),Xt={__name:"Manaul",setup(L){g(!1);const o=()=>{ae.value.Manual=le,console.log("1111",ae.value.Manaul)},k=Me(()=>Object.keys(ae.value).filter(x=>x.startsWith("can")&&"can_manual"in ae.value[x]).map(x=>parseInt(x.slice(3)))),$=Me(()=>Object.fromEntries(Object.entries(ae.value.com).filter(([x,B])=>x.startsWith("com")&&B===!0)));return(x,B)=>{const w=Ue,i=_e,d=ve,r=de,_=be;return C(),Pe(_,{ref:"form",model:S(le),"label-width":"150px"},{default:l(()=>[e(i,{label:"🎆选择手控盒"},{default:l(()=>[e(w,{modelValue:S(le).manualcom,"onUpdate:modelValue":B[0]||(B[0]=s=>S(le).manualcom=s),onChange:o},{default:l(()=>[n("✨串口手控盒")]),_:1},8,["modelValue"]),e(w,{modelValue:S(le).manualcan,"onUpdate:modelValue":B[1]||(B[1]=s=>S(le).manualcan=s),onChange:o},{default:l(()=>[n("✨CAN手控盒")]),_:1},8,["modelValue"]),e(w,{modelValue:S(le).manualforklift,"onUpdate:modelValue":B[2]||(B[2]=s=>S(le).manualforklift=s),onChange:o},{default:l(()=>[n("✨叉车手柄")]),_:1},8,["modelValue"]),e(w,{modelValue:S(le).manualonline,"onUpdate:modelValue":B[3]||(B[3]=s=>S(le).manualonline=s),onChange:o},{default:l(()=>[n("✨无线手控盒")]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"🎆选择串口"},{default:l(()=>[e(r,{modelValue:S(le).com,"onUpdate:modelValue":B[4]||(B[4]=s=>S(le).com=s),placeholder:"请选择",disabled:!S(le).manualcom,onChange:o},{default:l(()=>[e(d,{label:"未使用串口",value:0}),(C(!0),I(F,null,Y($.value,(s,c,O)=>(C(),I(F,null,[s===!0?(C(),Pe(d,{key:O,label:c,value:parseInt(c.slice(3))},null,8,["label","value"])):D("",!0)],64))),256))]),_:1},8,["modelValue","disabled"]),Qt]),_:1}),e(i,{label:"🎆自动上线初始方向"},{default:l(()=>[e(r,{modelValue:S(le).direction,"onUpdate:modelValue":B[5]||(B[5]=s=>S(le).direction=s),placeholder:"请选择",disabled:!S(le).manualcom&&!S(le).manualcan&&!S(le).manualforklift,onChange:o},{default:l(()=>[e(d,{label:"前进",value:0}),e(d,{label:"后退",value:1})]),_:1},8,["modelValue","disabled"]),jt]),_:1}),e(i,{label:"🎆选择can线"},{default:l(()=>[e(r,{modelValue:S(le).can,"onUpdate:modelValue":B[6]||(B[6]=s=>S(le).can=s),placeholder:"请选择",disabled:!S(le).manualcan&&!S(le).manualforklift,onChange:o},{default:l(()=>[e(d,{label:"未安装",value:0}),(C(!0),I(F,null,Y(k.value,(s,c)=>(C(),Pe(d,{key:c,label:"can"+s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),Gt]),_:1})]),_:1},8,["model"])}}},qt=me(Xt,[["__scopeId","data-v-f45bc53f"]]),Re=g(!0),T=g({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0}),Ft={key:0},Wt=t("br",null,null,-1),Yt=t("br",null,null,-1),zt=t("br",null,null,-1),Zt=t("br",null,null,-1),Kt={key:1},en=t("br",null,null,-1),ln=t("br",null,null,-1),an=t("br",null,null,-1),un=t("br",null,null,-1),tn={key:2},nn=t("br",null,null,-1),on=t("br",null,null,-1),vn=t("br",null,null,-1),dn={key:3},sn=t("br",null,null,-1),rn=t("br",null,null,-1),mn=t("br",null,null,-1),pn=t("br",null,null,-1),fn={key:4},_n=t("br",null,null,-1),bn=t("br",null,null,-1),gn={__name:"IO",setup(L){const o=g("1"),k=g(!0),$=g(!1),x=g(!1),B=g(!1),w=g(!1);g(!0);const i=g("1"),d=g("1"),r=g("1"),_=g("1"),s=()=>{o.value==="1"||o.value==="2"||o.value==="4"?T.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value),parseInt(_.value)]:o.value==="3"?T.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value),parseInt(r.value)]:o.value==="5"&&(T.value.value=[parseInt(o.value),parseInt(i.value),parseInt(d.value)]),console.log("generateJSON",T.value.value)},c=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],O=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],j=()=>{console.log("putjson,",T.value.value),T.value.value.value!==void 0?T.value.value.value[0]===1||T.value.value.value[0]===2||T.value.value.value[0]===4?(o.value=T.value.value.value[0].toString(),i.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),r.value=T.value.value.value[3].toString(),_.value=T.value.value.value[4].toString(),f()):T.value.value.value[0]===3?(o.value=T.value.value.value[0].toString(),i.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),r.value=T.value.value.value[3].toString(),f()):T.value.value.value[0]===5&&(o.value=T.value.value.value[0].toString(),i.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),f()):T.value.value!==void 0?T.value.value[0]===1||T.value.value[0]===2||T.value.value[0]===4?(o.value=T.value.value[0].toString(),i.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),r.value=T.value.value[3].toString(),_.value=T.value.value[4].toString(),f()):T.value.value[0]===3?(o.value=T.value.value[0].toString(),i.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),r.value=T.value.value[3].toString(),f()):T.value.value[0]===5&&(o.value=T.value.value[0].toString(),i.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),f()):(f(),console.log("putJSONelse"))},f=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,$.value=!1,x.value=!1,B.value=!1,w.value=!1,s();return;case"2":k.value=!1,$.value=!0,x.value=!1,B.value=!1,w.value=!1,s();return;case"3":k.value=!1,$.value=!1,x.value=!0,B.value=!1,w.value=!1,s();return;case"4":k.value=!1,$.value=!1,x.value=!1,B.value=!0,w.value=!1,s();return;case"5":k.value=!1,$.value=!1,x.value=!1,B.value=!1,w.value=!0,s();return}};j();let J=0;return re(Re,()=>{const P=Date.now();P-J>=700&&(j(),J=P)}),(P,A)=>{const h=ge,b=ve,a=de,y=ne;return C(),I("div",null,[(C(),I(F,null,Y(c,(m,u)=>e(h,{key:u,modelValue:o.value,"onUpdate:modelValue":A[0]||(A[0]=U=>o.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(C(),I("div",Ft,[n(" 远程模块连接到: "),(C(),I(F,null,Y(O,(m,u)=>e(h,{key:u,modelValue:i.value,"onUpdate:modelValue":A[1]||(A[1]=U=>i.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),Wt,n(" CAN-POS模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[2]||(A[2]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Yt,n(" 模块内输出点编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":A[3]||(A[3]=m=>r.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),zt,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[4]||(A[4]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),Zt])):D("",!0),$.value?(C(),I("div",Kt,[n(" 远程模块连接到: "),(C(),I(F,null,Y(O,(m,u)=>e(h,{key:u,modelValue:i.value,"onUpdate:modelValue":A[5]||(A[5]=U=>i.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),en,n(" CAN-OPEN模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[6]||(A[6]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ln,n(" 模块内输出点编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":A[7]||(A[7]=m=>r.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),an,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[8]||(A[8]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),un])):D("",!0),x.value?(C(),I("div",tn,[n(" 本地IO地址: "),e(y,{modelValue:i.value,"onUpdate:modelValue":A[9]||(A[9]=m=>i.value=m),type:"number",onChange:s},null,8,["modelValue"]),nn,n(" 输出点对应位: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[10]||(A[10]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"BIT1",value:"0"}),e(b,{label:"BIT2",value:"1"}),e(b,{label:"BIT3",value:"2"}),e(b,{label:"BIT4",value:"3"}),e(b,{label:"BIT5",value:"4"}),e(b,{label:"BIT6",value:"5"}),e(b,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),on,n(" 信号极性: "),e(a,{modelValue:r.value,"onUpdate:modelValue":A[11]||(A[11]=m=>r.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),vn])):D("",!0),B.value?(C(),I("div",dn,[n(" 远程模块连接到: "),(C(),I(F,null,Y(O,(m,u)=>e(h,{key:u,modelValue:i.value,"onUpdate:modelValue":A[12]||(A[12]=U=>i.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),sn,n(" CAN-IO模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[13]||(A[13]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),rn,n(" 模块内输出点编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":A[14]||(A[14]=m=>r.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),mn,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[15]||(A[15]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),pn])):D("",!0),w.value?(C(),I("div",fn,[n(" 输入点对应位: "),e(y,{modelValue:i.value,"onUpdate:modelValue":A[16]||(A[16]=m=>i.value=m),type:"number",onChange:s},null,8,["modelValue"]),_n,n(" 信号极性: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[17]||(A[17]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),bn])):D("",!0)])}}};const Vn=L=>(pe("data-v-8ed8da04"),L=L(),fe(),L),cn=Vn(()=>t("br",null,null,-1)),Cn={slot:"footer",class:"dialog-footer"},hn="声音",In={__name:"Sound",setup(L){const o=g(!1),k=()=>{T.value.name="No name",T.value.value.value=[1,1,1,1,1],T.value.editingIndex=-1,T.value.ontime=0,T.value.offtime=0,o.value=!0,Re.value=!Re.value},$=w=>{T.value.name=te.value[w].name,T.value.ontime=te.value[w].ontime,T.value.offtime=te.value[w].offtime,T.value.value.value=te.value[w].value,T.value.editingIndex=w,console.log("reedit",w),console.log("reedit",te.value[w].value),console.log("reedit",T.value.value.value),Re.value=!Re.value,o.value=!0},x=()=>{if(T.value.name){if(T.value.editingIndex!==-1)te.value[T.value.editingIndex].name=T.value.name,te.value[T.value.editingIndex].ontime=T.value.ontime,te.value[T.value.editingIndex].offtime=T.value.offtime,T.value.value!=null&&(te.value[T.value.editingIndex].value=T.value.value),ae.value.Sound=te;else{const w={...T.value};te.value.push(JSON.parse(JSON.stringify(w))),ae.value.Sound=te,console.log("handleAddRow",w)}o.value=!1}else $e.error("请填写完整数据")},B=w=>{te.value.splice(w,1)};return(w,i)=>{const d=we,r=Se,_=ke,s=ne,c=_e,O=be,j=ye;return C(),I("div",null,[e(_,{data:S(te),style:{width:"100%"}},{default:l(()=>[e(r,{prop:"name",label:""},{default:l(f=>[e(d,{type:"text",onClick:J=>$(f.$index)},{default:l(()=>[n(G(S(te)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:""},{default:l(f=>[e(d,{type:"danger",onClick:J=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),cn,e(d,{type:"primary",onClick:k},{default:l(()=>[n("添加")]),_:1}),e(j,{title:hn,modelValue:o.value,"onUpdate:modelValue":i[4]||(i[4]=f=>o.value=f),visible:o.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:S(T),"label-width":"80px"},{default:l(()=>[e(c,{label:"名称"},{default:l(()=>[e(s,{modelValue:S(T).name,"onUpdate:modelValue":i[0]||(i[0]=f=>S(T).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(gn)]),_:1}),e(c,{label:"开启时间"},{default:l(()=>[e(s,{modelValue:S(T).ontime,"onUpdate:modelValue":i[1]||(i[1]=f=>S(T).ontime=f),modelModifiers:{number:!0},placeholder:"开启时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1}),e(c,{label:"关闭时间"},{default:l(()=>[e(s,{modelValue:S(T).offtime,"onUpdate:modelValue":i[2]||(i[2]=f=>S(T).offtime=f),modelModifiers:{number:!0},placeholder:"关闭时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("div",Cn,[e(d,{onClick:i[3]||(i[3]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},$n=me(In,[["__scopeId","data-v-8ed8da04"]]);const X=L=>(pe("data-v-8bc18376"),L=L(),fe(),L),wn={class:"page-container main-view"},yn={class:"table-box content-container page-content-box"},Sn={class:"left"},kn=X(()=>t("hr",{class:"hengxian"},null,-1)),Un={class:"left"},Bn=X(()=>t("h2",null,"⚠️ 电器模块：",-1)),Nn=X(()=>t("hr",{class:"hengxian2"},null,-1)),xn=X(()=>t("h3",null,"⚠️ 开关:",-1)),On=X(()=>t("br",null,null,-1)),An=X(()=>t("br",null,null,-1)),Tn=X(()=>t("span",{class:"title"},"🔖 启动按钮:",-1)),Hn={key:0},Rn={key:1},En=X(()=>t("br",null,null,-1)),Pn={key:0},Jn=X(()=>t("br",null,null,-1)),Dn=X(()=>t("br",null,null,-1)),Ln=X(()=>t("span",{class:"title"},"🔖 急停开关:",-1)),Mn={key:0},Qn={key:1},jn=X(()=>t("br",null,null,-1)),Gn={key:1},Xn=X(()=>t("br",null,null,-1)),qn=X(()=>t("hr",{class:"hengxian3"},null,-1)),Fn=X(()=>t("h3",null,"⚠️ 防碰设备:",-1)),Wn=X(()=>t("br",null,null,-1)),Yn=X(()=>t("br",null,null,-1)),zn=X(()=>t("span",{class:"title"},"🔖 可切区PLS:",-1)),Zn={key:0},Kn={key:1},eo=X(()=>t("br",null,null,-1)),lo={key:2},ao=X(()=>t("br",null,null,-1)),uo=X(()=>t("br",null,null,-1)),to=X(()=>t("span",{class:"title"},"🔖 硬保险杠:",-1)),no={key:0},oo={key:1},vo=X(()=>t("br",null,null,-1)),so={key:3},io=X(()=>t("br",null,null,-1)),ro=X(()=>t("hr",{class:"hengxian3"},null,-1)),mo=X(()=>t("h3",null,"⚠️ 继电器:",-1)),po={key:0},fo={key:1},_o=X(()=>t("br",null,null,-1)),bo={key:4},go=X(()=>t("br",null,null,-1)),Vo=X(()=>t("hr",{class:"hengxian3"},null,-1)),co=X(()=>t("h3",null,"⚠️ 电池指示表:",-1)),Co=X(()=>t("br",null,null,-1)),ho=X(()=>t("br",null,null,-1)),Io=X(()=>t("hr",{class:"hengxian3"},null,-1)),$o=X(()=>t("h3",{style:{display:"inline-block"}},"⚠️ 扬声器:",-1)),wo={key:0},yo={key:1},So=X(()=>t("br",null,null,-1)),ko={key:5},Uo=X(()=>t("br",null,null,-1)),Bo=X(()=>t("hr",{class:"hengxian3"},null,-1)),No=X(()=>t("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),xo={key:0},Oo={key:1},Ao=X(()=>t("br",null,null,-1)),To={key:6},Ho=X(()=>t("br",null,null,-1)),Ro=X(()=>t("hr",{class:"hengxian2"},null,-1)),Eo=X(()=>t("hr",{class:"kongge"},null,-1)),Po={__name:"electrion",setup(L){const o=g(!1),k=()=>{o.value=!0},$=Me(()=>JSON.stringify(ae.value,null,2)),x=g(!1),B=g(!1),w=g(!1),i=g(!1),d=g(!1),r=g(!1),_=g(!1),s=g(!1),c=()=>{i.value=!i.value},O=()=>{s.value=!s.value},j=()=>{_.value=!_.value},f=()=>{r.value=!r.value},J=()=>{w.value=!w.value},P=()=>{B.value=!B.value},A=()=>{x.value=!x.value},h=()=>{d.value=!0},b=()=>{router.push("/main/second")},a=()=>{router.push("/main/fifth")};return(y,m)=>{const u=we,U=ye;return C(),I("div",null,[t("div",wn,[t("div",yn,[t("div",Sn,[e(u,{type:"primary",onClick:k},{default:l(()=>[n(" 查看设备 ")]),_:1}),e(U,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=p=>o.value=p),title:"设备总览",visible:o.value,width:"900px",onClose:m[1]||(m[1]=p=>o.value=!1)},{default:l(()=>[e(We)]),_:1},8,["modelValue","visible"]),n("   "),e(u,{type:"info",onClick:h,plain:""},{default:l(()=>[n(" 查看 ")]),_:1}),e(U,{modelValue:d.value,"onUpdate:modelValue":m[2]||(m[2]=p=>d.value=p),title:"数据",visible:d.value,onClose:m[3]||(m[3]=p=>d.value=!1)},{default:l(()=>[t("pre",null,G($.value),1)]),_:1},8,["modelValue","visible"])]),kn,t("div",Un,[Bn,n(" 配置电器模块： "),Nn,xn,n(" 配置按钮相关: "),On,An,Tn,e(u,{onClick:A,type:"text",plain:"",disabled:!1},{default:l(()=>[x.value?(C(),I("span",Rn,"展开")):(C(),I("span",Hn,"展开")),t("span",{class:he({"rotate-arrow":x.value})},"➡️",2)]),_:1}),En,x.value?(C(),I("div",Pn,[e(au),Jn])):D("",!0),Dn,Ln,e(u,{onClick:P,type:"text",plain:"",disabled:!1},{default:l(()=>[B.value?(C(),I("span",Qn,"展开")):(C(),I("span",Mn,"展开")),t("span",{class:he({"rotate-arrow":B.value})},"➡️",2)]),_:1}),jn,B.value?(C(),I("div",Gn,[e(xu),Xn])):D("",!0),qn,Fn,n(" 配置保险杠和PLS相关: "),Wn,Yn,zn,e(u,{onClick:J,type:"text",plain:"",disabled:!1},{default:l(()=>[w.value?(C(),I("span",Kn,"展开")):(C(),I("span",Zn,"展开")),t("span",{class:he({"rotate-arrow":w.value})},"➡️",2)]),_:1}),eo,w.value?(C(),I("div",lo,[e(Mt),ao])):D("",!0),uo,to,e(u,{onClick:c,type:"text",plain:"",disabled:!1},{default:l(()=>[i.value?(C(),I("span",oo,"展开")):(C(),I("span",no,"展开")),t("span",{class:he({"rotate-arrow":i.value})},"➡️",2)]),_:1}),vo,i.value?(C(),I("div",so,[e(Zl),io])):D("",!0),ro,mo,n(" 配置继电器相关: "),e(u,{onClick:f,type:"text",plain:"",disabled:!1},{default:l(()=>[r.value?(C(),I("span",fo,"展开")):(C(),I("span",po,"展开")),t("span",{class:he({"rotate-arrow":r.value})},"➡️",2)]),_:1}),_o,r.value?(C(),I("div",bo,[e(ka),go])):D("",!0),Vo,co,Co,ho,e(Pu),Io,$o,e(u,{onClick:O,type:"text",plain:"",disabled:!1},{default:l(()=>[s.value?(C(),I("span",yo,"展开")):(C(),I("span",wo,"展开")),t("span",{class:he({"rotate-arrow":s.value})},"➡️",2)]),_:1}),So,s.value?(C(),I("div",ko,[e($n),Uo])):D("",!0),Bo,No,e(u,{onClick:j,type:"text",plain:"",disabled:!1},{default:l(()=>[_.value?(C(),I("span",Oo,"展开")):(C(),I("span",xo,"展开")),t("span",{class:he({"rotate-arrow":_.value})},"➡️",2)]),_:1}),Ao,_.value?(C(),I("div",To,[e(qt),Ho])):D("",!0)]),Ro,e(u,{type:"primary",onClick:a},{default:l(()=>[n("下一步")]),_:1}),Eo,e(u,{type:"primary",onClick:b},{default:l(()=>[n("上一步")]),_:1})])])])}}},uv=me(Po,[["__scopeId","data-v-8bc18376"]]);export{uv as default};
