import{bB as ce,o as U,c as $,b as l,f as t,m as r,bl as b,E as H,a as o,bc as F,aV as p,F as ne,aY as se,g as B,_ as ae,bH as J,by as Y,l as he,p as te,q as ue,cv as $e,at as xe,Q as Se}from"./index-927e7ec9.js";import"./el-tag-468a4bf1.js";import{E as Q,a as W}from"./el-select-64e6f3e8.js";import"./el-scrollbar-1b1a2b97.js";import"./el-popper-03facfeb.js";import{E as we}from"./el-dialog-24f43e28.js";import{j as S,M as ie,a as de,A as Ae,b as Ne,f as X,t as a,s as Ce,d as Z,c as ve,e as re}from"./commondata-1f0b6eaa.js";import{E as ge,a as Ve}from"./el-table-column-a210331c.js";/* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 */import{E as Ue}from"./index-3e97453a.js";/* empty css                */import{E as ye,a as Ie}from"./el-form-item-666e6936.js";import{E as fe}from"./index-8025977d.js";import{_ as _e}from"./DefinScrollbar-ba42e5cf.js";import{_ as Me}from"./check-80044154.js";import"./index-cb90097e.js";import"./isEqual-a71e5c8d.js";import"./8Array-2bfcf422.js";import"./debounce-094e6d11.js";import"./CloneObject-a613c4b0.js";/* empty css                                                                       */const Te={__name:"manualparm",setup(u){const y=c=>{ie.value.forEach(C=>{C!==c&&(C.value=!1)})},d=c=>{de.value.forEach(C=>{C!==c&&(C.value=!1)})};return ce(ie.value,()=>{console.log("111"),S.value.OperatingParam.manualparm.setSpeed=ie.value.map(c=>[parseFloat(c.adAutoSpe),c.value===!0?1:0])}),ce(de.value,()=>{console.log("222"),S.value.OperatingParam.manualparm.setRadius=de.value.map(c=>[parseFloat(c.manRadNum),c.value===!0?1:0])}),(c,C)=>{const n=ge,k=Q,A=W,_=Ue,w=Ve,h=H;return U(),$("div",null,[l(w,{data:b(ie),style:{width:"100%"},class:"MANUALPARMA"},{default:t(()=>[l(n,{prop:"manSpeLev",label:"速度级别"}),l(n,{prop:"adAutoSpe",label:"对应的自动速度级别"},{default:t(m=>[l(A,{modelValue:m.row.adAutoSpe,"onUpdate:modelValue":e=>m.row.adAutoSpe=e,placeholder:"请选择"},{default:t(()=>[l(k,{label:"0",value:0}),l(k,{label:"1",value:1}),l(k,{label:"2",value:2}),l(k,{label:"3",value:3}),l(k,{label:"4",value:4}),l(k,{label:"5",value:5}),l(k,{label:"6",value:6}),l(k,{label:"7",value:7}),l(k,{label:"8",value:8}),l(k,{label:"9",value:9})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),l(n,{prop:"value",label:"是否省缺"},{default:t(m=>[l(_,{modelValue:m.row.value,"onUpdate:modelValue":e=>m.row.value=e,label:!0,onChange:e=>y(m.row)},{default:t(()=>[r(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),l(w,{data:b(de),style:{width:"100%"},class:"MANUALPARMA"},{default:t(()=>[l(n,{prop:"manRadLev",label:"转弯半径级别"}),l(n,{prop:"manRadNum",label:"半径值(m)"},{default:t(m=>[l(h,{modelValue:m.row.manRadNum,"onUpdate:modelValue":e=>m.row.manRadNum=e,placeholder:"请输入半径",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(n,{prop:"value",label:"是否省缺"},{default:t(m=>[l(_,{modelValue:m.row.value,"onUpdate:modelValue":e=>m.row.value=e,label:!0,onChange:e=>d(m.row)},{default:t(()=>[r(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}};const Oe={__name:"autoparm",setup(u){const y=(c,C)=>{S.value.OperatingParam.autoparam[C.key]=parseFloat(C.value)},d=c=>{S.value.OperatingParam.autoparam.SpeedLev=parseFloat(c.value)};return(c,C)=>{const n=ge,k=H,A=Ve,_=Q,w=W;return U(),$("div",null,[l(A,{data:b(Ae),style:{width:"100%"},class:"AUTOPARM"},{default:t(()=>[l(n,{prop:"name",label:"🔖 自动参数: "},{default:t(h=>[o("span",null,"🔶"+F(h.row.name),1)]),_:1}),l(n,{prop:"value",label:" "},{default:t(h=>[l(k,{modelValue:h.row.value,"onUpdate:modelValue":m=>h.row.value=m,placeholder:"请选择",style:{width:"100%"},onChange:m=>y(h.$index,h.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),l(A,{data:b(Ne),style:{width:"100%"}},{default:t(()=>[l(n,{prop:"name",label:""},{default:t(h=>[o("span",null,"🔶"+F(h.row.name),1)]),_:1}),l(n,{prop:"value",label:""},{default:t(h=>[l(w,{modelValue:h.row.value,"onUpdate:modelValue":m=>h.row.value=m,placeholder:"请选择",onChange:m=>d(h.row)},{default:t(()=>[l(_,{label:"0级速度",value:"0"}),l(_,{label:"1级速度",value:"1"}),l(_,{label:"2级速度",value:"2"}),l(_,{label:"3级速度",value:"3"}),l(_,{label:"4级速度",value:"4"}),l(_,{label:"5级速度",value:"5"}),l(_,{label:"6级速度",value:"6"}),l(_,{label:"7级速度",value:"7"}),l(_,{label:"8级速度",value:"8"}),l(_,{label:"9级速度",value:"9"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},Ee=o("br",null,null,-1),ze={key:0},Re={key:0},Pe=o("br",null,null,-1),Ke=o("br",null,null,-1),Be=o("br",null,null,-1),Le={key:1},Fe=o("br",null,null,-1),De=o("br",null,null,-1),Je=o("br",null,null,-1),Ye={key:2},qe=o("br",null,null,-1),Xe=o("br",null,null,-1),Ge={key:3},je=o("br",null,null,-1),He=o("br",null,null,-1),Qe=o("br",null,null,-1),We={key:4},Ze=o("br",null,null,-1),me={__name:"IO",props:{wheel:{type:Array,required:!0}},emits:["myEvent"],setup(u,{emit:y}){const d=u,c=p(!1),C=p("子组件数据"),n=p("1"),k=p(!0),A=p(!1),_=p(!1),w=p(!1),h=p(!1),m=p("1"),e=p("1"),x=p("1"),v=p("1"),D=p(""),g=p("");y("myEvent",C.value);const O=()=>{if(d.wheel!==void 0)if(console.log("22222",d.wheel),d.wheel[0]===1||d.wheel[0]===2||d.wheel[0]===4)c.value=!0,n.value=d.wheel[0].toString(),T(),m.value=d.wheel[1].toString(),e.value=d.wheel[2].toString(),x.value=d.wheel[3].toString(),v.value=d.wheel[4].toString();else if(d.wheel[0]===3)c.value=!0,n.value=d.wheel[0].toString(),T(),m.value=d.wheel[1].toString(),e.value=d.wheel[2].toString(),x.value=d.wheel[3].toString();else if(d.wheel[0]===5){c.value=!0,n.value=d.wheel[0].toString(),T();const E=parseInt(d.wheel[1],10);g.value=isNaN(E)?"":E.toString(16),m.value=g.value.toString(),e.value=d.wheel[2].toString()}else d.wheel[0]===0&&(c.value=!1,T());else{if(d.wheel.value!==void 0)if(console.log("33333333",d.wheel.value),d.wheel.value[0]===1||d.wheel.value[0]===2||d.wheel.value[0]===4)c.value=!0,n.value=d.wheel.value[0].toString(),T(),m.value=d.wheel.value[1].toString(),e.value=d.wheel.value[2].toString(),x.value=d.wheel.value[3].toString(),v.value=d.wheel.value[4].toString();else if(d.wheel.value[0]===3)c.value=!0,n.value=d.wheel.value[0].toString(),T(),m.value=d.wheel.value[1].toString(),e.value=d.wheel.value[2].toString(),x.value=d.wheel.value[3].toString();else if(d.wheel.value[0]===5){c.value=!0,n.value=d.wheel.value[0].toString(),T();const E=parseInt(d.wheel.value[1],10);g.value=isNaN(E)?"":E.toString(16),m.value=g.value.toString(),e.value=d.wheel.value[2].toString()}else d.wheel.value[0]===0&&(c.value=!1,T());c.value=!1}},be=()=>{console.log("3333"),c.value||(d.wheel.value=[0,2,2,2,0]),i()},i=()=>{if(console.log("1111111"),!c.value)d.wheel.value=[0,2,2,2,0];else if(n.value==="1"||n.value==="2"||n.value==="4")d.wheel.value=[parseInt(n.value),parseInt(m.value),parseInt(e.value),parseInt(x.value),parseInt(v.value)];else if(n.value==="3")d.wheel.value=[parseInt(n.value),parseInt(m.value),parseInt(e.value),parseInt(x.value)];else if(n.value==="5"){const E=parseInt(m.value,16);D.value=isNaN(E)?"":E.toString(),d.wheel.value=[parseInt(n.value),parseInt(D.value),parseInt(e.value)]}},I=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],M=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],T=()=>{switch(n.value){case"1":k.value=!0,A.value=!1,_.value=!1,w.value=!1,h.value=!1,i();return;case"2":k.value=!1,A.value=!0,_.value=!1,w.value=!1,h.value=!1,i();return;case"3":k.value=!1,A.value=!1,_.value=!0,w.value=!1,h.value=!1,i();return;case"4":k.value=!1,A.value=!1,_.value=!1,w.value=!0,h.value=!1,i();return;case"5":k.value=!1,A.value=!1,_.value=!1,w.value=!1,h.value=!0,i();return}};O();let oe=0;return ce(X,()=>{const E=Date.now();E-oe>=700&&(O(),oe=E)}),(E,f)=>{const le=fe,N=Ue,V=Q,P=W,G=H;return U(),$("div",null,[l(le,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=s=>c.value=s),onChange:be},{default:t(()=>[r("启用:")]),_:1},8,["modelValue"]),Ee,c.value?(U(),$("div",ze,[(U(),$(ne,null,se(I,(s,q)=>l(N,{key:q,modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=j=>n.value=j),label:s.value,onChange:T},{default:t(()=>[o("pre",null,F(s.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(U(),$("div",Re,[r(" 远程模块连接到: "),(U(),$(ne,null,se(M,(s,q)=>l(N,{key:q,modelValue:m.value,"onUpdate:modelValue":f[2]||(f[2]=j=>m.value=j),label:s.value,onChange:T},{default:t(()=>[o("pre",null,F(s.label),1)]),_:2},1032,["modelValue","label"])),64)),Pe,r(" CAN-POS模块编号: "),l(P,{modelValue:e.value,"onUpdate:modelValue":f[3]||(f[3]=s=>e.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ke,r(" 模块内输出点编号: "),l(P,{modelValue:x.value,"onUpdate:modelValue":f[4]||(f[4]=s=>x.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Be,r(" 信号极性: "),l(P,{modelValue:v.value,"onUpdate:modelValue":f[5]||(f[5]=s=>v.value=s),onChange:i},{default:t(()=>[l(V,{label:"输出高电平有效",value:"0"}),l(V,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),A.value?(U(),$("div",Le,[r(" 远程模块连接到: "),(U(),$(ne,null,se(M,(s,q)=>l(N,{key:q,modelValue:m.value,"onUpdate:modelValue":f[6]||(f[6]=j=>m.value=j),label:s.value,onChange:T},{default:t(()=>[o("pre",null,F(s.label),1)]),_:2},1032,["modelValue","label"])),64)),Fe,r(" CAN-OPEN模块编号: "),l(P,{modelValue:e.value,"onUpdate:modelValue":f[7]||(f[7]=s=>e.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),De,r(" 模块内输出点编号: "),l(P,{modelValue:x.value,"onUpdate:modelValue":f[8]||(f[8]=s=>x.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Je,r(" 信号极性: "),l(P,{modelValue:v.value,"onUpdate:modelValue":f[9]||(f[9]=s=>v.value=s),onChange:i},{default:t(()=>[l(V,{label:"输出高电平有效",value:"0"}),l(V,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),_.value?(U(),$("div",Ye,[r(" 本地IO地址: "),l(G,{modelValue:m.value,"onUpdate:modelValue":f[10]||(f[10]=s=>m.value=s),type:"number",onChange:i},null,8,["modelValue"]),qe,r(" 输出点对应位: "),l(P,{modelValue:e.value,"onUpdate:modelValue":f[11]||(f[11]=s=>e.value=s),onChange:i},{default:t(()=>[l(V,{label:"BIT1",value:"0"}),l(V,{label:"BIT2",value:"1"}),l(V,{label:"BIT3",value:"2"}),l(V,{label:"BIT4",value:"3"}),l(V,{label:"BIT5",value:"4"}),l(V,{label:"BIT6",value:"5"}),l(V,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Xe,r(" 信号极性: "),l(P,{modelValue:x.value,"onUpdate:modelValue":f[12]||(f[12]=s=>x.value=s),onChange:i},{default:t(()=>[l(V,{label:"输出高电平有效",value:"0"}),l(V,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),w.value?(U(),$("div",Ge,[r(" 远程模块连接到: "),(U(),$(ne,null,se(M,(s,q)=>l(N,{key:q,modelValue:m.value,"onUpdate:modelValue":f[13]||(f[13]=j=>m.value=j),label:s.value,onChange:T},{default:t(()=>[o("pre",null,F(s.label),1)]),_:2},1032,["modelValue","label"])),64)),je,r(" CAN-IO模块编号: "),l(P,{modelValue:e.value,"onUpdate:modelValue":f[14]||(f[14]=s=>e.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),He,r(" 模块内输出点编号: "),l(P,{modelValue:x.value,"onUpdate:modelValue":f[15]||(f[15]=s=>x.value=s),onChange:i},{default:t(()=>[l(V,{label:"0",value:"0"}),l(V,{label:"1",value:"1"}),l(V,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Qe,r(" 信号极性: "),l(P,{modelValue:v.value,"onUpdate:modelValue":f[16]||(f[16]=s=>v.value=s),onChange:i},{default:t(()=>[l(V,{label:"输出高电平有效",value:"0"}),l(V,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),h.value?(U(),$("div",We,[r(" 输入点对应位: "),l(G,{modelValue:m.value,"onUpdate:modelValue":f[17]||(f[17]=s=>m.value=s),onChange:i},null,8,["modelValue"]),Ze,r(" 信号极性: "),l(P,{modelValue:e.value,"onUpdate:modelValue":f[18]||(f[18]=s=>e.value=s),onChange:i},{default:t(()=>[l(V,{label:"输出高电平有效",value:"0"}),l(V,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0)])):B("",!0)])}}},z=p(-1),R=p(-1);const pe=u=>(te("data-v-565f089d"),u=u(),ue(),u),el={slot:"footer",class:"dialog-footer"},ll=pe(()=>o("br",null,null,-1)),al=pe(()=>o("h3",null,"安装方向:",-1)),tl={class:"table-container"},ul={class:"left-table"},ol=pe(()=>o("h3",null,"机械参数:",-1)),nl={class:"right-table"},sl=pe(()=>o("h3",null,"伺服参数:",-1)),il={slot:"footer",class:"dialog-footer"},dl="驱动轮",vl="过热检测",rl={__name:"wheel",props:{wheel:{type:String,required:!0}},setup(u){p(["驱动内坐标X","驱动内坐标Y","单元距离(m)","电机减速比","最大转速rpm","码盘线数","速度","加速度","最大转角"]),p(["CAN端口号","CAN-OPEN编号"]);const y=p(!1);p(!1),p(!1),p(!1),p(!1);const d=p(!1),c=()=>{d.value=!1},C=()=>{X.value=!X.value,d.value=!0},n=()=>{y.value=!0},k=()=>{y.value=!1};return(A,_)=>{const w=he,h=we,m=Q,e=W,x=H,v=ye,D=Ie;return U(),$("div",null,[l(w,{type:"primary",onClick:n},{default:t(()=>[r("驱动轮")]),_:1}),l(h,{title:dl,modelValue:y.value,"onUpdate:modelValue":_[16]||(_[16]=g=>y.value=g),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(w,{onClick:C,type:"primary"},{default:t(()=>[r("过热检测")]),_:1}),l(h,{title:vl,modelValue:d.value,"onUpdate:modelValue":_[1]||(_[1]=g=>d.value=g),visible:d.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[o("div",null,[l(me,{wheel:u.wheel.wheel_check},null,8,["wheel"])]),o("div",el,[l(w,{onClick:_[0]||(_[0]=g=>d.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(w,{onClick:c},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  ")]),ll,o("div",null,[al,l(e,{modelValue:u.wheel.install_dir,"onUpdate:modelValue":_[2]||(_[2]=g=>u.wheel.install_dir=g)},{default:t(()=>[l(m,{label:"正向",value:0}),l(m,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",tl,[o("div",ul,[ol,l(D,{ref:"form",model:u.wheel,"label-width":"120px"},{default:t(()=>[l(v,{label:"驱动内坐标X",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.wheel_x,"onUpdate:modelValue":_[3]||(_[3]=g=>u.wheel.wheel_x=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"驱动内坐标Y",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.wheel_y,"onUpdate:modelValue":_[4]||(_[4]=g=>u.wheel.wheel_y=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"车轮直径",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.unit_dis,"onUpdate:modelValue":_[5]||(_[5]=g=>u.wheel.axis.unit_dis=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.ratio,"onUpdate:modelValue":_[6]||(_[6]=g=>u.wheel.axis.ratio=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.encoder,"onUpdate:modelValue":_[7]||(_[7]=g=>u.wheel.axis.encoder=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"最大转速",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.max_rpm,"onUpdate:modelValue":_[8]||(_[8]=g=>u.wheel.axis.max_rpm=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"加速度",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.acc_vel,"onUpdate:modelValue":_[9]||(_[9]=g=>u.wheel.axis.acc_vel=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),J(l(v,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.Target,"onUpdate:modelValue":_[10]||(_[10]=g=>u.wheel.axis.Target=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(z)===0||b(z)===1]])]),_:1},8,["model"])]),o("div",nl,[sl,l(D,{ref:"form",model:u.wheel,"label-width":"130px"},{default:t(()=>[J(l(v,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canport_id,"onUpdate:modelValue":_[11]||(_[11]=g=>u.wheel.servo.canport_id=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(z)===2||b(z)===3||b(z)===4||b(z)===5]]),J(l(v,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.can_id,"onUpdate:modelValue":_[12]||(_[12]=g=>u.wheel.servo.can_id=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(z)===0||b(z)===1]]),J(l(v,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canposunit_id,"onUpdate:modelValue":_[13]||(_[13]=g=>u.wheel.servo.canposunit_id=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(z)===0||b(z)===1]]),J(l(v,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canopenunit_id,"onUpdate:modelValue":_[14]||(_[14]=g=>u.wheel.servo.canopenunit_id=g),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(z)===2||b(z)===3||b(z)===4||b(z)===5]])]),_:1},8,["model"])])])]),o("div",il,[l(w,{onClick:_[15]||(_[15]=g=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(w,{onClick:k},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},_l=ae(rl,[["__scopeId","data-v-565f089d"]]);const ee=u=>(te("data-v-f7ec85d9"),u=u(),ue(),u),ml=ee(()=>o("h3",null,"安装方向:",-1)),cl={class:"table-container"},hl={class:"left-table"},wl=ee(()=>o("h3",null,"机械参数:",-1)),fl={class:"right-table"},pl=ee(()=>o("h3",null,"伺服参数:",-1)),bl=ee(()=>o("h3",null,"舵绝对码盘:",-1)),xl={key:0},gl=ee(()=>o("h3",null,"舵角校正:",-1)),Vl=ee(()=>o("br",null,null,-1)),yl={slot:"footer",class:"dialog-footer"},Il="驱动轮",kl={__name:"steer",props:{steer:{type:String,required:!0}},setup(u){const y=p(!1);p(!1),p(!1),p(!1),p(!1),p(!1);const d=()=>{y.value=!0},c=()=>{y.value=!1};return(C,n)=>{const k=he,A=Q,_=W,w=H,h=ye,m=Ie,e=fe,x=we;return U(),$("div",null,[l(k,{type:"primary",onClick:d},{default:t(()=>[r("转舵机构")]),_:1}),l(x,{title:Il,modelValue:y.value,"onUpdate:modelValue":n[19]||(n[19]=v=>y.value=v),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[ml,l(_,{modelValue:u.steer.install_dir,"onUpdate:modelValue":n[0]||(n[0]=v=>u.steer.install_dir=v)},{default:t(()=>[l(A,{label:"正向",value:0}),l(A,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",cl,[o("div",hl,[wl,l(m,{ref:"form",model:u.steer,"label-width":"120px"},{default:t(()=>[l(h,{label:"单元距离",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.unit_dis,"onUpdate:modelValue":n[1]||(n[1]=v=>u.steer.axis.unit_dis=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.ratio,"onUpdate:modelValue":n[2]||(n[2]=v=>u.steer.axis.ratio=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.encoder,"onUpdate:modelValue":n[3]||(n[3]=v=>u.steer.axis.encoder=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"最大角度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.max_poserr_limit,"onUpdate:modelValue":n[4]||(n[4]=v=>u.steer.axis.max_poserr_limit=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"角加速度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.acc_vel,"onUpdate:modelValue":n[5]||(n[5]=v=>u.steer.axis.acc_vel=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"角速度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.vel,"onUpdate:modelValue":n[6]||(n[6]=v=>u.steer.axis.vel=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),J(l(h,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.Target,"onUpdate:modelValue":n[7]||(n[7]=v=>u.steer.axis.Target=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(R)===0||b(R)===1]])]),_:1},8,["model"])]),o("div",fl,[pl,l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[J(l(h,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canport_id,"onUpdate:modelValue":n[8]||(n[8]=v=>u.steer.servo.canport_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(R)===2||b(R)===3||b(R)===4||b(R)===5]]),J(l(h,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.can_id,"onUpdate:modelValue":n[9]||(n[9]=v=>u.steer.servo.can_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(R)===0||b(R)===1]]),J(l(h,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canposunit_id,"onUpdate:modelValue":n[10]||(n[10]=v=>u.steer.servo.canposunit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(R)===0||b(R)===1]]),J(l(h,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canopenunit_id,"onUpdate:modelValue":n[11]||(n[11]=v=>u.steer.servo.canopenunit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Y,b(R)===2||b(R)===3||b(R)===4||b(R)===5]])]),_:1},8,["model"])])]),bl,l(e,{modelValue:u.steer.use_absolute_encoder,"onUpdate:modelValue":n[12]||(n[12]=v=>u.steer.use_absolute_encoder=v)},{default:t(()=>[r("启用舵绝对码盘")]),_:1},8,["modelValue"]),u.steer.use_absolute_encoder?(U(),$("div",xl,[l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(h,{label:"码盘CAN端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_canport_id,"onUpdate:modelValue":n[13]||(n[13]=v=>u.steer.absolute_encoder_canport_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘模块编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_unit_id,"onUpdate:modelValue":n[14]||(n[14]=v=>u.steer.absolute_encoder_unit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘最大值",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_max,"onUpdate:modelValue":n[15]||(n[15]=v=>u.steer.absolute_encoder_max=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"零位码盘值",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_zero,"onUpdate:modelValue":n[16]||(n[16]=v=>u.steer.absolute_encoder_zero=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):B("",!0),gl,Vl,l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(h,{label:"零位索引偏差",style:{width:"45%"}},{default:t(()=>[l(w,{modelValue:u.steer.home_offset,"onUpdate:modelValue":n[17]||(n[17]=v=>u.steer.home_offset=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),o("div",yl,[l(k,{onClick:n[18]||(n[18]=v=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(k,{onClick:c},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Cl=ae(kl,[["__scopeId","data-v-f7ec85d9"]]);const K=u=>(te("data-v-09f89711"),u=u(),ue(),u),Ul=K(()=>o("br",null,null,-1)),$l=K(()=>o("br",null,null,-1)),Sl=K(()=>o("br",null,null,-1)),Al=K(()=>o("h3",null,"安装位置:",-1)),Nl=K(()=>o("br",null,null,-1)),Ml=K(()=>o("br",null,null,-1)),Tl=K(()=>o("h3",null,"驱动类型:",-1)),Ol=K(()=>o("br",null,null,-1)),El=K(()=>o("br",null,null,-1)),zl={style:{display:"flex","margin-left":"12%"}},Rl={key:0},Pl={key:1},Kl=K(()=>o("br",null,null,-1)),Bl={slot:"footer",class:"dialog-footer"},Ll={slot:"footer",class:"dialog-footer"},Fl={slot:"footer",class:"dialog-footer"},Dl=K(()=>o("br",null,null,-1)),Jl=K(()=>o("br",null,null,-1)),Yl={slot:"footer",class:"dialog-footer"},ql=K(()=>o("br",null,null,-1)),Xl="驱动单元",Gl={__name:"selectfive",setup(u){const y=p(!1),d=p(!1),c=p(!1),C=()=>{X.value=!X.value,y.value=!0},n=()=>{O(),y.value=!1},k=()=>{X.value=!X.value,d.value=!0},A=()=>{O(),d.value=!1},_=()=>{X.value=!X.value,c.value=!0},w=()=>{O(),c.value=!1},h=()=>{R.value=e.value.steer.servo_type},m=()=>{z.value=e.value.wheel.servo_type},e=p({name:"",install_x:0,install_y:0,use_wheel:!1,use_steer:!1,editingIndex:-1,drive_type:0,wheel:{install_dir:0,servo_type:0,wheel_x:0,wheel_y:0,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},wheel_check:[0,2,2,2,0]},steer:{install_dir:0,servo_type:0,use_absolute_encoder:!1,absolute_encoder_canport_id:0,absolute_encoder_unit_id:0,absolute_encoder_max:16777216,absolute_encoder_zero:16777e3,home_offset:54,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},unclockwise_limit_switch:[2,2,1,0,0],clockwise_limit_switch:[2,2,1,1,0],zero_limit_switch:[2,2,1,2,0]}}),x=p(!1),v=()=>{e.value.name="",e.value.install_x=0,e.value.install_y=0,e.value.use_wheel=!1,e.value.use_steer=!1,e.value.drive_type=0,e.value.steer.home_offset=54,e.value.steer.use_absolute_encoder=!1,e.value.steer.absolute_encoder_canport_id=0,e.value.steer.absolute_encoder_unit_id=0,e.value.steer.absolute_encoder_max=16777216,e.value.steer.absolute_encoder_zero=16777e3,e.value.steer.servo_type=0,e.value.steer.install_dir=0,e.value.steer.unclockwise_limit_switch=[2,2,1,0,0],e.value.steer.clockwise_limit_switch=[2,2,1,1,0],e.value.steer.zero_limit_switch=[2,2,1,2,0],e.value.steer.axis.unit_dis=6.28,e.value.steer.axis.encoder=2500,e.value.steer.axis.max_rpm=0,e.value.steer.axis.Target=0,e.value.steer.axis.max_poserr_limit=0,e.value.steer.axis.vel=1,e.value.steer.axis.acc_vel=.3,e.value.steer.axis.ratio=20,e.value.steer.servo.canport_id=0,e.value.steer.servo.canposunit_id=0,e.value.steer.servo.canopenunit_id=0,e.value.steer.servo.can_id=11,e.value.editingIndex=-1,e.value.wheel.wheel_check=[0,2,2,2,0],e.value.wheel.install_dir=0,e.value.wheel.wheel_x=0,e.value.wheel.wheel_y=0,e.value.wheel.servo_type=0,e.value.wheel.axis.unit_dis=0,e.value.wheel.axis.encoder=2500,e.value.wheel.axis.max_rpm=0,e.value.wheel.axis.Target=0,e.value.wheel.axis.max_poserr_limit=0,e.value.wheel.axis.vel=1,e.value.wheel.axis.acc_vel=.3,e.value.wheel.axis.ratio=20,e.value.wheel.servo.canport_id=0,e.value.wheel.servo.canposunit_id=0,e.value.wheel.servo.canopenunit_id=0,e.value.wheel.servo.can_id=11,console.log(a),x.value=!0},D=i=>{e.value.name=a.value[i].name,e.value.editingIndex=i,e.value.install_x=a.value[i].install_x,e.value.install_y=a.value[i].install_y,e.value.use_wheel=a.value[i].use_wheel,e.value.drive_type=a.value[i].drive_type,e.value.wheel.wheel_check=a.value[i].wheel.wheel_check,e.value.wheel.install_dir=a.value[i].wheel.install_dir,e.value.wheel.wheel_x=a.value[i].wheel.wheel_x,e.value.wheel.wheel_y=a.value[i].wheel.wheel_y,e.value.wheel.axis.unit_dis=a.value[i].wheel.axis.unit_dis,e.value.wheel.axis.encoder=a.value[i].wheel.axis.encoder,e.value.wheel.axis.max_rpm=a.value[i].wheel.axis.max_rpm,e.value.wheel.axis.Target=a.value[i].wheel.axis.Target,e.value.wheel.axis.max_poserr_limit=a.value[i].wheel.axis.max_poserr_limit,e.value.wheel.axis.vel=a.value[i].wheel.axis.vel,e.value.wheel.axis.acc_vel=a.value[i].wheel.axis.acc_vel,e.value.wheel.axis.ratio=a.value[i].wheel.axis.ratio,e.value.wheel.servo.canport_id=a.value[i].wheel.servo.canport_id,e.value.wheel.servo.canposunit_id=a.value[i].wheel.servo.canposunit_id,e.value.wheel.servo.canopenunit_id=a.value[i].wheel.servo.canopenunit_id,e.value.wheel.servo.can_id=a.value[i].wheel.servo.can_id,e.value.steer.axis.unit_dis=a.value[i].steer.axis.unit_dis,e.value.steer.axis.encoder=a.value[i].steer.axis.encoder,e.value.steer.axis.max_rpm=a.value[i].steer.axis.max_rpm,e.value.steer.axis.Target=a.value[i].steer.axis.Target,e.value.steer.axis.max_poserr_limit=a.value[i].steer.axis.max_poserr_limit,e.value.steer.axis.vel=a.value[i].steer.axis.vel,e.value.steer.axis.acc_vel=a.value[i].steer.axis.acc_vel,e.value.steer.axis.ratio=a.value[i].steer.axis.ratio,e.value.steer.servo.canport_id=a.value[i].steer.servo.canport_id,e.value.steer.servo.canposunit_id=a.value[i].steer.servo.canposunit_id,e.value.steer.servo.canopenunit_id=a.value[i].steer.servo.canopenunit_id,e.value.steer.servo.can_id=a.value[i].steer.servo.can_id,e.value.wheel.servo_type=a.value[i].wheel.servo_type,e.value.use_steer=a.value[i].use_steer,e.value.steer.home_offset=a.value[i].steer.home_offset,e.value.steer.use_absolute_encoder=a.value[i].steer.use_absolute_encoder,e.value.steer.absolute_encoder_canport_id=a.value[i].steer.absolute_encoder_canport_id,e.value.steer.absolute_encoder_unit_id=a.value[i].steer.absolute_encoder_unit_id,e.value.steer.absolute_encoder_max=a.value[i].steer.absolute_encoder_max,e.value.steer.absolute_encoder_zero=a.value[i].steer.absolute_encoder_zero,e.value.steer.servo_type=a.value[i].steer.servo_type,e.value.steer.install_dir=a.value[i].steer.install_dir,e.value.steer.unclockwise_limit_switch=a.value[i].steer.unclockwise_limit_switch,console.log("333333,",a.value[i].steer.unclockwise_limit_switch),console.log("2222222,",e.value.steer.unclockwise_limit_switch),e.value.steer.clockwise_limit_switch=a.value[i].steer.clockwise_limit_switch,e.value.steer.zero_limit_switch=a.value[i].steer.zero_limit_switch,z.value=e.value.wheel.servo_type,R.value=e.value.steer.servo_type,console.log(a),x.value=!0},g=()=>{if(e.value.name){if(e.value.editingIndex!==-1)a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value,console.log("111111111",a.value[e.value.editingIndex].steer.unclockwise_limit_switch)),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir,S.value.Kinematic.drive=a,console.log(a);else{e.value.wheel.wheel_check.value!==void 0&&(e.value.wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(e.value.steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(e.value.steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(e.value.steer.zero_limit_switch=e.value.steer.zero_limit_switch.value);const i={...e.value};a.value.push(JSON.parse(JSON.stringify(i))),S.value.Kinematic.drive=a,console.log(a)}x.value=!1}else $e.error("请填写完整数据")},O=()=>{e.value.editingIndex!==-1?(a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value,console.log("111111111",a.value[e.value.editingIndex].steer.unclockwise_limit_switch)),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir):(e.value.wheel.wheel_check.value!==void 0&&(e.value.wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(e.value.steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(e.value.steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(e.value.steer.zero_limit_switch=e.value.steer.zero_limit_switch.value)),S.value.Kinematic.drive=a},be=i=>{console.log("11111",i),a.value.splice(i,1)};return(i,I)=>{const M=he,T=ge,oe=Ve,E=H,f=ye,le=Ie,N=Q,V=W,P=fe,G=we;return U(),$("div",null,[l(oe,{data:b(a),style:{width:"100%"},class:"tableDataCrtl"},{default:t(()=>[l(T,{prop:"name",label:"名称"},{default:t(s=>[l(M,{type:"text",onClick:q=>D(s.$index)},{default:t(()=>[r(F(b(a)[s.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),l(T,{label:"驱动类型"},{default:t(s=>[r(F(b(S).Kinematic.drive[s.$index].drive_type==0?"普通驱动类型":"差速驱动类型"),1)]),_:1}),l(T,{label:"车体坐标X(m)"},{default:t(s=>[r(F(b(S).Kinematic.drive[s.$index].install_x),1)]),_:1}),l(T,{label:"车体坐标Y(m)"},{default:t(s=>[r(F(b(S).Kinematic.drive[s.$index].install_y),1)]),_:1}),l(T,{label:"操作"},{default:t(s=>[l(M,{type:"danger",onClick:q=>be(s.$index)},{default:t(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Ul,l(M,{type:"primary",onClick:v},{default:t(()=>[r("添加驱动单元")]),_:1}),l(G,{title:Xl,modelValue:x.value,"onUpdate:modelValue":I[15]||(I[15]=s=>x.value=s),visible:x.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[l(_e,{height:"100%",showUpBt:!0},{default:t(()=>[$l,l(le,{ref:"form",model:e.value,"label-width":"80px"},{default:t(()=>[l(f,{label:"名称"},{default:t(()=>[l(E,{modelValue:e.value.name,"onUpdate:modelValue":I[0]||(I[0]=s=>e.value.name=s),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l(le,{ref:"form",model:e.value,"label-width":"200px"},{default:t(()=>[Sl,Al,Nl,l(f,{label:"车体坐标系坐标X(m):"},{default:t(()=>[l(E,{modelValue:e.value.install_x,"onUpdate:modelValue":I[1]||(I[1]=s=>e.value.install_x=s),modelModifiers:{number:!0},type:"number",onChange:i.AGVpos},null,8,["modelValue","onChange"])]),_:1}),l(f,{label:"车体坐标系坐标Y(m):"},{default:t(()=>[l(E,{modelValue:e.value.install_y,"onUpdate:modelValue":I[2]||(I[2]=s=>e.value.install_y=s),modelModifiers:{number:!0},type:"number",onChange:i.AGVpos},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model"]),Ml,l(le,{"label-width":"120px"},{default:t(()=>[Tl,Ol,l(f,{label:"类型:"},{default:t(()=>[l(V,{modelValue:e.value.drive_type,"onUpdate:modelValue":I[3]||(I[3]=s=>e.value.drive_type=s),placeholder:"请选择"},{default:t(()=>[l(N,{label:"普通驱动类型",value:0}),l(N,{label:"差速驱动类型",value:1})]),_:1},8,["modelValue"]),El]),_:1}),l(f,{label:"安装有驱动轮:"},{default:t(()=>[l(P,{modelValue:e.value.use_wheel,"onUpdate:modelValue":I[4]||(I[4]=s=>e.value.use_wheel=s),onChange:m},{default:t(()=>[r("      ")]),_:1},8,["modelValue"]),r(" 驱动伺服类型   "),l(V,{modelValue:e.value.wheel.servo_type,"onUpdate:modelValue":I[5]||(I[5]=s=>e.value.wheel.servo_type=s),placeholder:"请选择",disabled:!e.value.use_wheel,onChange:m},{default:t(()=>[l(N,{label:"普通MCU",value:0}),l(N,{label:"差速MCU",value:1}),l(N,{label:"Elmo伺服",value:2}),l(N,{label:"步科伺服",value:3}),l(N,{label:"Motec伺服",value:4}),l(N,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"])]),_:1}),l(f,{label:"安装有转舵机构:"},{default:t(()=>[l(P,{modelValue:e.value.use_steer,"onUpdate:modelValue":I[6]||(I[6]=s=>e.value.use_steer=s),onChange:h},{default:t(()=>[r("      ")]),_:1},8,["modelValue"]),r(" 驱动伺服类型   "),l(V,{modelValue:e.value.steer.servo_type,"onUpdate:modelValue":I[7]||(I[7]=s=>e.value.steer.servo_type=s),placeholder:"请选择",disabled:!e.value.use_steer,onChange:h},{default:t(()=>[l(N,{label:"普通MCU",value:0}),l(N,{label:"差速MCU",value:1}),l(N,{label:"Elmo伺服",value:2}),l(N,{label:"步科伺服",value:3}),l(N,{label:"Motec伺服",value:4}),l(N,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"])]),_:1}),o("div",zl,[e.value.use_wheel?(U(),$("div",Rl,[l(_l,{wheel:e.value.wheel,onChange:O},null,8,["wheel"])])):B("",!0),r("      "),e.value.use_steer?(U(),$("div",Pl,[l(Cl,{steer:e.value.steer,onChange:O},null,8,["steer"]),Kl,l(M,{onClick:C,type:"primary"},{default:t(()=>[r("限位开关1")]),_:1}),l(G,{title:"限位开关1",modelValue:y.value,"onUpdate:modelValue":I[9]||(I[9]=s=>y.value=s),visible:y.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.unclockwise_limit_switch},null,8,["wheel"])]),o("div",Bl,[l(M,{onClick:I[8]||(I[8]=s=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(M,{onClick:n},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  "),l(M,{onClick:k,type:"primary"},{default:t(()=>[r("限位开关2")]),_:1}),l(G,{title:"限位开关2",modelValue:d.value,"onUpdate:modelValue":I[11]||(I[11]=s=>d.value=s),visible:d.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.clockwise_limit_switch},null,8,["wheel"])]),o("div",Ll,[l(M,{onClick:I[10]||(I[10]=s=>d.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(M,{onClick:A},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  "),l(M,{onClick:_,type:"primary"},{default:t(()=>[r("零位开关")]),_:1}),l(G,{title:"零位开关",modelValue:c.value,"onUpdate:modelValue":I[13]||(I[13]=s=>c.value=s),visible:c.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.zero_limit_switch},null,8,["wheel"])]),o("div",Fl,[l(M,{onClick:I[12]||(I[12]=s=>c.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(M,{onClick:w},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r(" "),Dl])):B("",!0)])]),_:1}),Jl,o("div",Yl,[l(M,{onClick:I[14]||(I[14]=s=>x.value=!1),style:{"margin-left":"75%"}},{default:t(()=>[r("取 消")]),_:1}),l(M,{type:"primary",onClick:g},{default:t(()=>[r("确定")]),_:1})]),ql]),_:1})]),_:1},8,["modelValue","visible"])])}}},jl=ae(Gl,[["__scopeId","data-v-09f89711"]]);const ke=u=>(te("data-v-0b8bed30"),u=u(),ue(),u),Hl={style:{"margin-left":"2%"}},Ql=ke(()=>o("br",null,null,-1)),Wl=ke(()=>o("br",null,null,-1)),Zl=ke(()=>o("br",null,null,-1)),ea={__name:"Kinematic",setup(u){const y=p(!0),d=p(!1),c=p(!1),C=p(!1),n=p(!1),k=()=>{Z.value?(S.value.Kinematic.delay.need_delay_time=!0,S.value.Kinematic.delay.servoenable_delay_time=parseInt(ve.value),S.value.Kinematic.delay.servospeed_delay_time=parseInt(re.value)):(S.value.Kinematic.delay.need_delay_time=!1,S.value.Kinematic.delay.servoenable_delay_time=200,S.value.Kinematic.delay.servospeed_delay_time=200)};return ce(Ce,()=>{switch(Ce.value){case"1":y.value=!0,d.value=!1,c.value=!1,C.value=!1,n.value=!1,S.value.Kinematic.type=1;return;case"2":y.value=!1,d.value=!0,c.value=!1,C.value=!1,n.value=!1,S.value.Kinematic.type=2;return;case"3":y.value=!1,d.value=!1,c.value=!0,C.value=!1,n.value=!1,S.value.Kinematic.type=3;return;case"4":y.value=!1,d.value=!1,c.value=!1,C.value=!0,n.value=!1,S.value.Kinematic.type=4;return;case"5":y.value=!1,d.value=!1,c.value=!1,C.value=!1,n.value=!0,S.value.Kinematic.type=5;return}}),(_,w)=>{const h=fe,m=H;return U(),$("div",null,[o("div",Hl,[Ql,l(h,{modelValue:b(Z),"onUpdate:modelValue":w[0]||(w[0]=e=>xe(Z)?Z.value=e:null),onChange:k},{default:t(()=>[r("轮或舵因伺服响应慢需要设置延时时间")]),_:1},8,["modelValue"]),Wl,r(" 使能前延时时间(ms):"),l(m,{modelValue:b(ve),"onUpdate:modelValue":w[1]||(w[1]=e=>xe(ve)?ve.value=e:null),disabled:!b(Z),type:"number",style:{width:"10%"},onChange:k},null,8,["modelValue","disabled"]),r(" 给定前延时时间(ms):"),l(m,{modelValue:b(re),"onUpdate:modelValue":w[2]||(w[2]=e=>xe(re)?re.value=e:null),disabled:!b(Z),type:"number",style:{width:"10%"},onChange:k},null,8,["modelValue","disabled"])]),Zl,o("div",null,[l(jl)])])}}},la=ae(ea,[["__scopeId","data-v-0b8bed30"]]);const L=u=>(te("data-v-9ca1b7e4"),u=u(),ue(),u),aa={class:"page-container main-view"},ta={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},ua={class:"left"},oa=L(()=>o("hr",{class:"hengxian"},null,-1)),na={class:"left"},sa=L(()=>o("h2",null,"⚠️ 驱动模型：",-1)),ia=L(()=>o("hr",{class:"hengxian2"},null,-1)),da=L(()=>o("h3",null,"⚠️ 车体模型",-1)),va={key:0},ra=L(()=>o("hr",{class:"hengxian3"},null,-1)),_a=L(()=>o("h3",null,"⚠️ 运行参数",-1)),ma=L(()=>o("br",null,null,-1)),ca={key:1},ha=L(()=>o("br",null,null,-1)),wa=L(()=>o("span",{class:"title"},"🔖 手动参数:",-1)),fa=L(()=>o("br",null,null,-1)),pa=L(()=>o("br",null,null,-1)),ba={key:2},xa=L(()=>o("hr",{class:"hengxian2"},null,-1)),ga={__name:"wheelmode",setup(u){const y=p(!1),d=()=>{y.value=!0},c=p(!1),C=p(!0),n=p(!0),k=p(!0),A=Se(()=>JSON.stringify(S.value,null,2)),_=()=>{c.value=!0},w=()=>{router.push("/main/param/index")},h=()=>{router.push("/main/third")};return(m,e)=>{const x=he,v=we,D=Q,g=W;return U(),$("div",null,[o("div",aa,[o("div",ta,[l(_e,{height:"100%",showUpBt:!0},{default:t(()=>[o("div",ua,[l(x,{type:"info",onClick:d},{default:t(()=>[r(" 查看设备 ")]),_:1}),l(v,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=O=>y.value=O),title:"设备总览",visible:y.value,width:"900px",onClose:e[1]||(e[1]=O=>y.value=!1)},{default:t(()=>[l(_e,{height:"100%",showUpBt:!0},{default:t(()=>[l(Me)]),_:1})]),_:1},8,["modelValue","visible"]),r("   "),l(x,{type:"info",onClick:_},{default:t(()=>[r(" 查看 ")]),_:1}),l(v,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=O=>c.value=O),title:"数据",visible:c.value,onClose:e[3]||(e[3]=O=>c.value=!1)},{default:t(()=>[l(_e,{height:"100%",showUpBt:!0},{default:t(()=>[o("pre",null,F(A.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),r("   "),l(x,{type:"primary",onClick:w},{default:t(()=>[r("上一步")]),_:1}),l(x,{type:"primary",onClick:h},{default:t(()=>[r("下一步")]),_:1})]),oa,o("div",na,[sa,r(" 配置车体驱动模型  车型: "),l(g,{modelValue:b(S).car_type,"onUpdate:modelValue":e[4]||(e[4]=O=>b(S).car_type=O)},{default:t(()=>[l(D,{label:"货架车",value:0}),l(D,{label:"V型槽",value:1})]),_:1},8,["modelValue"]),ia,da,k.value?(U(),$("div",va,[l(la)])):B("",!0),ra,_a,ma,n.value?(U(),$("div",ca,[l(Oe)])):B("",!0),ha,wa,fa,pa,C.value?(U(),$("div",ba,[l(Te)])):B("",!0)]),xa]),_:1})])])])}}},Ya=ae(ga,[["__scopeId","data-v-9ca1b7e4"]]);export{Ya as default};
