import{_ as O,aV as E,o as y,c as b,b as e,f as t,m as d,bl as _,a,cj as z,l as D,E as B,p as T,q as L,Q as H,g as j,bc as P,aC as N}from"./index-caff8e60.js";import{E as J,a as A}from"./el-table-column-8c0ff588.js";import"./el-tag-04477fc1.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-43a958b5.js";import"./el-scrollbar-1cd9d3fa.js";import{E as F}from"./el-dialog-7f1b612f.js";import{o as $,j as w,O as Q}from"./commondata-623c24f6.js";/* empty css                */import{E as G,a as K}from"./el-form-item-23f7055a.js";import{E as W}from"./el-switch-0138217b.js";import{_ as X}from"./check-2cad6716.js";import"./index-ed56ac9a.js";import"./debounce-21948476.js";const Y=p=>(T("data-v-005379d3"),p=p(),L(),p),Z=Y(()=>a("br",null,null,-1)),ee={slot:"footer",class:"dialog-footer"},le="添加数据",te={__name:"function",setup(p){let n=E({name:"",des:"",key:"",value:!1});const v=E(!1),g=(m,o)=>{const u=w.value.function.find(f=>f.key===o.key);u&&(u.value=o.value)},k=()=>{v.value=!0},V=()=>{if(n.value.name&&n.value.des&&n.value.key){const m={...n.value};w.value.function.push(m),$.value.push(m),v.value=!1}else z.error("请填写完整数据")},I=m=>{const o=w.value.function.findIndex(f=>f.key===m.key);o!==-1&&w.value.function.splice(o,1);const u=$.value.indexOf(m);u!==-1&&$.value.splice(u,1)};return(m,o)=>{const u=J,f=W,x=D,R=A,U=B,h=G,s=K,i=F;return y(),b("div",null,[e(R,{data:_($),style:{width:"100%"}},{default:t(()=>[e(u,{prop:"name",label:"名称"}),e(u,{prop:"des",label:"说明"}),e(u,{prop:"key",label:"英文名"}),e(u,{prop:"value",label:"是否启用"},{default:t(l=>[e(f,{modelValue:l.row.value,"onUpdate:modelValue":C=>l.row.value=C,"active-value":!0,"inactive-value":!1,onChange:C=>g(l.$index,l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(u,{label:"操作"},{default:t(l=>[e(x,{type:"danger",onClick:C=>I(l.row)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Z,e(x,{type:"primary",onClick:k},{default:t(()=>[d("添加新数据")]),_:1}),e(i,{title:le,modelValue:v.value,"onUpdate:modelValue":o[5]||(o[5]=l=>v.value=l),visible:v.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[e(s,{ref:"form",model:_(n),"label-width":"80px"},{default:t(()=>[e(h,{label:"名称"},{default:t(()=>[e(U,{modelValue:_(n).name,"onUpdate:modelValue":o[0]||(o[0]=l=>_(n).name=l),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(h,{label:"说明"},{default:t(()=>[e(U,{modelValue:_(n).des,"onUpdate:modelValue":o[1]||(o[1]=l=>_(n).des=l),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(h,{label:"英文名"},{default:t(()=>[e(U,{modelValue:_(n).key,"onUpdate:modelValue":o[2]||(o[2]=l=>_(n).key=l),placeholder:"key值"},null,8,["modelValue"])]),_:1}),e(h,{label:"是否启用"},{default:t(()=>[e(f,{modelValue:_(n).value,"onUpdate:modelValue":o[3]||(o[3]=l=>_(n).value=l),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",ee,[e(x,{onClick:o[4]||(o[4]=l=>v.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(x,{type:"primary",onClick:V},{default:t(()=>[d("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ae=O(te,[["__scopeId","data-v-005379d3"]]);const c=p=>(T("data-v-ac7e3e5a"),p=p(),L(),p),oe={class:"page-container main-view"},ne={class:"table-box content-container page-content-box"},se={class:"left"},ue=c(()=>a("hr",{class:"hengxian"},null,-1)),de={class:"left"},ie=c(()=>a("h2",null,"⚠️ 用户配置：",-1)),ce=c(()=>a("hr",{class:"hengxian2"},null,-1)),_e=c(()=>a("h3",null,"⚠️ 功能定制:",-1)),re={key:0},pe={key:1},me=c(()=>a("br",null,null,-1)),ve={key:0},fe=c(()=>a("hr",{class:"hengxian3"},null,-1)),he=c(()=>a("h3",null,"⚠️ 其他:",-1)),ye={key:0},be={key:1},ge=c(()=>a("br",null,null,-1)),ke={key:1},Ve=c(()=>a("hr",{class:"hengxian2"},null,-1)),we=c(()=>a("hr",{class:"kongge"},null,-1)),xe=c(()=>a("hr",{class:"kongge"},null,-1)),Ce=c(()=>a("hr",{class:"kongge"},null,-1)),Ee={__name:"userparm",setup(p){const n=E(!1),v=()=>{n.value=!0},g=E(!1),k=E(!1),V=E(!1),I=(h,s)=>{w.value.other[s.key]=parseInt(s.value)},m=H(()=>JSON.stringify(w.value,null,2)),o=()=>{g.value=!0},u=()=>{V.value=!V.value},f=()=>{k.value=!k.value},x=()=>{router.push("/main/third")},R=()=>{router.push("/main/param/index")},U=()=>{const h=JSON.stringify(w.value),s=new Blob([h],{type:"application/json"}),i=window.URL.createObjectURL(s),l=document.createElement("a");l.href=i,l.download="parm.json",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(i),document.body.removeChild(l)};return(h,s)=>{const i=D,l=F,C=J,M=B,q=A;return y(),b("div",null,[a("div",oe,[a("div",ne,[a("div",se,[e(i,{type:"primary",onClick:v},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(l,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=r=>n.value=r),title:"设备总览",visible:n.value,width:"900px",onClose:s[1]||(s[1]=r=>n.value=!1)},{default:t(()=>[e(X)]),_:1},8,["modelValue","visible"]),d("   "),e(i,{type:"info",onClick:o,plain:""},{default:t(()=>[d(" 查看 ")]),_:1}),e(l,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=r=>g.value=r),title:"数据",visible:g.value,onClose:s[3]||(s[3]=r=>g.value=!1)},{default:t(()=>[a("pre",null,P(m.value),1)]),_:1},8,["modelValue","visible"])]),ue,a("div",de,[ie,d(" 配置用户参数，功能等： "),ce,_e,d(" 配置车体程序功能开关: "),e(i,{onClick:f,type:"text",plain:"",disabled:!1},{default:t(()=>[k.value?(y(),b("span",pe,"展开")):(y(),b("span",re,"展开")),a("span",{class:N({"rotate-arrow":k.value})},"➡️",2)]),_:1}),me,k.value?(y(),b("div",ve,[e(ae)])):j("",!0),fe,he,d(" 控制周期与线程超时保护: "),e(i,{onClick:u,type:"text",plain:"",disabled:!1},{default:t(()=>[V.value?(y(),b("span",be,"展开")):(y(),b("span",ye,"展开")),a("span",{class:N({"rotate-arrow":V.value})},"➡️",2)]),_:1}),ge,V.value?(y(),b("div",ke,[e(q,{data:_(Q),style:{width:"100%"}},{default:t(()=>[e(C,{prop:"name",label:" "}),e(C,{prop:"value",label:" "},{default:t(r=>[e(M,{modelValue:r.row.value,"onUpdate:modelValue":S=>r.row.value=S,placeholder:"请选择",style:{width:"100%"},onChange:S=>I(r.$index,r.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):j("",!0)]),Ve,e(i,{type:"success",onClick:U},{default:t(()=>[d("导出")]),_:1}),we,xe,e(i,{type:"primary",onClick:R},{default:t(()=>[d("返回")]),_:1}),Ce,e(i,{type:"primary",onClick:x},{default:t(()=>[d("上一步")]),_:1})])])])}}},Fe=O(Ee,[["__scopeId","data-v-ac7e3e5a"]]);export{Fe as default};
