import{_ as B,aV as E,o as b,c as y,b as e,f as t,m as d,bl as r,a as o,cj as R,l as L,E as T,p as A,q as J,Q as z,g as O,ck as H,bc as Q,aC as D}from"./index-02639357.js";import{E as P,a as F}from"./el-table-column-343ed821.js";/* empty css                    */import"./el-tag-dc4d0661.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-4a354208.js";import"./el-scrollbar-540daa95.js";import{E as G}from"./el-dialog-4d9a1aad.js";import{p as $,j as g,O as K}from"./commondata-d4726221.js";import{E as W,a as X}from"./el-form-item-d00340a8.js";import{E as Y}from"./el-switch-b57db4f7.js";import{_ as Z}from"./check-8858e936.js";import"./8Array-95410dc0.js";import"./CloneObject-971e04a4.js";import"./index-954f2623.js";import"./isEqual-801b63cc.js";import"./debounce-59d8211e.js";const ee=p=>(A("data-v-005379d3"),p=p(),J(),p),le=ee(()=>o("br",null,null,-1)),te={slot:"footer",class:"dialog-footer"},oe="添加数据",ae={__name:"function",setup(p){let n=E({name:"",des:"",key:"",value:!1});const v=E(!1),k=(m,a)=>{const u=g.value.function.find(f=>f.key===a.key);u&&(u.value=a.value)},V=()=>{v.value=!0},w=()=>{if(n.value.name&&n.value.des&&n.value.key){const m={...n.value};g.value.function.push(m),$.value.push(m),v.value=!1}else R.error("请填写完整数据")},S=m=>{const a=g.value.function.findIndex(f=>f.key===m.key);a!==-1&&g.value.function.splice(a,1);const u=$.value.indexOf(m);u!==-1&&$.value.splice(u,1)};return(m,a)=>{const u=P,f=Y,x=L,I=F,U=T,C=W,h=X,s=G;return b(),y("div",null,[e(I,{data:r($),style:{width:"100%"}},{default:t(()=>[e(u,{prop:"name",label:"名称"}),e(u,{prop:"des",label:"说明"}),e(u,{prop:"key",label:"英文名"}),e(u,{prop:"value",label:"是否启用"},{default:t(l=>[e(f,{modelValue:l.row.value,"onUpdate:modelValue":c=>l.row.value=c,"active-value":!0,"inactive-value":!1,onChange:c=>k(l.$index,l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(u,{label:"操作"},{default:t(l=>[e(x,{type:"danger",onClick:c=>S(l.row)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),le,e(x,{type:"primary",onClick:V},{default:t(()=>[d("添加新数据")]),_:1}),e(s,{title:oe,modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=l=>v.value=l),visible:v.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[e(h,{ref:"form",model:r(n),"label-width":"80px"},{default:t(()=>[e(C,{label:"名称"},{default:t(()=>[e(U,{modelValue:r(n).name,"onUpdate:modelValue":a[0]||(a[0]=l=>r(n).name=l),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(C,{label:"说明"},{default:t(()=>[e(U,{modelValue:r(n).des,"onUpdate:modelValue":a[1]||(a[1]=l=>r(n).des=l),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(C,{label:"英文名"},{default:t(()=>[e(U,{modelValue:r(n).key,"onUpdate:modelValue":a[2]||(a[2]=l=>r(n).key=l),placeholder:"key值"},null,8,["modelValue"])]),_:1}),e(C,{label:"是否启用"},{default:t(()=>[e(f,{modelValue:r(n).value,"onUpdate:modelValue":a[3]||(a[3]=l=>r(n).value=l),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",te,[e(x,{onClick:a[4]||(a[4]=l=>v.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(x,{type:"primary",onClick:w},{default:t(()=>[d("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ne=B(ae,[["__scopeId","data-v-005379d3"]]);const i=p=>(A("data-v-1766abb5"),p=p(),J(),p),se={class:"page-container main-view"},de={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},ue={class:"left"},ie=i(()=>o("hr",{class:"hengxian"},null,-1)),ce={class:"left"},re=i(()=>o("h2",null,"⚠️ 用户配置：",-1)),_e=i(()=>o("hr",{class:"hengxian2"},null,-1)),pe=i(()=>o("h3",null,"⚠️ 功能定制:",-1)),me={key:0},ve={key:1},fe=i(()=>o("br",null,null,-1)),he={key:0},be=i(()=>o("hr",{class:"hengxian3"},null,-1)),ye=i(()=>o("h3",null,"⚠️ 其他:",-1)),ge={key:0},ke={key:1},Ve=i(()=>o("br",null,null,-1)),we={key:1},xe=i(()=>o("hr",{class:"hengxian2"},null,-1)),Ce=i(()=>o("hr",{class:"kongge"},null,-1)),Ee=i(()=>o("hr",{class:"kongge"},null,-1)),Ue=i(()=>o("hr",{class:"kongge"},null,-1)),$e=i(()=>o("hr",{class:"kongge"},null,-1)),Se={__name:"userparm",setup(p){const n=E(!1),v=()=>{n.value=!0},k=E(!1),V=E(!1),w=E(!1),S=(h,s)=>{g.value.other[s.key]=parseInt(s.value)},m=z(()=>JSON.stringify(g.value,null,2)),a=()=>{k.value=!0},u=()=>{w.value=!w.value},f=()=>{V.value=!V.value},x=()=>{router.push("/main/third")},I=()=>{router.push("/main/param/index")},U=()=>{let h={data:{file:"SystemParm.json",value:g.value},group:"siasun",account:"test",password:"123456"};console.log(h),H({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(h)}).then(s=>{R.success("请求成功")}).catch(s=>{R.error("请求失败")}).finally(()=>{})},C=()=>{const h=JSON.stringify(g.value),s=new Blob([h],{type:"application/json"}),l=window.URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download="SystemParm.json",document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)};return(h,s)=>{const l=L,c=G,j=P,M=T,q=F;return b(),y("div",null,[o("div",se,[o("div",de,[o("div",ue,[e(l,{type:"info",onClick:v},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(c,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=_=>n.value=_),title:"设备总览",visible:n.value,width:"900px",onClose:s[1]||(s[1]=_=>n.value=!1)},{default:t(()=>[e(Z)]),_:1},8,["modelValue","visible"]),d("   "),e(l,{type:"info",onClick:a},{default:t(()=>[d(" 查看 ")]),_:1}),e(c,{modelValue:k.value,"onUpdate:modelValue":s[2]||(s[2]=_=>k.value=_),title:"数据",visible:k.value,onClose:s[3]||(s[3]=_=>k.value=!1)},{default:t(()=>[o("pre",null,Q(m.value),1)]),_:1},8,["modelValue","visible"])]),ie,o("div",ce,[re,d(" 配置用户参数，功能等： "),_e,pe,d(" 配置车体程序功能开关: "),e(l,{onClick:f,type:"text",plain:"",disabled:!1},{default:t(()=>[V.value?(b(),y("span",ve,"展开")):(b(),y("span",me,"展开")),o("span",{class:D({"rotate-arrow":V.value})},"➡️",2)]),_:1}),fe,V.value?(b(),y("div",he,[e(ne)])):O("",!0),be,ye,d(" 控制周期与线程超时保护: "),e(l,{onClick:u,type:"text",plain:"",disabled:!1},{default:t(()=>[w.value?(b(),y("span",ke,"展开")):(b(),y("span",ge,"展开")),o("span",{class:D({"rotate-arrow":w.value})},"➡️",2)]),_:1}),Ve,w.value?(b(),y("div",we,[e(q,{data:r(K),style:{width:"100%"}},{default:t(()=>[e(j,{prop:"name",label:" "}),e(j,{prop:"value",label:" "},{default:t(_=>[e(M,{modelValue:_.row.value,"onUpdate:modelValue":N=>_.row.value=N,placeholder:"请选择",style:{width:"100%"},onChange:N=>S(_.$index,_.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):O("",!0)]),xe,e(l,{type:"success",onClick:C},{default:t(()=>[d("导出到本地")]),_:1}),Ce,e(l,{type:"success",onClick:U},{default:t(()=>[d("同步到AGV")]),_:1}),Ee,Ue,e(l,{type:"primary",onClick:I},{default:t(()=>[d("返回")]),_:1}),$e,e(l,{type:"primary",onClick:x},{default:t(()=>[d("上一步")]),_:1})])])])}}},He=B(Se,[["__scopeId","data-v-1766abb5"]]);export{He as default};
