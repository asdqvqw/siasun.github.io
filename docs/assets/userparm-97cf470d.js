import{_ as N,aV as V,o as E,c as S,b as e,f as t,m as _,bl as r,a as c,cv as U,l as R,E as B,p as O,q as D,Q as T,bc as A,g as G,cw as j}from"./index-e9d9a390.js";import{E as F}from"./el-dialog-e6dcfdec.js";import{g as C,j as y,U as q}from"./commondata-cb73180e.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tag-6811016f.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-00a6f91b.js";import"./el-scrollbar-dd4f4c2b.js";import{E as M}from"./el-switch-7439b380.js";import{E as J,a as L}from"./index-ff6fbd62.js";import{E as Q,a as z}from"./index-b20afe74.js";import{_ as H}from"./check-7aff27ff.js";import{_ as I}from"./DefinScrollbar-8b108e6f.js";import"./8Array-aa2669e5.js";import"./CloneObject-91285750.jsort"./index-5caadbca.js";import"./isEqual-a6971c52.js";import"./debounce-263e4bfb.js";import"./el-tab-pane-afa99c2f.js";import"./strings-0751e64e.js";import"./el-card-6e909346.js";/* empty css                                                                       */const K=p=>(O("data-v-4cd4ccff"),p=p(),D(),p),W=K(()=>c("br",null,null,-1)),X={slot:"footer",class:"dialog-footer"},Y="添加数据",Z={__name:"function",setup(p){let o=V({ch_key:"",des:"",en_key:"",value:!1});const m=V(!1),f=(u,l)=>{const i=y.value.FuncSet.find(h=>h.en_key===l.en_key);i&&(i.value=l.value)},b=()=>{m.value=!0},x=()=>{if(o.value.ch_key&&o.value.des&&o.value.en_key){const u={...o.value};y.value.FuncSet.push(u),C.value.push(u),m.value=!1}else U.error("请填写完整数据")},w=u=>{const l=y.value.FuncSet.findIndex(h=>h.en_key===u.en_key);l!==-1&&y.value.FuncSet.splice(l,1);const i=C.value.indexOf(u);i!==-1&&C.value.splice(i,1)};return(u,l)=>{const i=J,h=M,v=R,d=L,n=B,s=Q,g=z,P=F;return E(),S("div",null,[e(d,{data:r(C),style:{width:"100%"},class:"functioncDate"},{default:t(()=>[e(i,{prop:"ch_key",label:"⚠️ 功能定制"}),e(i,{prop:"des",label:"说明"}),e(i,{prop:"en_key",label:"英文名"}),e(i,{prop:"value",label:"是否启用"},{default:t(a=>[e(h,{modelValue:a.row.value,"onUpdate:modelValue":$=>a.row.value=$,"active-value":!0,"inactive-value":!1,onChange:$=>f(a.$index,a.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(i,{label:"操作"},{default:t(a=>[e(v,{type:"danger",onClick:$=>w(a.row)},{default:t(()=>[_("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),W,e(v,{type:"primary",onClick:b},{default:t(()=>[_("添加新数据")]),_:1}),e(P,{title:Y,modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=a=>m.value=a),visible:m.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[e(g,{ref:"form",model:r(o),"label-width":"80px"},{default:t(()=>[e(s,{label:"名称"},{default:t(()=>[e(n,{modelValue:r(o).ch_key,"onUpdate:modelValue":l[0]||(l[0]=a=>r(o).ch_key=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"说明"},{default:t(()=>[e(n,{modelValue:r(o).des,"onUpdate:modelValue":l[1]||(l[1]=a=>r(o).des=a),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(s,{label:"英文名"},{default:t(()=>[e(n,{modelValue:r(o).en_key,"onUpdate:modelValue":l[2]||(l[2]=a=>r(o).en_key=a),placeholder:"en_key值"},null,8,["modelValue"])]),_:1}),e(s,{label:"是否启用"},{default:t(()=>[e(h,{modelValue:r(o).value,"onUpdate:modelValue":l[3]||(l[3]=a=>r(o).value=a),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),c("div",X,[e(v,{onClick:l[4]||(l[4]=a=>m.value=!1)},{default:t(()=>[_("取 消")]),_:1}),e(v,{type:"primary",onClick:x},{default:t(()=>[_("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ee=N(Z,[["__scopeId","data-v-4cd4ccff"]]);const te={__name:"index",setup(p){const o=(m,f)=>{y.value.Password=f.value};return(m,f)=>{const b=J,x=B,w=L;return E(),S("div",null,[e(w,{data:r(q),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(b,{prop:"name",label:"⚠️ 用户权限 "}),e(b,{prop:"value",label:" "},{default:t(u=>[e(x,{modelValue:u.row.value,"onUpdate:modelValue":l=>u.row.value=l,placeholder:"密码",style:{width:"100%"},onChange:l=>o(u.$index,u.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},le=N(te,[["__scopeId","data-v-2b7f1679"]]);const k=p=>(O("data-v-d47f1227"),p=p(),D(),p),oe={class:"page-container main-view"},ae={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},ne={class:"left"},se=k(()=>c("hr",{class:"hengxian"},null,-1)),ue={class:"left"},de=k(()=>c("h2",null,"⚠️ 用户配置：",-1)),ie=k(()=>c("hr",{class:"hengxian2"},null,-1)),_e=k(()=>c("hr",{class:"hengxian3"},null,-1)),ce={key:0},re=k(()=>c("hr",{class:"hengxian2"},null,-1)),pe={__name:"userparm",setup(p){const o=V(!1),m=()=>{o.value=!0},f=V(!1),b=V(!0),x=T(()=>JSON.stringify(y.value,null,2)),w=()=>{f.value=!0},u=()=>{router.push("/main/third")},l=()=>{router.push("/main/param/index")},i=()=>{let v={data:{file:"agvparam.json",value:y.value},group:"siasun",account:"test",password:"123456"};console.log(v),j({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(v)}).then(d=>{U.success("请求成功");var n={type:"syncParm",data:!0};console.log(JSON.stringify(n)),j({method:"post",url:"/api/ctrl/manualdata",data:JSON.stringify(n)}).then(s=>{U.success("同步参数")}).catch(s=>{}).finally(()=>{})}).catch(d=>{U.error("请求失败")}).finally(()=>{})},h=()=>{const v=JSON.stringify(y.value),d=new Blob([v],{type:"application/json"}),n=window.URL.createObjectURL(d),s=document.createElement("a");s.href=n,s.download="SystemParm.json",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s)};return(v,d)=>{const n=R,s=F;return E(),S("div",null,[c("div",oe,[c("div",ae,[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[c("div",ne,[e(n,{type:"info",onClick:m},{default:t(()=>[_(" 查看设备 ")]),_:1}),e(s,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=g=>o.value=g),title:"设备总览",visible:o.value,width:"900px",onClose:d[1]||(d[1]=g=>o.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[e(H)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"info",onClick:w},{default:t(()=>[_(" 查看 ")]),_:1}),e(s,{modelValue:f.value,"onUpdate:modelValue":d[2]||(d[2]=g=>f.value=g),title:"数据",visible:f.value,onClose:d[3]||(d[3]=g=>f.value=!1)},{default:t(()=>[e(I,{height:"100%",showUpBt:!0},{default:t(()=>[c("pre",null,A(x.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"primary",onClick:u},{default:t(()=>[_("上一步")]),_:1}),e(n,{type:"primary",onClick:l},{default:t(()=>[_("返回")]),_:1}),e(n,{type:"success",onClick:i},{default:t(()=>[_("同步到AGV")]),_:1}),e(n,{type:"success",onClick:h},{default:t(()=>[_("导出到本地")]),_:1})]),se,c("div",ue,[de,_(" 配置用户参数，功能等： "),ie,e(le),_e,b.value?(E(),S("div",ce,[e(ee)])):G("",!0)]),re]),_:1})])])])}}},Le=N(pe,[["__scopeId","data-v-d47f1227"]]);export{Le as default};
