import{_ as D,o as l,c as u,b as t,f as d,a as n,F as g,aY as y,bl as Y,l as z,m as v,e as m,bc as A,g as P,E as H,p as J,q as K}from"./index-bf9c25ed.js";import{E as Q}from"./el-card-455b5d51.js";import"./el-tag-73ba4ae8.js";import{E as W,a as X}from"./el-select-d934825e.js";import"./el-scrollbar-90dc6b8e.js";import"./el-popper-401dfcfd.js";import{j as _}from"./commondata-29612e59.js";import"./index-91ce8e36.js";import"./strings-e290ffad.js";import"./isEqual-4a3f5552.js";import"./Uint8Array-18db29ae.js";import"./debounce-a237023a.js";const f=U=>(J("data-v-6dcedcbb"),U=U(),K(),U),Z={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ee={class:"input-group"},le=f(()=>n("label",null,"名称:",-1)),ae={class:"input-group"},oe=f(()=>n("label",null,"类型:",-1)),te={class:"input-group"},ue=f(()=>n("label",null,"IO类型:",-1)),ne={style:{display:"flex","flex-wrap":"wrap",gap:"10px","margin-top":"10px"}},se={class:"button-values"},re={class:"input-group"},de=f(()=>n("label",null,"IO:",-1)),pe={key:0,class:"input-group"},ie=f(()=>n("label",null,"can路数:",-1)),ce={key:1,class:"input-group"},_e={key:0},me={key:1},he={class:"input-group"},ge={key:0},ye={key:1},fe=f(()=>n("br",null,null,-1)),ve={key:2},be={class:"input-group"},Ve=f(()=>n("label",null,"电平:",-1)),ke={style:{display:"flex",gap:"20px","flex-wrap":"nowrap","margin-top":"2%"}},Ue=f(()=>n("strong",null,"近:",-1)),we={class:"button-values"},Ce={class:"input-group"},xe=f(()=>n("label",null,"IO:",-1)),Se={key:0,class:"input-group"},Pe=f(()=>n("label",null,"can路数:",-1)),Le={key:1,class:"input-group"},Oe={key:0},Ne={key:1},Ae={class:"input-group"},Ie={key:0},Ee={key:1},Me=f(()=>n("br",null,null,-1)),$e={key:2},Be={class:"input-group"},Ge=f(()=>n("label",null,"电平:",-1)),je={__name:"index",setup(U){const L=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],O=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],I=()=>{_.value.SafetyLoop.Pls.push({name:"请输入名称",type:0,config:{io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1]}}})},E=o=>{_.value.SafetyLoop.Pls.splice(o,1)},M=o=>{const i=_.value.SafetyLoop.Pls[o];i.type===0&&(i.config={io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]}})},$=o=>{_.value.SafetyLoop.Pls[o].config.io.area.push({area_output:[0,0,0,0,0]})},B=(o,i)=>{_.value.SafetyLoop.Pls[o].config.io.area.splice(i,1)},G=o=>[3,2,5].includes(_.value.SafetyLoop.Pls[o].config.io.near[0]),j=o=>!w(o),w=o=>_.value.SafetyLoop.Pls[o].config.io.near[0]===4,C=o=>_.value.SafetyLoop.Pls[o].config.io.near[0]===1,F=o=>{const i=parseInt(_.value.SafetyLoop.Pls[o].config.io.near[3],16);_.value.SafetyLoop.Pls[o].config.io.near[3]=isNaN(i)?2:parseInt(_.value.SafetyLoop.Pls[o].config.io.near[3],16)},R=(o,i)=>[3,2,5].includes(_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[0]),T=(o,i)=>!w(o),N=(o,i)=>_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[0]===4,x=(o,i)=>_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[0]===1,q=(o,i)=>{const b=parseInt(_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[3],16);_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[3]=isNaN(b)?2:parseInt(_.value.SafetyLoop.Pls[o].config.io.area[i].area_output[3],16)};return(o,i)=>{const b=z,V=H,p=W,h=X,S=Q;return l(),u(g,null,[t(b,{type:"primary",onClick:I,style:{"margin-left":"1vw"}},{default:d(()=>[v("添加卡片")]),_:1}),n("div",Z,[(l(!0),u(g,null,y(Y(_).SafetyLoop.Pls,(s,r)=>(l(),m(S,{key:r,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[n("div",ee,[le,t(V,{modelValue:s.name,"onUpdate:modelValue":e=>s.name=e,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(b,{type:"danger",onClick:e=>E(r)},{default:d(()=>[v("删除")]),_:2},1032,["onClick"])]),n("div",ae,[oe,t(h,{modelValue:s.type,"onUpdate:modelValue":e=>s.type=e,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"},onChange:e=>M(r)},{default:d(()=>[t(p,{label:"IO",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),n("div",null,[n("div",te,[ue,t(h,{modelValue:s.config.io.type,"onUpdate:modelValue":e=>s.config.io.type=e,placeholder:"选择IO类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(p,{label:"正常类型",value:1}),t(p,{label:"互斥类型",value:2}),t(p,{label:"单点切区",value:3}),t(p,{label:"多点切区",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t(S,null,{default:d(()=>[t(b,{type:"success",onClick:e=>$(r),style:{"margin-top":"10px"}},{default:d(()=>[v("添加切区")]),_:2},1032,["onClick"]),n("div",ne,[(l(!0),u(g,null,y(s.config.io.area,(e,c)=>(l(),u("div",{key:c,class:"input-group"},[t(S,{style:{flex:"1","min-width":"150px",padding:"10px"}},{default:d(()=>[n("label",null,"切区 "+A(c+1)+":",1),v(" "+A(e.area_output)+" ",1),t(b,{type:"danger",onClick:a=>B(r,c)},{default:d(()=>[v("删除")]),_:2},1032,["onClick"]),n("div",se,[n("div",re,[de,t(h,{modelValue:e.area_output[0],"onUpdate:modelValue":a=>e.area_output[0]=a,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(),u(g,null,y(L,a=>t(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),R(r,c)?(l(),u("div",pe,[ie,t(h,{modelValue:e.area_output[1],"onUpdate:modelValue":a=>e.area_output[1]=a,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(),u(g,null,y(O,a=>t(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):P("",!0),T(r,c)?(l(),u("div",ce,[x(r,c)?(l(),u("label",_e,"本地IO地址:")):(l(),u("label",me,"模块编号:")),x(r,c)?(l(),m(V,{key:2,modelValue:e.area_output[2],"onUpdate:modelValue":a=>e.area_output[2]=a,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(l(),m(h,{key:3,modelValue:e.area_output[2],"onUpdate:modelValue":a=>e.area_output[2]=a,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:100},(a,k)=>k),a=>(l(),m(p,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):P("",!0),n("div",he,[x(r,c)?(l(),u("label",ge,"输出点对应位:")):N(r,c)?(l(),u("label",ye,[v("输入点对应位:"),fe,v("自动转化")])):(l(),u("label",ve,"模块内输出点编号:")),x(r,c)?(l(),m(h,{key:3,modelValue:e.area_output[3],"onUpdate:modelValue":a=>e.area_output[3]=a,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:10},(a,k)=>k),a=>(l(),m(p,{key:a,label:"bit"+a,value:a},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):N(r,c)?(l(),m(V,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:e.area_output[3],"onUpdate:modelValue":a=>e.area_output[3]=a,modelModifiers:{number:!0},onChange:a=>q(r,c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(l(),m(h,{key:5,modelValue:e.area_output[3],"onUpdate:modelValue":a=>e.area_output[3]=a,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:100},(a,k)=>k),a=>(l(),m(p,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),n("div",be,[Ve,t(h,{modelValue:e.area_output[4],"onUpdate:modelValue":a=>e.area_output[4]=a,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(p,{label:"高",value:1}),t(p,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)]))),128))])]),_:2},1024),n("div",ke,[t(S,{class:"plscard"},{default:d(()=>[Ue,n("div",we,[n("div",Ce,[xe,t(h,{modelValue:s.config.io.near[0],"onUpdate:modelValue":e=>s.config.io.near[0]=e,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(),u(g,null,y(L,e=>t(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),G(r)?(l(),u("div",Se,[Pe,t(h,{modelValue:s.config.io.near[1],"onUpdate:modelValue":e=>s.config.io.near[1]=e,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(),u(g,null,y(O,e=>t(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):P("",!0),j(r)?(l(),u("div",Le,[C(r)?(l(),u("label",Oe,"本地IO地址:")):(l(),u("label",Ne,"模块编号:")),C(r)?(l(),m(V,{key:2,modelValue:s.config.io.near[2],"onUpdate:modelValue":e=>s.config.io.near[2]=e,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(l(),m(h,{key:3,modelValue:s.config.io.near[2],"onUpdate:modelValue":e=>s.config.io.near[2]=e,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:100},(e,c)=>c),e=>(l(),m(p,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):P("",!0),n("div",Ae,[C(r)?(l(),u("label",Ie,"输出点对应位:")):w(r)?(l(),u("label",Ee,[v("输入点对应位:"),Me,v("自动转化")])):(l(),u("label",$e,"模块内输出点编号:")),C(r)?(l(),m(h,{key:3,modelValue:s.config.io.near[3],"onUpdate:modelValue":e=>s.config.io.near[3]=e,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:10},(e,c)=>c),e=>(l(),m(p,{key:e,label:"bit"+e,value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):w(r)?(l(),m(V,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:s.config.io.near[3],"onUpdate:modelValue":e=>s.config.io.near[3]=e,modelModifiers:{number:!0},onChange:e=>F(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(l(),m(h,{key:5,modelValue:s.config.io.near[3],"onUpdate:modelValue":e=>s.config.io.near[3]=e,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(l(!0),u(g,null,y(Array.from({length:100},(e,c)=>c),e=>(l(),m(p,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),n("div",Be,[Ge,t(h,{modelValue:s.config.io.near[4],"onUpdate:modelValue":e=>s.config.io.near[4]=e,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(p,{label:"高",value:1}),t(p,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)])])]),_:2},1024))),128))])],64)}}},Xe=D(je,[["__scopeId","data-v-6dcedcbb"]]);export{Xe as default};
