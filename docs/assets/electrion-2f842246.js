import{aV as g,bB as re,o as C,c as $,b as e,f as l,m as n,F,aY as Y,a as t,bc as G,g as J,E as ne,_ as me,bl as h,cj as ye,l as Se,p as pe,q as fe,e as Pe,Q as Me,aC as Ie}from"./index-2b049fd3.js";import{E as ke}from"./el-dialog-5af9d5d6.js";import{e as W,j as ae,g as ue,h as se,i as ie,k as ee,l as q,m as le,n as te}from"./commondata-fe79c2ea.js";/* empty css                */import{E as he,a as Ue}from"./el-table-column-9edbd126.js";import{E as we}from"./el-tag-2df76fe1.js";import{E as ve,a as de}from"./el-select-db14cece.js";import"./el-scrollbar-1cd9d3fa.js";import"./el-popper-e908ca0c.js";import{E as _e,a as be}from"./el-form-item-2e1171c1.js";import"./el-tooltip-4ed993c7.js";/* empty css                 */import{E as ge}from"./index-18916121.js";import{_ as We}from"./check-e659dfcc.js";import"./index-67aaed3b.js";import"./debounce-adb54932.js";import"./index-248d40a4.js";import"./strings-76a06904.js";const Oe=g(!0),oe=g(!0),V=g({name:"",value:[1,1,1,1,1],editingIndex:-1,isHardBum:!1,pos:7,HardBum:{one:{input:[],output:[]},two:{input:[],output:[]},reset:{input:[],output:[]}}}),Ye=t("br",null,null,-1),ze={key:0},Ke={key:0},Ze=t("br",null,null,-1),el=t("br",null,null,-1),ll=t("br",null,null,-1),al=t("br",null,null,-1),ul={key:1},tl=t("br",null,null,-1),nl=t("br",null,null,-1),ol=t("br",null,null,-1),vl=t("br",null,null,-1),dl={key:2},sl=t("br",null,null,-1),il=t("br",null,null,-1),rl=t("br",null,null,-1),ml={key:3},pl=t("br",null,null,-1),fl=t("br",null,null,-1),_l=t("br",null,null,-1),bl=t("br",null,null,-1),gl={key:4},Vl=t("br",null,null,-1),cl=t("br",null,null,-1),Cl={__name:"IO",setup(L){const o=g("1"),w=g(!0),y=g(!1),x=g(!1),B=g(!1),S=g(!1),r=g(!0),d=g("1"),i=g("1"),_=g("1"),s=g("1"),c=()=>{r.value||(V.value.value=[]),O()},O=()=>{r.value?o.value==="1"||o.value==="2"||o.value==="4"?V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(i.value),parseInt(_.value)]:o.value==="5"&&(V.value.value=[parseInt(o.value),parseInt(d.value),parseInt(i.value)]):V.value.value=[],console.log("generateJSON",V.value.value)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],f=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],P=()=>{console.log("putjson,",V.value.value.value),V.value.value.value!==void 0?V.value.value.value[0]===1||V.value.value.value[0]===2||V.value.value.value[0]===4?(o.value=V.value.value.value[0].toString(),r.value=!0,d.value=V.value.value.value[1].toString(),i.value=V.value.value.value[2].toString(),_.value=V.value.value.value[3].toString(),s.value=V.value.value.value[4].toString(),D()):V.value.value.value[0]===3?(r.value=!0,o.value=V.value.value.value[0].toString(),d.value=V.value.value.value[1].toString(),i.value=V.value.value.value[2].toString(),_.value=V.value.value.value[3].toString(),D()):V.value.value.value[0]===5&&(o.value=V.value.value.value[0].toString(),r.value=!0,d.value=V.value.value.value[1].toString(),i.value=V.value.value.value[2].toString(),D()):V.value.value!==void 0?V.value.value[0]===1||V.value.value[0]===2||V.value.value[0]===4?(o.value=V.value.value[0].toString(),r.value=!0,d.value=V.value.value[1].toString(),i.value=V.value.value[2].toString(),_.value=V.value.value[3].toString(),s.value=V.value.value[4].toString(),D()):V.value.value[0]===3?(r.value=!0,o.value=V.value.value[0].toString(),d.value=V.value.value[1].toString(),i.value=V.value.value[2].toString(),_.value=V.value.value[3].toString(),D()):V.value.value[0]===5&&(o.value=V.value.value[0].toString(),r.value=!0,d.value=V.value.value[1].toString(),i.value=V.value.value[2].toString(),D()):(r.value=!1,D(),console.log("putJSONelse"))},D=()=>{switch(console.log("handleChange",o.value),o.value){case"1":w.value=!0,y.value=!1,x.value=!1,B.value=!1,S.value=!1,O();return;case"2":w.value=!1,y.value=!0,x.value=!1,B.value=!1,S.value=!1,O();return;case"3":w.value=!1,y.value=!1,x.value=!0,B.value=!1,S.value=!1,O();return;case"4":w.value=!1,y.value=!1,x.value=!1,B.value=!0,S.value=!1,O();return;case"5":w.value=!1,y.value=!1,x.value=!1,B.value=!1,S.value=!0,O();return}};P();let A=0;return re(Oe,()=>{const I=Date.now();I-A>=700&&(P(),A=I)}),(I,b)=>{const a=we,k=ge,m=ve,u=de,U=ne;return C(),$("div",null,[e(a,{modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=p=>r.value=p),onChange:c},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Ye,r.value?(C(),$("div",ze,[(C(),$(F,null,Y(j,(p,v)=>e(k,{key:v,modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=M=>o.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),w.value?(C(),$("div",Ke,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),Ze,n(" CAN-POS模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[3]||(b[3]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),el,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[4]||(b[4]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ll,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[5]||(b[5]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),al])):J("",!0),y.value?(C(),$("div",ul,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[6]||(b[6]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),tl,n(" CAN-OPEN模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[7]||(b[7]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),nl,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[8]||(b[8]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ol,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[9]||(b[9]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),vl])):J("",!0),x.value?(C(),$("div",dl,[n(" 本地IO地址: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[10]||(b[10]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),sl,n(" 输出点对应位: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[11]||(b[11]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),il,n(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[12]||(b[12]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),rl])):J("",!0),B.value?(C(),$("div",ml,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[13]||(b[13]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),pl,n(" CAN-IO模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[14]||(b[14]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),fl,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[15]||(b[15]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),_l,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[16]||(b[16]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),bl])):J("",!0),S.value?(C(),$("div",gl,[n(" 输入点对应位: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[17]||(b[17]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),Vl,n(" 信号极性: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[18]||(b[18]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),cl])):J("",!0)])):J("",!0)])}}},Il=t("br",null,null,-1),$l={key:0},yl={key:0},Sl=t("br",null,null,-1),kl=t("br",null,null,-1),hl=t("br",null,null,-1),Ul={key:1},wl=t("br",null,null,-1),Bl=t("br",null,null,-1),Nl=t("br",null,null,-1),Ol={key:2},xl=t("br",null,null,-1),Al=t("br",null,null,-1),Tl={key:3},Hl=t("br",null,null,-1),Rl=t("br",null,null,-1),El=t("br",null,null,-1),Pl={key:4},Jl=t("br",null,null,-1),Be={__name:"IOinoutPut",props:{diver:{type:Array,required:!0}},setup(L){const o=L,w=g(!1),y=g("1"),x=g(!0),B=g(!1),S=g(!1),r=g(!1),d=g(!1),i=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.diver[0]!==void 0?o.diver[0]===1||o.diver[0]===2||o.diver[0]===4?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString(),c.value=o.diver[4].toString()):o.diver[0]===3?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString()):o.diver[0]===5&&(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString()):w.value=!1},j=()=>{w.value||(o.diver.value=[]),f()},f=()=>{w.value?y.value==="1"||y.value==="2"||y.value==="4"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:y.value==="3"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:y.value==="5"&&(o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value)]):o.diver.value=[]},P=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],D=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch(y.value){case"1":x.value=!0,B.value=!1,S.value=!1,r.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,S.value=!1,r.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,S.value=!0,r.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,S.value=!1,r.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,S.value=!1,r.value=!1,d.value=!0,f();return}};O();let I=0;return re(oe,()=>{const b=Date.now();b-I>=700&&(O(),I=b)}),(b,a)=>{const k=we,m=ge,u=ve,U=de,p=ne;return C(),$("div",null,[e(k,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=v=>w.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Il,w.value?(C(),$("div",$l,[(C(),$(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=Z=>y.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),$("div",yl,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Sl,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),kl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),hl,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),B.value?(C(),$("div",Ul,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),wl,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Bl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Nl,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),S.value?(C(),$("div",Ol,[n(" 本地IO地址: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[10]||(a[10]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),xl,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Al,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),r.value?(C(),$("div",Tl,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[13]||(a[13]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Hl,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Rl,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),El,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),d.value?(C(),$("div",Pl,[n(" 输入点对应位: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[17]||(a[17]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),Jl,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0)])):J("",!0)])}}};const Ge=L=>(pe("data-v-873c811d"),L=L(),fe(),L),Dl=Ge(()=>t("br",null,null,-1)),Ll=Ge(()=>t("br",null,null,-1)),Ml={key:0},Ql={slot:"footer",class:"dialog-footer"},jl={slot:"footer",class:"dialog-footer"},Gl={slot:"footer",class:"dialog-footer"},Xl={slot:"footer",class:"dialog-footer"},ql={slot:"footer",class:"dialog-footer"},Fl={slot:"footer",class:"dialog-footer"},Wl={slot:"footer",class:"dialog-footer"},Je="输入点",De="输出点",Yl="硬保险杠",zl={__name:"Bumper",setup(L){const o=g(!1),w=g(!1),y=g(!1),x=g(!1),B=g(!1),S=g(!1),r=g(!1),d=()=>{oe.value=!oe.value,B.value=!0},i=()=>{B.value=!1},_=()=>{oe.value=!oe.value,S.value=!0},s=()=>{S.value=!1},c=()=>{oe.value=!oe.value,x.value=!0},O=()=>{x.value=!1},j=()=>{oe.value=!oe.value,y.value=!0},f=()=>{y.value=!1},P=()=>{oe.value=!oe.value,w.value=!0},D=()=>{w.value=!1},A=()=>{oe.value=!oe.value,o.value=!0},I=()=>{o.value=!1},b=()=>{V.isHardBum=!V.isHardBum},a=()=>{V.value.name="No name",V.value.pos=7,V.value.isHardBum=!1,V.value.value.value=[1,1,1,1,1],V.value.editingIndex=-1,V.value.HardBum.one.input=[],V.value.HardBum.one.output=[],V.value.HardBum.two.input=[],V.value.HardBum.two.output=[],V.value.HardBum.reset.input=[],V.value.HardBum.reset.output=[],console.log("addNewRow",V.value.value.value),r.value=!0,Oe.value=!Oe.value},k=U=>{V.value.name=W.value[U].name,V.value.pos=W.value[U].pos,V.value.isHardBum=W.value[U].isHardBum,V.value.value.value=W.value[U].value,W.value[U].HardBum.one.input!==void 0&&(V.value.HardBum.one.input=W.value[U].HardBum.one.input),W.value[U].HardBum.one.output!==void 0&&(V.value.HardBum.one.output=W.value[U].HardBum.one.output),W.value[U].HardBum.two.input!==void 0&&(V.value.HardBum.two.input=W.value[U].HardBum.two.input),W.value[U].HardBum.two.output!==void 0&&(V.value.HardBum.two.output=W.value[U].HardBum.two.output),W.value[U].HardBum.reset.input!==void 0&&(V.value.HardBum.reset.input=W.value[U].HardBum.reset.input),W.value[U].HardBum.reset.output!==void 0&&(V.value.HardBum.reset.output=W.value[U].HardBum.reset.output),V.value.editingIndex=U,console.log("reedit",U),console.log("reedit",W.value[U].value),console.log("reedit",V.value.value.value),Oe.value=!Oe.value,r.value=!0},m=()=>{if(V.value.name){if(V.value.editingIndex!==-1)W.value[V.value.editingIndex].name=V.value.name,W.value[V.value.editingIndex].pos=V.value.pos,W.value[V.value.editingIndex].isHardBum=V.value.isHardBum,console.log("1111",V.value.HardBum.one.input.value),V.value.HardBum.one.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.one.input=V.value.HardBum.one.input.value),V.value.HardBum.one.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.one.output=V.value.HardBum.one.output.value),V.value.HardBum.two.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.two.input=V.value.HardBum.two.input.value),V.value.HardBum.two.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.two.output=V.value.HardBum.two.output.value),V.value.HardBum.reset.input.value!==void 0&&(W.value[V.value.editingIndex].HardBum.reset.input=V.value.HardBum.reset.input.value),V.value.HardBum.reset.output.value!==void 0&&(W.value[V.value.editingIndex].HardBum.reset.output=V.value.HardBum.reset.output.value),V.value.value!=null&&(W.value[V.value.editingIndex].value=V.value.value),ae.value.HardBumper=W,console.log("handleAddRow",V.value.HardBum.one.input.value),console.log("handleAddRow",W.value[V.value.editingIndex].HardBum);else{V.value.HardBum.one.output.value!==void 0&&(V.value.HardBum.one.output=V.value.HardBum.one.output.value),V.value.HardBum.one.input.value!==void 0&&(V.value.HardBum.one.input=V.value.HardBum.one.input.value),V.value.HardBum.two.output.value!==void 0&&(V.value.HardBum.two.output=V.value.HardBum.two.output.value),V.value.HardBum.two.input.value!==void 0&&(V.value.HardBum.two.input=V.value.HardBum.two.input.value),V.value.HardBum.reset.output.value!==void 0&&(V.value.HardBum.reset.output=V.value.HardBum.reset.output.value),V.value.HardBum.reset.input.value!==void 0&&(V.value.HardBum.reset.input=V.value.HardBum.reset.input.value);const U={...V.value};W.value.push(JSON.parse(JSON.stringify(U))),ae.value.HardBumper=W,console.log("handleAddRow",U)}r.value=!1}else ye.error("请填写完整数据")},u=U=>{W.value.splice(U,1)};return(U,p)=>{const v=Se,M=he,Z=Ue,Ve=ne,ce=_e,Q=ve,Ne=de,Xe=we,qe=be,Ce=ke;return C(),$("div",null,[e(Z,{data:h(W),style:{width:"100%"}},{default:l(()=>[e(M,{prop:"name",label:""},{default:l(K=>[e(v,{type:"text",onClick:Fe=>k(K.$index)},{default:l(()=>[n(G(h(W)[K.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(M,{label:""},{default:l(K=>[e(v,{type:"danger",onClick:Fe=>u(K.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Dl,e(v,{type:"primary",onClick:a},{default:l(()=>[n("添加")]),_:1}),e(Ce,{title:Yl,modelValue:r.value,"onUpdate:modelValue":p[16]||(p[16]=K=>r.value=K),visible:r.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(qe,{ref:"form",model:h(V),"label-width":"80px"},{default:l(()=>[e(ce,{label:"名称"},{default:l(()=>[e(Ve,{modelValue:h(V).name,"onUpdate:modelValue":p[0]||(p[0]=K=>h(V).name=K),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(ce,{label:"IO"},{default:l(()=>[e(Cl)]),_:1}),e(ce,{label:"安装位置"},{default:l(()=>[e(Ne,{modelValue:h(V).pos,"onUpdate:modelValue":p[1]||(p[1]=K=>h(V).pos=K)},{default:l(()=>[e(Q,{label:"前侧",value:0}),e(Q,{label:"后侧",value:1}),e(Q,{label:"左侧",value:2}),e(Q,{label:"右侧",value:3}),e(Q,{label:"环绕四周",value:4}),e(Q,{label:"前侧+后侧",value:5}),e(Q,{label:"左侧+右侧",value:6}),e(Q,{label:"未设置",value:7})]),_:1},8,["modelValue"])]),_:1}),e(ce,null,{default:l(()=>[e(Xe,{modelValue:h(V).isHardBum,"onUpdate:modelValue":p[2]||(p[2]=K=>h(V).isHardBum=K),onChange:b},{default:l(()=>[n("车型为硬件停车型保险杠")]),_:1},8,["modelValue"]),Ll]),_:1})]),_:1},8,["model"]),h(V).isHardBum?(C(),$("div",Ml,[n("   "),e(v,{onClick:A,type:"primary"},{default:l(()=>[n("禁止继电器1输入点")]),_:1}),e(Ce,{title:Je,modelValue:o.value,"onUpdate:modelValue":p[4]||(p[4]=K=>o.value=K),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.one.input},null,8,["diver"])]),t("div",Ql,[e(v,{onClick:p[3]||(p[3]=K=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:I},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:P,type:"primary"},{default:l(()=>[n("禁止继电器1输出点")]),_:1}),e(Ce,{title:De,modelValue:w.value,"onUpdate:modelValue":p[6]||(p[6]=K=>w.value=K),visible:w.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.one.output},null,8,["diver"])]),t("div",jl,[e(v,{onClick:p[5]||(p[5]=K=>w.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:D},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:j,type:"primary"},{default:l(()=>[n("禁止继电器2输入点")]),_:1}),e(Ce,{title:Je,modelValue:y.value,"onUpdate:modelValue":p[8]||(p[8]=K=>y.value=K),visible:y.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.two.input},null,8,["diver"])]),t("div",Gl,[e(v,{onClick:p[7]||(p[7]=K=>y.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:f},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:c,type:"primary"},{default:l(()=>[n("禁止继电器2输出点")]),_:1}),e(Ce,{title:De,modelValue:x.value,"onUpdate:modelValue":p[10]||(p[10]=K=>x.value=K),visible:x.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.two.output},null,8,["diver"])]),t("div",Xl,[e(v,{onClick:p[9]||(p[9]=K=>x.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:O},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:d,type:"primary"},{default:l(()=>[n("复位继电器输入点")]),_:1}),e(Ce,{title:Je,modelValue:B.value,"onUpdate:modelValue":p[12]||(p[12]=K=>B.value=K),visible:B.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.reset.input},null,8,["diver"])]),t("div",ql,[e(v,{onClick:p[11]||(p[11]=K=>B.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:i},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(v,{onClick:_,type:"primary"},{default:l(()=>[n("复位继电器输出点")]),_:1}),e(Ce,{title:De,modelValue:S.value,"onUpdate:modelValue":p[14]||(p[14]=K=>S.value=K),visible:S.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Be,{diver:h(V).HardBum.reset.output},null,8,["diver"])]),t("div",Fl,[e(v,{onClick:p[13]||(p[13]=K=>S.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:s},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  ")])):J("",!0),t("div",Wl,[e(v,{onClick:p[15]||(p[15]=K=>r.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(v,{onClick:m},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Kl=me(zl,[["__scopeId","data-v-873c811d"]]);g(!0);const xe=g(!0),z=g({name:"",input:[],output:[],editingIndex:-1}),Zl=t("br",null,null,-1),ea={key:0},la={key:0},aa=t("br",null,null,-1),ua=t("br",null,null,-1),ta=t("br",null,null,-1),na={key:1},oa=t("br",null,null,-1),va=t("br",null,null,-1),da=t("br",null,null,-1),sa={key:2},ia=t("br",null,null,-1),ra=t("br",null,null,-1),ma={key:3},pa=t("br",null,null,-1),fa=t("br",null,null,-1),_a=t("br",null,null,-1),ba={key:4},ga=t("br",null,null,-1),je={__name:"IOinoutPut",props:{diver:{type:Array,required:!0}},setup(L){const o=L,w=g(!1),y=g("1"),x=g(!0),B=g(!1),S=g(!1),r=g(!1),d=g(!1),i=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.diver[0]!==void 0?o.diver[0]===1||o.diver[0]===2||o.diver[0]===4?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString(),c.value=o.diver[4].toString()):o.diver[0]===3?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString()):o.diver[0]===5&&(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString()):w.value=!1},j=()=>{w.value||(o.diver.value=[]),f()},f=()=>{w.value?y.value==="1"||y.value==="2"||y.value==="4"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:y.value==="3"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:y.value==="5"&&(o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value)]):o.diver.value=[]},P=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],D=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch(y.value){case"1":x.value=!0,B.value=!1,S.value=!1,r.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,S.value=!1,r.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,S.value=!0,r.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,S.value=!1,r.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,S.value=!1,r.value=!1,d.value=!0,f();return}};O();let I=0;return re(xe,()=>{const b=Date.now();b-I>=700&&(O(),I=b)}),(b,a)=>{const k=we,m=ge,u=ve,U=de,p=ne;return C(),$("div",null,[e(k,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=v=>w.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Zl,w.value?(C(),$("div",ea,[(C(),$(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=Z=>y.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),$("div",la,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),aa,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ua,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ta,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),B.value?(C(),$("div",na,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),oa,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),va,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),da,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),S.value?(C(),$("div",sa,[n(" 本地IO地址: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[10]||(a[10]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),ia,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),ra,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),r.value?(C(),$("div",ma,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[13]||(a[13]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),pa,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),fa,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),_a,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),d.value?(C(),$("div",ba,[n(" 输入点对应位: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[17]||(a[17]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),ga,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0)])):J("",!0)])}}};const Va=L=>(pe("data-v-48141347"),L=L(),fe(),L),ca=Va(()=>t("br",null,null,-1)),Ca={slot:"footer",class:"dialog-footer"},Ia={slot:"footer",class:"dialog-footer"},$a={slot:"footer",class:"dialog-footer"},ya="输入点",Sa="输出点",ka="继电器",ha={__name:"Relay",setup(L){const o=g(!1),w=g(!1),y=g(!1),x=()=>{xe.value=!xe.value,w.value=!0},B=()=>{w.value=!1},S=()=>{xe.value=!xe.value,o.value=!0},r=()=>{o.value=!1},d=()=>{z.value.name="No name",z.value.input=[],z.value.output=[],z.value.editingIndex=-1,y.value=!0},i=c=>{z.value.name=ue.value[c].name,ue.value[c].input!==void 0&&(z.value.input=ue.value[c].input),ue.value[c].output!==void 0&&(z.value.output=ue.value[c].output),z.value.editingIndex=c,console.log("reedit",c),console.log("reedit",ue.value[c].input),console.log("reedit",z.value.input),y.value=!0},_=()=>{if(z.value.name){if(z.value.editingIndex!==-1)ue.value[z.value.editingIndex].name=z.value.name,console.log("1111",z.value.input.value),z.value.input.value!==void 0&&(ue.value[z.value.editingIndex].input=z.value.input.value),z.value.output.value!==void 0&&(ue.value[z.value.editingIndex].output=z.value.output.value),ae.value.Relay=ue,console.log("handleAddRow",z.value.input.value);else{z.value.output.value!==void 0&&(z.value.output=z.value.output.value),z.value.input.value!==void 0&&(z.value.input=z.value.input.value);const c={...z.value};ue.value.push(JSON.parse(JSON.stringify(c))),ae.value.Relay=ue,console.log("handleAddRow",c)}y.value=!1}else ye.error("请填写完整数据")},s=c=>{ue.value.splice(c,1)};return(c,O)=>{const j=Se,f=he,P=Ue,D=ne,A=_e,I=be,b=ke;return C(),$("div",null,[e(P,{data:h(ue),style:{width:"100%"}},{default:l(()=>[e(f,{prop:"name",label:""},{default:l(a=>[e(j,{type:"text",onClick:k=>i(a.$index)},{default:l(()=>[n(G(h(ue)[a.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(f,{label:""},{default:l(a=>[e(j,{type:"danger",onClick:k=>s(a.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),ca,e(j,{type:"primary",onClick:d},{default:l(()=>[n("添加")]),_:1}),e(b,{title:ka,modelValue:y.value,"onUpdate:modelValue":O[6]||(O[6]=a=>y.value=a),visible:y.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(I,{ref:"form",model:h(z),"label-width":"80px"},{default:l(()=>[e(A,{label:"名称"},{default:l(()=>[e(D,{modelValue:h(z).name,"onUpdate:modelValue":O[0]||(O[0]=a=>h(z).name=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("   "),e(j,{onClick:S,type:"primary"},{default:l(()=>[n("输入点")]),_:1}),e(b,{title:ya,modelValue:o.value,"onUpdate:modelValue":O[2]||(O[2]=a=>o.value=a),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(je,{diver:h(z).input},null,8,["diver"])]),t("div",Ca,[e(j,{onClick:O[1]||(O[1]=a=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:r},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(j,{onClick:x,type:"primary"},{default:l(()=>[n("输出点")]),_:1}),e(b,{title:Sa,modelValue:w.value,"onUpdate:modelValue":O[4]||(O[4]=a=>w.value=a),visible:w.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(je,{diver:h(z).output},null,8,["diver"])]),t("div",Ia,[e(j,{onClick:O[3]||(O[3]=a=>w.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:B},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),t("div",$a,[e(j,{onClick:O[5]||(O[5]=a=>y.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(j,{onClick:_},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Ua=me(ha,[["__scopeId","data-v-48141347"]]),Ae=g(!1),H=g({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),Te=g(!1),R=g({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),wa={key:0},Ba=t("br",null,null,-1),Na=t("br",null,null,-1),Oa=t("br",null,null,-1),xa=t("br",null,null,-1),Aa={key:1},Ta=t("br",null,null,-1),Ha=t("br",null,null,-1),Ra=t("br",null,null,-1),Ea=t("br",null,null,-1),Pa={key:2},Ja=t("br",null,null,-1),Da=t("br",null,null,-1),La=t("br",null,null,-1),Ma={key:3},Qa=t("br",null,null,-1),ja=t("br",null,null,-1),Ga=t("br",null,null,-1),Xa=t("br",null,null,-1),qa={key:4},Fa=t("br",null,null,-1),Wa=t("br",null,null,-1),Ya={__name:"IO",setup(L){const o=g("1"),w=g(!0),y=g(!1),x=g(!1),B=g(!1),S=g(!1),r=g("1"),d=g("1"),i=g("1"),_=g("1"),s=g("1"),c=()=>{o.value==="1"||o.value==="2"||o.value==="4"?H.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?H.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value),parseInt(s.value)]:o.value==="5"&&(H.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(s.value)]),console.log("generateJSON",H.value.value)},O=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],f=()=>{H.value.value.value!==void 0?H.value.value.value[0]===1||H.value.value.value[0]===2||H.value.value.value[0]===4?(o.value=H.value.value.value[0].toString(),r.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),i.value=H.value.value.value[3].toString(),_.value=H.value.value.value[4].toString(),s.value=H.value.value.value[5].toString(),P()):H.value.value.value[0]===3?(o.value=H.value.value.value[0].toString(),r.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),i.value=H.value.value.value[3].toString(),s.value=H.value.value.value[4].toString(),P()):H.value.value.value[0]===5&&(o.value=H.value.value.value[0].toString(),r.value=H.value.value.value[1].toString(),d.value=H.value.value.value[2].toString(),s.value=H.value.value.value[3].toString(),P()):H.value.value!==void 0?H.value.value[0]===1||H.value.value[0]===2||H.value.value[0]===4?(o.value=H.value.value[0].toString(),r.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),i.value=H.value.value[3].toString(),_.value=H.value.value[4].toString(),s.value=H.value.value[5].toString(),P()):H.value.value[0]===3?(o.value=H.value.value[0].toString(),r.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),i.value=H.value.value[3].toString(),s.value=H.value.value[4].toString(),P()):H.value.value[0]===5&&(o.value=H.value.value[0].toString(),r.value=H.value.value[1].toString(),d.value=H.value.value[2].toString(),s.value=H.value.value[3].toString(),P()):(o.value="1",r.value="1",d.value="1",i.value="1",_.value="1",s.value="1",P(),console.log("putJSONelse"))},P=()=>{switch(console.log("handleChange",o.value),o.value){case"1":w.value=!0,y.value=!1,x.value=!1,B.value=!1,S.value=!1,c();return;case"2":w.value=!1,y.value=!0,x.value=!1,B.value=!1,S.value=!1,c();return;case"3":w.value=!1,y.value=!1,x.value=!0,B.value=!1,S.value=!1,c();return;case"4":w.value=!1,y.value=!1,x.value=!1,B.value=!0,S.value=!1,c();return;case"5":w.value=!1,y.value=!1,x.value=!1,B.value=!1,S.value=!0,c();return}};f();let D=0;return re(Ae,()=>{const A=Date.now();A-D>=700&&(f(),D=A)}),(A,I)=>{const b=ge,a=ve,k=de,m=ne;return C(),$("div",null,[(C(),$(F,null,Y(O,(u,U)=>e(b,{key:U,modelValue:o.value,"onUpdate:modelValue":I[0]||(I[0]=p=>o.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),w.value?(C(),$("div",wa,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[1]||(I[1]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Ba,n(" CAN-POS模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[2]||(I[2]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Na,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[3]||(I[3]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Oa,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[4]||(I[4]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),xa,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[5]||(I[5]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),y.value?(C(),$("div",Aa,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[6]||(I[6]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Ta,n(" CAN-OPEN模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[7]||(I[7]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ha,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[8]||(I[8]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ra,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[9]||(I[9]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Ea,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[10]||(I[10]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),x.value?(C(),$("div",Pa,[n(" 本地IO地址: "),e(m,{modelValue:r.value,"onUpdate:modelValue":I[11]||(I[11]=u=>r.value=u),type:"number",onChange:c},null,8,["modelValue"]),Ja,n(" 输出点对应位: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[12]||(I[12]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Da,n(" 信号极性: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[13]||(I[13]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),La,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[14]||(I[14]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),B.value?(C(),$("div",Ma,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[15]||(I[15]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Qa,n(" CAN-IO模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[16]||(I[16]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ja,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[17]||(I[17]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ga,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[18]||(I[18]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Xa,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[19]||(I[19]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),S.value?(C(),$("div",qa,[n(" 输入点对应位: "),e(m,{modelValue:r.value,"onUpdate:modelValue":I[20]||(I[20]=u=>r.value=u),type:"number",onChange:c},null,8,["modelValue"]),Fa,n(" 信号极性: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[21]||(I[21]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Wa,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[22]||(I[22]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0)])}}};const za=L=>(pe("data-v-c9c1717f"),L=L(),fe(),L),Ka=za(()=>t("br",null,null,-1)),Za={slot:"footer",class:"dialog-footer"},eu="开关",lu={__name:"switch",setup(L){const o=g(!1),w=()=>{H.value.name="",H.value.value.value=[1,1,1,1,1,1],H.value.editingIndex=-1,console.log("addNewRow",H.value.value.value),o.value=!0,Ae.value=!Ae.value},y=S=>{H.value.name=se.value[S].name,H.value.value.value=se.value[S].value,H.value.editingIndex=S,console.log("reedit",H.value.value.value),o.value=!0,Ae.value=!Ae.value},x=()=>{if(H.value.name){if(H.value.editingIndex!==-1)se.value[H.value.editingIndex].name=H.value.name,H.value.value!=null&&(se.value[H.value.editingIndex].value=H.value.value),ae.value.switch.StartButton=se,console.log("handleAddRow",H.value.value),console.log("handleAddRow",se.value[H.value.editingIndex].value);else{const S={...H.value};se.value.push(JSON.parse(JSON.stringify(S))),ae.value.switch.StartButton=se,console.log("handleAddRow",S)}o.value=!1}else ye.error("请填写完整数据")},B=S=>{se.value.splice(S,1)};return(S,r)=>{const d=Se,i=he,_=Ue,s=ne,c=_e,O=be,j=ke;return C(),$("div",null,[e(_,{data:h(se),style:{width:"100%"}},{default:l(()=>[e(i,{prop:"name",label:"按钮名称"},{default:l(f=>[e(d,{type:"text",onClick:P=>y(f.$index)},{default:l(()=>[n(G(h(se)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{label:"操作"},{default:l(f=>[e(d,{type:"danger",onClick:P=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Ka,e(d,{type:"primary",onClick:w},{default:l(()=>[n("添加开关")]),_:1}),e(j,{title:eu,modelValue:o.value,"onUpdate:modelValue":r[2]||(r[2]=f=>o.value=f),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:h(H),"label-width":"80px"},{default:l(()=>[e(c,{label:"按钮名称"},{default:l(()=>[e(s,{modelValue:h(H).name,"onUpdate:modelValue":r[0]||(r[0]=f=>h(H).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(Ya)]),_:1})]),_:1},8,["model"]),t("div",Za,[e(d,{onClick:r[1]||(r[1]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},au=me(lu,[["__scopeId","data-v-c9c1717f"]]),uu={key:0},tu=t("br",null,null,-1),nu=t("br",null,null,-1),ou=t("br",null,null,-1),vu=t("br",null,null,-1),du={key:1},su=t("br",null,null,-1),iu=t("br",null,null,-1),ru=t("br",null,null,-1),mu=t("br",null,null,-1),pu={key:2},fu=t("br",null,null,-1),_u=t("br",null,null,-1),bu=t("br",null,null,-1),gu={key:3},Vu=t("br",null,null,-1),cu=t("br",null,null,-1),Cu=t("br",null,null,-1),Iu=t("br",null,null,-1),$u={key:4},yu=t("br",null,null,-1),Su=t("br",null,null,-1),ku={__name:"IO",setup(L){const o=g("1"),w=g(!0),y=g(!1),x=g(!1),B=g(!1),S=g(!1),r=g("1"),d=g("1"),i=g("1"),_=g("1"),s=g("1"),c=()=>{o.value==="1"||o.value==="2"||o.value==="4"?R.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?R.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value),parseInt(s.value)]:o.value==="5"&&(R.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(s.value)]),console.log("generateJSON",R.value.value)},O=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],f=()=>{R.value.value.value!==void 0?R.value.value.value[0]===1||R.value.value.value[0]===2||R.value.value.value[0]===4?(o.value=R.value.value.value[0].toString(),r.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),i.value=R.value.value.value[3].toString(),_.value=R.value.value.value[4].toString(),s.value=R.value.value.value[5].toString(),P()):R.value.value.value[0]===3?(o.value=R.value.value.value[0].toString(),r.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),i.value=R.value.value.value[3].toString(),s.value=R.value.value.value[4].toString(),P()):R.value.value.value[0]===5&&(o.value=R.value.value.value[0].toString(),r.value=R.value.value.value[1].toString(),d.value=R.value.value.value[2].toString(),s.value=R.value.value.value[3].toString(),P()):R.value.value!==void 0?R.value.value[0]===1||R.value.value[0]===2||R.value.value[0]===4?(o.value=R.value.value[0].toString(),r.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),i.value=R.value.value[3].toString(),_.value=R.value.value[4].toString(),s.value=R.value.value[5].toString(),P()):R.value.value[0]===3?(o.value=R.value.value[0].toString(),r.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),i.value=R.value.value[3].toString(),s.value=R.value.value[4].toString(),P()):R.value.value[0]===5&&(o.value=R.value.value[0].toString(),r.value=R.value.value[1].toString(),d.value=R.value.value[2].toString(),s.value=R.value.value[3].toString(),P()):(o.value="1",r.value="1",d.value="1",i.value="1",_.value="1",s.value="1",P(),console.log("putJSONelse"))},P=()=>{switch(console.log("handleChange",o.value),o.value){case"1":w.value=!0,y.value=!1,x.value=!1,B.value=!1,S.value=!1,c();return;case"2":w.value=!1,y.value=!0,x.value=!1,B.value=!1,S.value=!1,c();return;case"3":w.value=!1,y.value=!1,x.value=!0,B.value=!1,S.value=!1,c();return;case"4":w.value=!1,y.value=!1,x.value=!1,B.value=!0,S.value=!1,c();return;case"5":w.value=!1,y.value=!1,x.value=!1,B.value=!1,S.value=!0,c();return}};f();let D=0;return re(Te,()=>{const A=Date.now();A-D>=700&&(f(),D=A)}),(A,I)=>{const b=ge,a=ve,k=de,m=ne;return C(),$("div",null,[(C(),$(F,null,Y(O,(u,U)=>e(b,{key:U,modelValue:o.value,"onUpdate:modelValue":I[0]||(I[0]=p=>o.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),w.value?(C(),$("div",uu,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[1]||(I[1]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),tu,n(" CAN-POS模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[2]||(I[2]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),nu,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[3]||(I[3]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ou,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[4]||(I[4]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),vu,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[5]||(I[5]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),y.value?(C(),$("div",du,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[6]||(I[6]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),su,n(" CAN-OPEN模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[7]||(I[7]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),iu,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[8]||(I[8]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ru,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[9]||(I[9]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),mu,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[10]||(I[10]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),x.value?(C(),$("div",pu,[n(" 本地IO地址: "),e(m,{modelValue:r.value,"onUpdate:modelValue":I[11]||(I[11]=u=>r.value=u),type:"number",onChange:c},null,8,["modelValue"]),fu,n(" 输出点对应位: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[12]||(I[12]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),_u,n(" 信号极性: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[13]||(I[13]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),bu,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[14]||(I[14]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),B.value?(C(),$("div",gu,[n(" 远程模块连接到: "),(C(),$(F,null,Y(j,(u,U)=>e(b,{key:U,modelValue:r.value,"onUpdate:modelValue":I[15]||(I[15]=p=>r.value=p),label:u.value,onChange:P},{default:l(()=>[t("pre",null,G(u.label),1)]),_:2},1032,["modelValue","label"])),64)),Vu,n(" CAN-IO模块编号: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[16]||(I[16]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),cu,n(" 模块内输出点编号: "),e(k,{modelValue:i.value,"onUpdate:modelValue":I[17]||(I[17]=u=>i.value=u),onChange:c},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Cu,n(" 信号极性: "),e(k,{modelValue:_.value,"onUpdate:modelValue":I[18]||(I[18]=u=>_.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Iu,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[19]||(I[19]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),S.value?(C(),$("div",$u,[n(" 输入点对应位: "),e(m,{modelValue:r.value,"onUpdate:modelValue":I[20]||(I[20]=u=>r.value=u),type:"number",onChange:c},null,8,["modelValue"]),yu,n(" 信号极性: "),e(k,{modelValue:d.value,"onUpdate:modelValue":I[21]||(I[21]=u=>d.value=u),onChange:c},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Su,n(" 按钮类型: "),e(k,{modelValue:s.value,"onUpdate:modelValue":I[22]||(I[22]=u=>s.value=u),onChange:c},{default:l(()=>[e(a,{label:"非自锁式",value:"0"}),e(a,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):J("",!0)])}}};const hu=L=>(pe("data-v-c98acd18"),L=L(),fe(),L),Uu=hu(()=>t("br",null,null,-1)),wu={slot:"footer",class:"dialog-footer"},Bu="开关",Nu={__name:"switch",setup(L){const o=g(!1),w=()=>{R.value.name="",R.value.value.value=[1,1,1,1,1,1],R.value.editingIndex=-1,console.log("addnewRowEmg",R.value.value.value),o.value=!0,Te.value=!Te.value},y=S=>{R.value.name=ie.value[S].name,R.value.value.value=ie.value[S].value,R.value.editingIndex=S,console.log("reedit",R.value.value.value),o.value=!0,Te.value=!Te.value},x=()=>{if(R.value.name){if(R.value.editingIndex!==-1)ie.value[R.value.editingIndex].name=R.value.name,R.value.value!=null&&(ie.value[R.value.editingIndex].value=R.value.value),ae.value.switch.EmgButton=ie,console.log("handleAddRow",R.value.value),console.log("handleAddRow",ie.value[R.value.editingIndex].value);else{const S={...R.value};ie.value.push(JSON.parse(JSON.stringify(S))),ae.value.switch.EmgButton=ie,console.log("handleAddRow",S)}o.value=!1}else ye.error("请填写完整数据")},B=S=>{ie.value.splice(S,1)};return(S,r)=>{const d=Se,i=he,_=Ue,s=ne,c=_e,O=be,j=ke;return C(),$("div",null,[e(_,{data:h(ie),style:{width:"100%"}},{default:l(()=>[e(i,{prop:"name",label:"按钮名称"},{default:l(f=>[e(d,{type:"text",onClick:P=>y(f.$index)},{default:l(()=>[n(G(h(ie)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{label:"操作"},{default:l(f=>[e(d,{type:"danger",onClick:P=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Uu,e(d,{type:"primary",onClick:w},{default:l(()=>[n("添加开关")]),_:1}),e(j,{title:Bu,modelValue:o.value,"onUpdate:modelValue":r[2]||(r[2]=f=>o.value=f),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:h(R),"label-width":"80px"},{default:l(()=>[e(c,{label:"按钮名称"},{default:l(()=>[e(s,{modelValue:h(R).name,"onUpdate:modelValue":r[0]||(r[0]=f=>h(R).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(ku)]),_:1})]),_:1},8,["model"]),t("div",wu,[e(d,{onClick:r[1]||(r[1]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Ou=me(Nu,[["__scopeId","data-v-c98acd18"]]),xu=t("br",null,null,-1),Au={key:0},Tu={key:1},Hu=t("br",null,null,-1),Ru={key:2},Eu=t("br",null,null,-1),Pu={__name:"Better",setup(L){const o=g(["🎈很低阈值","🎈低阈值","🎈正常阈值"]),w=g(["🎈很低阈值","🎈低阈值","🎈正常阈值","🎈比例系数"]);function y(S,r,d){d[S]=parseInt(r),x()}const x=()=>{ae.value.Better=ee},B=()=>{(ee.value.type===1||ee.value.type===2)&&(ee.value.param=ee.value.param.slice(0,3)),x()};return(S,r)=>{const d=ve,i=de,_=_e,s=he,c=ne,O=Ue,j=be;return C(),Pe(j,{ref:"form",model:h(ee),"label-width":"120px"},{default:l(()=>[e(_,{label:"🎈电量表类型"},{default:l(()=>[e(i,{modelValue:h(ee).type,"onUpdate:modelValue":r[0]||(r[0]=f=>h(ee).type=f),placeholder:"请选择",onChange:B},{default:l(()=>[e(d,{label:"无电量表",value:0}),e(d,{label:"CAN电量表",value:1}),e(d,{label:"电池管理系统",value:2}),e(d,{label:"IO模块",value:3})]),_:1},8,["modelValue"]),xu]),_:1}),h(ee).type===0?(C(),$("div",Au)):J("",!0),h(ee).type===1||h(ee).type===2?(C(),$("div",Tu,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(i,{modelValue:h(ee).elect,"onUpdate:modelValue":r[1]||(r[1]=f=>h(ee).elect=f),placeholder:"请选择",onChange:x},{default:l(()=>[e(d,{label:"电流(A)",value:0}),e(d,{label:"电压(V)",value:1}),e(d,{label:"电量百分比(%)",value:2})]),_:1},8,["modelValue"]),Hu]),_:1}),e(O,{data:o.value,style:{width:"90%"}},{default:l(()=>[e(s,{prop:"name",label:" "},{default:l(f=>[n(G(o.value[f.$index]),1)]),_:1}),e(s,{prop:"value",label:" "},{default:l(f=>[e(c,{modelValue:h(ee).param[f.$index],"onUpdate:modelValue":P=>h(ee).param[f.$index]=P,placeholder:"请输入",style:{width:"100%"},onChange:P=>y(f.$index,h(ee).param[f.$index],h(ee).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):h(ee).type===3?(C(),$("div",Ru,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(i,{modelValue:h(ee).elect,"onUpdate:modelValue":r[2]||(r[2]=f=>h(ee).elect=f),placeholder:"请选择",onChange:x},{default:l(()=>[e(d,{label:"电流",value:0}),e(d,{label:"电压",value:1}),e(d,{label:"电量百分比",value:2})]),_:1},8,["modelValue"]),Eu]),_:1}),e(O,{data:w.value,style:{width:"90%"}},{default:l(()=>[e(s,{prop:"name",label:" "},{default:l(f=>[n(G(w.value[f.$index]),1)]),_:1}),e(s,{prop:"value",label:" "},{default:l(f=>[e(c,{modelValue:h(ee).param[f.$index],"onUpdate:modelValue":P=>h(ee).param[f.$index]=P,placeholder:"请输入",style:{width:"100%"},onChange:P=>y(f.$index,h(ee).param[f.$index],h(ee).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):J("",!0)]),_:1},8,["model"])}}},$e=g(!0);g(!0);g(!0);const He=g(!0),N=g({name:"",type:0,near:[],mid:[],far:[]}),E=g({name:"",area:[1,1,1,1,1]}),Ju=t("br",null,null,-1),Du={key:0},Lu={key:0},Mu=t("br",null,null,-1),Qu=t("br",null,null,-1),ju=t("br",null,null,-1),Gu={key:1},Xu=t("br",null,null,-1),qu=t("br",null,null,-1),Fu=t("br",null,null,-1),Wu={key:2},Yu=t("br",null,null,-1),zu=t("br",null,null,-1),Ku={key:3},Zu=t("br",null,null,-1),et=t("br",null,null,-1),lt=t("br",null,null,-1),at={key:4},ut=t("br",null,null,-1),Le={__name:"IO",props:{diver:{type:Array,required:!0}},setup(L){const o=L,w=g(!1),y=g("1"),x=g(!0),B=g(!1),S=g(!1),r=g(!1),d=g(!1),i=g("1"),_=g("1"),s=g("1"),c=g("1"),O=()=>{o.diver[0]!==void 0?o.diver[0]===1||o.diver[0]===2||o.diver[0]===4?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString(),c.value=o.diver[4].toString()):o.diver[0]===3?(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString(),s.value=o.diver[3].toString()):o.diver[0]===5&&(w.value=!0,y.value=o.diver[0].toString(),A(),i.value=o.diver[1].toString(),_.value=o.diver[2].toString()):w.value=!1},j=()=>{w.value||(o.diver.value=[]),f()},f=()=>{w.value?y.value==="1"||y.value==="2"||y.value==="4"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value),parseInt(c.value)]:y.value==="3"?o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:y.value==="5"&&(o.diver.value=[parseInt(y.value),parseInt(i.value),parseInt(_.value)]):o.diver.value=[]},P=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],D=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],A=()=>{switch(y.value){case"1":x.value=!0,B.value=!1,S.value=!1,r.value=!1,d.value=!1,f();return;case"2":x.value=!1,B.value=!0,S.value=!1,r.value=!1,d.value=!1,f();return;case"3":x.value=!1,B.value=!1,S.value=!0,r.value=!1,d.value=!1,f();return;case"4":x.value=!1,B.value=!1,S.value=!1,r.value=!0,d.value=!1,f();return;case"5":x.value=!1,B.value=!1,S.value=!1,r.value=!1,d.value=!0,f();return}};O();let I=0;return re($e,()=>{const b=Date.now();b-I>=700&&(O(),I=b)}),(b,a)=>{const k=we,m=ge,u=ve,U=de,p=ne;return C(),$("div",null,[e(k,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=v=>w.value=v),onChange:j},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),Ju,w.value?(C(),$("div",Du,[(C(),$(F,null,Y(P,(v,M)=>e(m,{key:M,modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=Z=>y.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),x.value?(C(),$("div",Lu,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Mu,n(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Qu,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ju,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),B.value?(C(),$("div",Gu,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Xu,n(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),qu,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Fu,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),S.value?(C(),$("div",Wu,[n(" 本地IO地址: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[10]||(a[10]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),Yu,n(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),zu,n(" 信号极性: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[12]||(a[12]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),r.value?(C(),$("div",Ku,[n(" 远程模块连接到: "),(C(),$(F,null,Y(D,(v,M)=>e(m,{key:M,modelValue:i.value,"onUpdate:modelValue":a[13]||(a[13]=Z=>i.value=Z),label:v.value,onChange:A},{default:l(()=>[t("pre",null,G(v.label),1)]),_:2},1032,["modelValue","label"])),64)),Zu,n(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[14]||(a[14]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),et,n(" 模块内输出点编号: "),e(U,{modelValue:s.value,"onUpdate:modelValue":a[15]||(a[15]=v=>s.value=v),onChange:f},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),lt,n(" 信号极性: "),e(U,{modelValue:c.value,"onUpdate:modelValue":a[16]||(a[16]=v=>c.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0),d.value?(C(),$("div",at,[n(" 输入点对应位: "),e(p,{modelValue:i.value,"onUpdate:modelValue":a[17]||(a[17]=v=>i.value=v),type:"number",onChange:f},null,8,["modelValue"]),ut,n(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":a[18]||(a[18]=v=>_.value=v),onChange:f},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):J("",!0)])):J("",!0)])}}},tt=t("br",null,null,-1),nt={key:0},ot={key:0},vt=t("br",null,null,-1),dt=t("br",null,null,-1),st=t("br",null,null,-1),it=t("br",null,null,-1),rt={key:1},mt=t("br",null,null,-1),pt=t("br",null,null,-1),ft=t("br",null,null,-1),_t=t("br",null,null,-1),bt={key:2},gt=t("br",null,null,-1),Vt=t("br",null,null,-1),ct=t("br",null,null,-1),Ct={key:3},It=t("br",null,null,-1),$t=t("br",null,null,-1),yt=t("br",null,null,-1),St=t("br",null,null,-1),kt={key:4},ht=t("br",null,null,-1),Ut=t("br",null,null,-1),wt={__name:"IOEXP",setup(L){const o=g("1"),w=g(!0),y=g(!1),x=g(!1),B=g(!1),S=g(!1),r=g(!0),d=g("1"),i=g("1"),_=g("1"),s=g("1"),c=()=>{r.value||(E.value.area=[]),O()},O=()=>{r.value?o.value==="1"||o.value==="2"||o.value==="4"?E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(i.value),parseInt(_.value),parseInt(s.value)]:o.value==="3"?E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(i.value),parseInt(_.value)]:o.value==="5"&&(E.value.area=[parseInt(o.value),parseInt(d.value),parseInt(i.value)]):E.value.area=[],console.log("generateJSON",E.value.area)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],f=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],P=()=>{console.log("putjson,",E.value.area.value),E.value.area.value!==void 0?E.value.area.value[0]===1||E.value.area.value[0]===2||E.value.area.value[0]===4?(o.value=E.value.area.value[0].toString(),r.value=!0,d.value=E.value.area.value[1].toString(),i.value=E.value.area.value[2].toString(),_.value=E.value.area.value[3].toString(),s.value=E.value.area.value[4].toString(),D()):E.value.area.value[0]===3?(r.value=!0,o.value=E.value.area.value[0].toString(),d.value=E.value.area.value[1].toString(),i.value=E.value.area.value[2].toString(),_.value=E.value.area.value[3].toString(),D()):E.value.area.value[0]===5&&(o.value=E.value.area.value[0].toString(),r.value=!0,d.value=E.value.area.value[1].toString(),i.value=E.value.area.value[2].toString(),D()):E.value.area!==void 0?E.value.area[0]===1||E.value.area[0]===2||E.value.area[0]===4?(o.value=E.value.area[0].toString(),r.value=!0,d.value=E.value.area[1].toString(),i.value=E.value.area[2].toString(),_.value=E.value.area[3].toString(),s.value=E.value.area[4].toString(),D()):E.value.area[0]===3?(r.value=!0,o.value=E.value.area[0].toString(),d.value=E.value.area[1].toString(),i.value=E.value.area[2].toString(),_.value=E.value.area[3].toString(),D()):E.value.area[0]===5&&(o.value=E.value.area[0].toString(),r.value=!0,d.value=E.value.area[1].toString(),i.value=E.value.area[2].toString(),D()):(r.value=!1,D(),console.log("putJSONelse"))},D=()=>{switch(console.log("handleChange",o.value),o.value){case"1":w.value=!0,y.value=!1,x.value=!1,B.value=!1,S.value=!1,O();return;case"2":w.value=!1,y.value=!0,x.value=!1,B.value=!1,S.value=!1,O();return;case"3":w.value=!1,y.value=!1,x.value=!0,B.value=!1,S.value=!1,O();return;case"4":w.value=!1,y.value=!1,x.value=!1,B.value=!0,S.value=!1,O();return;case"5":w.value=!1,y.value=!1,x.value=!1,B.value=!1,S.value=!0,O();return}};P();let A=0;return re(He,()=>{const I=Date.now();I-A>=700&&(P(),A=I)}),(I,b)=>{const a=we,k=ge,m=ve,u=de,U=ne;return C(),$("div",null,[e(a,{modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=p=>r.value=p),onChange:c},{default:l(()=>[n("启用:")]),_:1},8,["modelValue"]),tt,r.value?(C(),$("div",nt,[(C(),$(F,null,Y(j,(p,v)=>e(k,{key:v,modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=M=>o.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),w.value?(C(),$("div",ot,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),vt,n(" CAN-POS模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[3]||(b[3]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),dt,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[4]||(b[4]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),st,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[5]||(b[5]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),it])):J("",!0),y.value?(C(),$("div",rt,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[6]||(b[6]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),mt,n(" CAN-OPEN模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[7]||(b[7]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),pt,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[8]||(b[8]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ft,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[9]||(b[9]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),_t])):J("",!0),x.value?(C(),$("div",bt,[n(" 本地IO地址: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[10]||(b[10]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),gt,n(" 输出点对应位: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[11]||(b[11]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Vt,n(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[12]||(b[12]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),ct])):J("",!0),B.value?(C(),$("div",Ct,[n(" 远程模块连接到: "),(C(),$(F,null,Y(f,(p,v)=>e(k,{key:v,modelValue:d.value,"onUpdate:modelValue":b[13]||(b[13]=M=>d.value=M),label:p.value,onChange:D},{default:l(()=>[t("pre",null,G(p.label),1)]),_:2},1032,["modelValue","label"])),64)),It,n(" CAN-IO模块编号: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[14]||(b[14]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),$t,n(" 模块内输出点编号: "),e(u,{modelValue:_.value,"onUpdate:modelValue":b[15]||(b[15]=p=>_.value=p),onChange:O},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),yt,n(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":b[16]||(b[16]=p=>s.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),St])):J("",!0),S.value?(C(),$("div",kt,[n(" 输入点对应位: "),e(U,{modelValue:d.value,"onUpdate:modelValue":b[17]||(b[17]=p=>d.value=p),type:"number",onChange:O},null,8,["modelValue"]),ht,n(" 信号极性: "),e(u,{modelValue:i.value,"onUpdate:modelValue":b[18]||(b[18]=p=>i.value=p),onChange:O},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),Ut])):J("",!0)])):J("",!0)])}}};const Ee=L=>(pe("data-v-556953e4"),L=L(),fe(),L),Bt=Ee(()=>t("br",null,null,-1)),Nt=Ee(()=>t("br",null,null,-1)),Ot={key:0},xt={slot:"footer",class:"dialog-footer"},At={slot:"footer",class:"dialog-footer"},Tt={slot:"footer",class:"dialog-footer"},Ht=Ee(()=>t("br",null,null,-1)),Rt=Ee(()=>t("br",null,null,-1)),Et=Ee(()=>t("br",null,null,-1)),Pt={slot:"footer",class:"dialog-footer"},Jt={key:1},Dt={slot:"footer",class:"dialog-footer"},Lt={__name:"PLS",setup(L){const o=g(!1),w=g(!1),y=g(!1),x=()=>{$e.value=!$e.value,w.value=!0},B=()=>{D(!1),w.value=!1},S=()=>{$e.value=!$e.value,y.value=!0},r=()=>{D(!1),y.value=!1},d=()=>{$e.value=!$e.value,o.value=!0},i=()=>{D(!1),o.value=!1},_=g([]),s=g(!1),c=g(!1),O=()=>{N.value.name="No name",N.value.type=0,N.value.CUTtype=0,N.value.port="",N.value.ip="",N.value.near=[],N.value.area=[],N.value.mid=[],N.value.far=[],N.value.editingIndex=-1,s.value=!0},j=()=>{He.value=!He.value,E.value.name="No name",E.value.area.value=[1,1,1,1,1],E.value.editingIndex=-1,console.log("1111",E.value.area),c.value=!0},f=a=>{N.value.name=q.value[a].name,N.value.type=q.value[a].type,N.value.CUTtype=q.value[a].CUTtype,N.value.port=q.value[a].port,N.value.ip=q.value[a].ip,q.value[a].near!==void 0&&(N.value.near=q.value[a].near),q.value[a].mid!==void 0&&(N.value.mid=q.value[a].mid),q.value[a].far!==void 0&&(N.value.far=q.value[a].far),q.value[a].area!==void 0&&(N.value.area=q.value[a].area),_.value=q.value[a].area,console.log("111",N.value.near),console.log("222",N.value.mid),console.log("333",N.value.far),N.value.editingIndex=a,s.value=!0},P=a=>{He.value=!He.value,E.value.name=_.value[a].name,E.value.area.value=_.value[a].area,console.log("333",_.value[a].area),console.log("444",E.value.area.value),E.value.editingIndex=a,c.value=!0},D=a=>{if(N.value.name){if(N.value.editingIndex!==-1)q.value[N.value.editingIndex].name=N.value.name,q.value[N.value.editingIndex].type=N.value.type,delete q.value[N.value.editingIndex].near,delete q.value[N.value.editingIndex].mid,delete q.value[N.value.editingIndex].far,delete q.value[N.value.editingIndex].ip,delete q.value[N.value.editingIndex].port,delete q.value[N.value.editingIndex].area,delete q.value[N.value.editingIndex].CUTtype,N.value.type===0?(q.value[N.value.editingIndex].CUTtype=N.value.CUTtype,N.value.mid.value!==void 0?(console.log("mid",N.value.mid.value),q.value[N.value.editingIndex].mid=N.value.mid.value):(q.value[N.value.editingIndex].mid=[],console.log("mid")),N.value.near.value!==void 0?(console.log("near",N.value.near.value),q.value[N.value.editingIndex].near=N.value.near.value):(q.value[N.value.editingIndex].near=[],console.log("near")),N.value.far.value!==void 0?(console.log("far",N.value.far.value),q.value[N.value.editingIndex].far=N.value.far.value):(q.value[N.value.editingIndex].far=[],console.log("far")),N.value.area.value!==void 0?(console.log("area",N.value.area.value),q.value[N.value.editingIndex].area=N.value.area.value):(q.value[N.value.editingIndex].area=[],console.log("area")),q.value[N.value.editingIndex].area=_.value,_.value=[]):(q.value[N.value.editingIndex].ip=N.value.ip,q.value[N.value.editingIndex].port=N.value.port),ae.value.PLS=q;else if(a){N.value.near.value!==void 0&&(N.value.near=N.value.near.value),N.value.mid.value!==void 0&&(N.value.mid=N.value.mid.value),N.value.far.value!==void 0&&(N.value.far=N.value.far.value),N.value.area=_.value,_.value=[];const k={...N.value};N.value.type===0?(delete k.ip,delete k.port):(delete k.near,delete k.mid,delete k.far,delete k.CUTtype),q.value.push(JSON.parse(JSON.stringify(k))),ae.value.PLS=q}a&&(s.value=!1)}else ye.error("请填写完整数据")},A=()=>{if(E.value.name){if(E.value.editingIndex!==-1)_.value[E.value.editingIndex].name=E.value.name,E.value.area!==void 0&&(_.value[E.value.editingIndex].area=E.value.area),console.log("111",_.value[E.value.editingIndex].area),console.log("222",E.value.area);else{const a={...E.value};_.value.push(JSON.parse(JSON.stringify(a)))}c.value=!1}else ye.error("请填写完整数据")},I=a=>{q.value.splice(a,1)},b=a=>{_.value.splice(a,1)};return(a,k)=>{const m=Se,u=he,U=Ue,p=ne,v=_e,M=ve,Z=de,Ve=ke,ce=be;return C(),$("div",null,[e(U,{data:h(q),style:{width:"100%"}},{default:l(()=>[e(u,{prop:"name",label:""},{default:l(Q=>[e(m,{type:"text",onClick:Ne=>f(Q.$index)},{default:l(()=>[n(G(h(q)[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(u,{label:""},{default:l(Q=>[e(m,{type:"danger",onClick:Ne=>I(Q.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Bt,e(m,{type:"primary",onClick:O},{default:l(()=>[n("添加")]),_:1}),e(Ve,{title:"PLS",modelValue:s.value,"onUpdate:modelValue":k[18]||(k[18]=Q=>s.value=Q),visible:s.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(ce,{ref:"form",model:h(N),"label-width":"80px"},{default:l(()=>[e(v,{label:"名称"},{default:l(()=>[e(p,{modelValue:h(N).name,"onUpdate:modelValue":k[0]||(k[0]=Q=>h(N).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"类型"},{default:l(()=>[e(Z,{modelValue:h(N).type,"onUpdate:modelValue":k[1]||(k[1]=Q=>h(N).type=Q),placeholder:"请选择"},{default:l(()=>[e(M,{label:"IO",value:0}),e(M,{label:"网络",value:1})]),_:1},8,["modelValue"]),Nt]),_:1}),h(N).type===0?(C(),$("div",Ot,[e(v,{label:"IO"},{default:l(()=>[n("   "),e(m,{onClick:x,type:"primary"},{default:l(()=>[n("近距离区域")]),_:1}),e(Ve,{title:"近",modelValue:w.value,"onUpdate:modelValue":k[3]||(k[3]=Q=>w.value=Q),visible:w.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{diver:h(N).near},null,8,["diver"])]),t("div",xt,[e(m,{onClick:k[2]||(k[2]=Q=>w.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:B},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(m,{onClick:S,type:"primary"},{default:l(()=>[n("中距离区域")]),_:1}),e(Ve,{title:"中",modelValue:y.value,"onUpdate:modelValue":k[5]||(k[5]=Q=>y.value=Q),visible:y.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{diver:h(N).mid},null,8,["diver"])]),t("div",At,[e(m,{onClick:k[4]||(k[4]=Q=>y.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:r},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  "),e(m,{onClick:d,type:"primary"},{default:l(()=>[n("远距离区域")]),_:1}),e(Ve,{title:"远",modelValue:o.value,"onUpdate:modelValue":k[7]||(k[7]=Q=>o.value=Q),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[t("div",null,[e(Le,{diver:h(N).far},null,8,["diver"])]),t("div",Tt,[e(m,{onClick:k[6]||(k[6]=Q=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:i},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),n("  ")]),_:1}),e(v,{label:"切区类型"},{default:l(()=>[e(Z,{modelValue:h(N).CUTtype,"onUpdate:modelValue":k[8]||(k[8]=Q=>h(N).CUTtype=Q),placeholder:"请选择"},{default:l(()=>[e(M,{label:"正常类型",value:0}),e(M,{label:"互斥类型",value:1}),e(M,{label:"单点切区",value:2}),e(M,{label:"多点切区",value:3})]),_:1},8,["modelValue"]),Ht]),_:1}),e(v,{label:"切区设置"},{default:l(()=>[e(U,{data:_.value,style:{width:"100%"}},{default:l(()=>[e(u,{prop:"name",label:""},{default:l(Q=>[e(m,{type:"text",onClick:Ne=>P(Q.$index)},{default:l(()=>[n(G(_.value[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(u,{label:""},{default:l(Q=>[e(m,{type:"danger",onClick:Ne=>b(Q.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Rt,Et,e(m,{type:"primary",onClick:k[9]||(k[9]=Q=>j())},{default:l(()=>[n("添加")]),_:1}),e(Ve,{title:"切区设置",modelValue:c.value,"onUpdate:modelValue":k[13]||(k[13]=Q=>c.value=Q),visible:c.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(ce,{ref:"form",model:h(E),"label-width":"80px"},{default:l(()=>[e(v,{label:"名称"},{default:l(()=>[e(p,{modelValue:h(E).name,"onUpdate:modelValue":k[10]||(k[10]=Q=>h(E).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"控制区域"},{default:l(()=>[e(wt)]),_:1})]),_:1},8,["model"]),t("div",Pt,[e(m,{onClick:k[11]||(k[11]=Q=>c.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:k[12]||(k[12]=Q=>A())},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])]),_:1})])):h(N).type===1?(C(),$("div",Jt,[e(v,{label:"IP"},{default:l(()=>[e(p,{modelValue:h(N).ip,"onUpdate:modelValue":k[14]||(k[14]=Q=>h(N).ip=Q),placeholder:"请输入IP"},null,8,["modelValue"])]),_:1}),e(v,{label:"端口号"},{default:l(()=>[e(p,{modelValue:h(N).port,"onUpdate:modelValue":k[15]||(k[15]=Q=>h(N).port=Q),placeholder:"端口号"},null,8,["modelValue"])]),_:1})])):J("",!0)]),_:1},8,["model"]),t("div",Dt,[e(m,{onClick:k[16]||(k[16]=Q=>s.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(m,{onClick:k[17]||(k[17]=Q=>D(!0))},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Mt=me(Lt,[["__scopeId","data-v-556953e4"]]);g(!0);g({value:[1,1,1,1,1]});const Qe=L=>(pe("data-v-43cb5911"),L=L(),fe(),L),Qt=Qe(()=>t("br",null,null,-1)),jt=Qe(()=>t("br",null,null,-1)),Gt=Qe(()=>t("br",null,null,-1)),Xt={__name:"Manaul",setup(L){g(!1);const o=()=>{ae.value.Manual=le,console.log("1111",ae.value.Manaul)},w=Me(()=>Object.keys(ae.value).filter(x=>x.startsWith("can")&&"can_manual"in ae.value[x])),y=Me(()=>Object.fromEntries(Object.entries(ae.value.com).filter(([x,B])=>x.startsWith("com")&&B===!0)));return(x,B)=>{const S=we,r=_e,d=ve,i=de,_=be;return C(),Pe(_,{ref:"form",model:h(le),"label-width":"150px"},{default:l(()=>[e(r,{label:"🎆选择手控盒"},{default:l(()=>[e(S,{modelValue:h(le).manualcom,"onUpdate:modelValue":B[0]||(B[0]=s=>h(le).manualcom=s),onChange:o},{default:l(()=>[n("✨串口手控盒")]),_:1},8,["modelValue"]),e(S,{modelValue:h(le).manualcan,"onUpdate:modelValue":B[1]||(B[1]=s=>h(le).manualcan=s),onChange:o},{default:l(()=>[n("✨CAN手控盒")]),_:1},8,["modelValue"]),e(S,{modelValue:h(le).manualforklift,"onUpdate:modelValue":B[2]||(B[2]=s=>h(le).manualforklift=s),onChange:o},{default:l(()=>[n("✨叉车手柄")]),_:1},8,["modelValue"]),e(S,{modelValue:h(le).manualonline,"onUpdate:modelValue":B[3]||(B[3]=s=>h(le).manualonline=s),onChange:o},{default:l(()=>[n("✨无线手控盒")]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"🎆选择串口"},{default:l(()=>[e(i,{modelValue:h(le).com,"onUpdate:modelValue":B[4]||(B[4]=s=>h(le).com=s),placeholder:"请选择",disabled:!h(le).manualcom,onChange:o},{default:l(()=>[e(d,{label:"未使用串口",value:0}),(C(!0),$(F,null,Y(y.value,(s,c,O)=>(C(),$(F,null,[s===!0?(C(),Pe(d,{key:O,label:c,value:O+1},null,8,["label","value"])):J("",!0)],64))),256))]),_:1},8,["modelValue","disabled"]),Qt]),_:1}),e(r,{label:"🎆自动上线初始方向"},{default:l(()=>[e(i,{modelValue:h(le).direction,"onUpdate:modelValue":B[5]||(B[5]=s=>h(le).direction=s),placeholder:"请选择",disabled:!h(le).manualcom&&!h(le).manualcan&&!h(le).manualforklift,onChange:o},{default:l(()=>[e(d,{label:"前进",value:0}),e(d,{label:"后退",value:1})]),_:1},8,["modelValue","disabled"]),jt]),_:1}),e(r,{label:"🎆选择can线"},{default:l(()=>[e(i,{modelValue:h(le).can,"onUpdate:modelValue":B[6]||(B[6]=s=>h(le).can=s),placeholder:"请选择",disabled:!h(le).manualcan&&!h(le).manualforklift,onChange:o},{default:l(()=>[e(d,{label:"未安装",value:0}),(C(!0),$(F,null,Y(w.value,(s,c)=>(C(),Pe(d,{key:c,label:s,value:c+1},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),Gt]),_:1})]),_:1},8,["model"])}}},qt=me(Xt,[["__scopeId","data-v-43cb5911"]]),Re=g(!0),T=g({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0}),Ft={key:0},Wt=t("br",null,null,-1),Yt=t("br",null,null,-1),zt=t("br",null,null,-1),Kt=t("br",null,null,-1),Zt={key:1},en=t("br",null,null,-1),ln=t("br",null,null,-1),an=t("br",null,null,-1),un=t("br",null,null,-1),tn={key:2},nn=t("br",null,null,-1),on=t("br",null,null,-1),vn=t("br",null,null,-1),dn={key:3},sn=t("br",null,null,-1),rn=t("br",null,null,-1),mn=t("br",null,null,-1),pn=t("br",null,null,-1),fn={key:4},_n=t("br",null,null,-1),bn=t("br",null,null,-1),gn={__name:"IO",setup(L){const o=g("1"),w=g(!0),y=g(!1),x=g(!1),B=g(!1),S=g(!1);g(!0);const r=g("1"),d=g("1"),i=g("1"),_=g("1"),s=()=>{o.value==="1"||o.value==="2"||o.value==="4"?T.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value),parseInt(_.value)]:o.value==="3"?T.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value),parseInt(i.value)]:o.value==="5"&&(T.value.value=[parseInt(o.value),parseInt(r.value),parseInt(d.value)]),console.log("generateJSON",T.value.value)},c=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],O=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],j=()=>{console.log("putjson,",T.value.value),T.value.value.value!==void 0?T.value.value.value[0]===1||T.value.value.value[0]===2||T.value.value.value[0]===4?(o.value=T.value.value.value[0].toString(),r.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),i.value=T.value.value.value[3].toString(),_.value=T.value.value.value[4].toString(),f()):T.value.value.value[0]===3?(o.value=T.value.value.value[0].toString(),r.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),i.value=T.value.value.value[3].toString(),f()):T.value.value.value[0]===5&&(o.value=T.value.value.value[0].toString(),r.value=T.value.value.value[1].toString(),d.value=T.value.value.value[2].toString(),f()):T.value.value!==void 0?T.value.value[0]===1||T.value.value[0]===2||T.value.value[0]===4?(o.value=T.value.value[0].toString(),r.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),i.value=T.value.value[3].toString(),_.value=T.value.value[4].toString(),f()):T.value.value[0]===3?(o.value=T.value.value[0].toString(),r.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),i.value=T.value.value[3].toString(),f()):T.value.value[0]===5&&(o.value=T.value.value[0].toString(),r.value=T.value.value[1].toString(),d.value=T.value.value[2].toString(),f()):(f(),console.log("putJSONelse"))},f=()=>{switch(console.log("handleChange",o.value),o.value){case"1":w.value=!0,y.value=!1,x.value=!1,B.value=!1,S.value=!1,s();return;case"2":w.value=!1,y.value=!0,x.value=!1,B.value=!1,S.value=!1,s();return;case"3":w.value=!1,y.value=!1,x.value=!0,B.value=!1,S.value=!1,s();return;case"4":w.value=!1,y.value=!1,x.value=!1,B.value=!0,S.value=!1,s();return;case"5":w.value=!1,y.value=!1,x.value=!1,B.value=!1,S.value=!0,s();return}};j();let P=0;return re(Re,()=>{const D=Date.now();D-P>=700&&(j(),P=D)}),(D,A)=>{const I=ge,b=ve,a=de,k=ne;return C(),$("div",null,[(C(),$(F,null,Y(c,(m,u)=>e(I,{key:u,modelValue:o.value,"onUpdate:modelValue":A[0]||(A[0]=U=>o.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),w.value?(C(),$("div",Ft,[n(" 远程模块连接到: "),(C(),$(F,null,Y(O,(m,u)=>e(I,{key:u,modelValue:r.value,"onUpdate:modelValue":A[1]||(A[1]=U=>r.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),Wt,n(" CAN-POS模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[2]||(A[2]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Yt,n(" 模块内输出点编号: "),e(a,{modelValue:i.value,"onUpdate:modelValue":A[3]||(A[3]=m=>i.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),zt,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[4]||(A[4]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),Kt])):J("",!0),y.value?(C(),$("div",Zt,[n(" 远程模块连接到: "),(C(),$(F,null,Y(O,(m,u)=>e(I,{key:u,modelValue:r.value,"onUpdate:modelValue":A[5]||(A[5]=U=>r.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),en,n(" CAN-OPEN模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[6]||(A[6]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ln,n(" 模块内输出点编号: "),e(a,{modelValue:i.value,"onUpdate:modelValue":A[7]||(A[7]=m=>i.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),an,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[8]||(A[8]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),un])):J("",!0),x.value?(C(),$("div",tn,[n(" 本地IO地址: "),e(k,{modelValue:r.value,"onUpdate:modelValue":A[9]||(A[9]=m=>r.value=m),type:"number",onChange:s},null,8,["modelValue"]),nn,n(" 输出点对应位: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[10]||(A[10]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"BIT1",value:"0"}),e(b,{label:"BIT2",value:"1"}),e(b,{label:"BIT3",value:"2"}),e(b,{label:"BIT4",value:"3"}),e(b,{label:"BIT5",value:"4"}),e(b,{label:"BIT6",value:"5"}),e(b,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),on,n(" 信号极性: "),e(a,{modelValue:i.value,"onUpdate:modelValue":A[11]||(A[11]=m=>i.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),vn])):J("",!0),B.value?(C(),$("div",dn,[n(" 远程模块连接到: "),(C(),$(F,null,Y(O,(m,u)=>e(I,{key:u,modelValue:r.value,"onUpdate:modelValue":A[12]||(A[12]=U=>r.value=U),label:m.value,onChange:f},{default:l(()=>[t("pre",null,G(m.label),1)]),_:2},1032,["modelValue","label"])),64)),sn,n(" CAN-IO模块编号: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[13]||(A[13]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),rn,n(" 模块内输出点编号: "),e(a,{modelValue:i.value,"onUpdate:modelValue":A[14]||(A[14]=m=>i.value=m),onChange:s},{default:l(()=>[e(b,{label:"0",value:"0"}),e(b,{label:"1",value:"1"}),e(b,{label:"2",value:"2"})]),_:1},8,["modelValue"]),mn,n(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":A[15]||(A[15]=m=>_.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),pn])):J("",!0),S.value?(C(),$("div",fn,[n(" 输入点对应位: "),e(k,{modelValue:r.value,"onUpdate:modelValue":A[16]||(A[16]=m=>r.value=m),type:"number",onChange:s},null,8,["modelValue"]),_n,n(" 信号极性: "),e(a,{modelValue:d.value,"onUpdate:modelValue":A[17]||(A[17]=m=>d.value=m),onChange:s},{default:l(()=>[e(b,{label:"碰撞时为高电平",value:"0"}),e(b,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),bn])):J("",!0)])}}};const Vn=L=>(pe("data-v-8ed8da04"),L=L(),fe(),L),cn=Vn(()=>t("br",null,null,-1)),Cn={slot:"footer",class:"dialog-footer"},In="声音",$n={__name:"Sound",setup(L){const o=g(!1),w=()=>{T.value.name="No name",T.value.value.value=[1,1,1,1,1],T.value.editingIndex=-1,T.value.ontime=0,T.value.offtime=0,o.value=!0,Re.value=!Re.value},y=S=>{T.value.name=te.value[S].name,T.value.ontime=te.value[S].ontime,T.value.offtime=te.value[S].offtime,T.value.value.value=te.value[S].value,T.value.editingIndex=S,console.log("reedit",S),console.log("reedit",te.value[S].value),console.log("reedit",T.value.value.value),Re.value=!Re.value,o.value=!0},x=()=>{if(T.value.name){if(T.value.editingIndex!==-1)te.value[T.value.editingIndex].name=T.value.name,te.value[T.value.editingIndex].ontime=T.value.ontime,te.value[T.value.editingIndex].offtime=T.value.offtime,T.value.value!=null&&(te.value[T.value.editingIndex].value=T.value.value),ae.value.Sound=te;else{const S={...T.value};te.value.push(JSON.parse(JSON.stringify(S))),ae.value.Sound=te,console.log("handleAddRow",S)}o.value=!1}else ye.error("请填写完整数据")},B=S=>{te.value.splice(S,1)};return(S,r)=>{const d=Se,i=he,_=Ue,s=ne,c=_e,O=be,j=ke;return C(),$("div",null,[e(_,{data:h(te),style:{width:"100%"}},{default:l(()=>[e(i,{prop:"name",label:""},{default:l(f=>[e(d,{type:"text",onClick:P=>y(f.$index)},{default:l(()=>[n(G(h(te)[f.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{label:""},{default:l(f=>[e(d,{type:"danger",onClick:P=>B(f.$index)},{default:l(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),cn,e(d,{type:"primary",onClick:w},{default:l(()=>[n("添加")]),_:1}),e(j,{title:In,modelValue:o.value,"onUpdate:modelValue":r[4]||(r[4]=f=>o.value=f),visible:o.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(O,{ref:"form",model:h(T),"label-width":"80px"},{default:l(()=>[e(c,{label:"名称"},{default:l(()=>[e(s,{modelValue:h(T).name,"onUpdate:modelValue":r[0]||(r[0]=f=>h(T).name=f),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"IO"},{default:l(()=>[e(gn)]),_:1}),e(c,{label:"开启时间"},{default:l(()=>[e(s,{modelValue:h(T).ontime,"onUpdate:modelValue":r[1]||(r[1]=f=>h(T).ontime=f),modelModifiers:{number:!0},placeholder:"开启时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1}),e(c,{label:"关闭时间"},{default:l(()=>[e(s,{modelValue:h(T).offtime,"onUpdate:modelValue":r[2]||(r[2]=f=>h(T).offtime=f),modelModifiers:{number:!0},placeholder:"关闭时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("div",Cn,[e(d,{onClick:r[3]||(r[3]=f=>o.value=!1)},{default:l(()=>[n("取 消")]),_:1}),e(d,{onClick:x},{default:l(()=>[n("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},yn=me($n,[["__scopeId","data-v-8ed8da04"]]);const X=L=>(pe("data-v-8bc18376"),L=L(),fe(),L),Sn={class:"page-container main-view"},kn={class:"table-box content-container page-content-box"},hn={class:"left"},Un=X(()=>t("hr",{class:"hengxian"},null,-1)),wn={class:"left"},Bn=X(()=>t("h2",null,"⚠️ 电器模块：",-1)),Nn=X(()=>t("hr",{class:"hengxian2"},null,-1)),On=X(()=>t("h3",null,"⚠️ 开关:",-1)),xn=X(()=>t("br",null,null,-1)),An=X(()=>t("br",null,null,-1)),Tn=X(()=>t("span",{class:"title"},"🔖 启动按钮:",-1)),Hn={key:0},Rn={key:1},En=X(()=>t("br",null,null,-1)),Pn={key:0},Jn=X(()=>t("br",null,null,-1)),Dn=X(()=>t("br",null,null,-1)),Ln=X(()=>t("span",{class:"title"},"🔖 急停开关:",-1)),Mn={key:0},Qn={key:1},jn=X(()=>t("br",null,null,-1)),Gn={key:1},Xn=X(()=>t("br",null,null,-1)),qn=X(()=>t("hr",{class:"hengxian3"},null,-1)),Fn=X(()=>t("h3",null,"⚠️ 防碰设备:",-1)),Wn=X(()=>t("br",null,null,-1)),Yn=X(()=>t("br",null,null,-1)),zn=X(()=>t("span",{class:"title"},"🔖 可切区PLS:",-1)),Kn={key:0},Zn={key:1},eo=X(()=>t("br",null,null,-1)),lo={key:2},ao=X(()=>t("br",null,null,-1)),uo=X(()=>t("br",null,null,-1)),to=X(()=>t("span",{class:"title"},"🔖 硬保险杠:",-1)),no={key:0},oo={key:1},vo=X(()=>t("br",null,null,-1)),so={key:3},io=X(()=>t("br",null,null,-1)),ro=X(()=>t("hr",{class:"hengxian3"},null,-1)),mo=X(()=>t("h3",null,"⚠️ 继电器:",-1)),po={key:0},fo={key:1},_o=X(()=>t("br",null,null,-1)),bo={key:4},go=X(()=>t("br",null,null,-1)),Vo=X(()=>t("hr",{class:"hengxian3"},null,-1)),co=X(()=>t("h3",null,"⚠️ 电池指示表:",-1)),Co=X(()=>t("br",null,null,-1)),Io=X(()=>t("br",null,null,-1)),$o=X(()=>t("hr",{class:"hengxian3"},null,-1)),yo=X(()=>t("h3",{style:{display:"inline-block"}},"⚠️ 扬声器:",-1)),So={key:0},ko={key:1},ho=X(()=>t("br",null,null,-1)),Uo={key:5},wo=X(()=>t("br",null,null,-1)),Bo=X(()=>t("hr",{class:"hengxian3"},null,-1)),No=X(()=>t("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),Oo={key:0},xo={key:1},Ao=X(()=>t("br",null,null,-1)),To={key:6},Ho=X(()=>t("br",null,null,-1)),Ro=X(()=>t("hr",{class:"hengxian2"},null,-1)),Eo=X(()=>t("hr",{class:"kongge"},null,-1)),Po={__name:"electrion",setup(L){const o=g(!1),w=()=>{o.value=!0},y=Me(()=>JSON.stringify(ae.value,null,2)),x=g(!1),B=g(!1),S=g(!1),r=g(!1),d=g(!1),i=g(!1),_=g(!1),s=g(!1),c=()=>{r.value=!r.value},O=()=>{s.value=!s.value},j=()=>{_.value=!_.value},f=()=>{i.value=!i.value},P=()=>{S.value=!S.value},D=()=>{B.value=!B.value},A=()=>{x.value=!x.value},I=()=>{d.value=!0},b=()=>{router.push("/main/second")},a=()=>{router.push("/main/fifth")};return(k,m)=>{const u=Se,U=ke;return C(),$("div",null,[t("div",Sn,[t("div",kn,[t("div",hn,[e(u,{type:"primary",onClick:w},{default:l(()=>[n(" 查看设备 ")]),_:1}),e(U,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=p=>o.value=p),title:"设备总览",visible:o.value,width:"900px",onClose:m[1]||(m[1]=p=>o.value=!1)},{default:l(()=>[e(We)]),_:1},8,["modelValue","visible"]),n("   "),e(u,{type:"info",onClick:I,plain:""},{default:l(()=>[n(" 查看 ")]),_:1}),e(U,{modelValue:d.value,"onUpdate:modelValue":m[2]||(m[2]=p=>d.value=p),title:"数据",visible:d.value,onClose:m[3]||(m[3]=p=>d.value=!1)},{default:l(()=>[t("pre",null,G(y.value),1)]),_:1},8,["modelValue","visible"])]),Un,t("div",wn,[Bn,n(" 配置电器模块： "),Nn,On,n(" 配置按钮相关: "),xn,An,Tn,e(u,{onClick:A,type:"text",plain:"",disabled:!1},{default:l(()=>[x.value?(C(),$("span",Rn,"展开")):(C(),$("span",Hn,"展开")),t("span",{class:Ie({"rotate-arrow":x.value})},"➡️",2)]),_:1}),En,x.value?(C(),$("div",Pn,[e(au),Jn])):J("",!0),Dn,Ln,e(u,{onClick:D,type:"text",plain:"",disabled:!1},{default:l(()=>[B.value?(C(),$("span",Qn,"展开")):(C(),$("span",Mn,"展开")),t("span",{class:Ie({"rotate-arrow":B.value})},"➡️",2)]),_:1}),jn,B.value?(C(),$("div",Gn,[e(Ou),Xn])):J("",!0),qn,Fn,n(" 配置保险杠和PLS相关: "),Wn,Yn,zn,e(u,{onClick:P,type:"text",plain:"",disabled:!1},{default:l(()=>[S.value?(C(),$("span",Zn,"展开")):(C(),$("span",Kn,"展开")),t("span",{class:Ie({"rotate-arrow":S.value})},"➡️",2)]),_:1}),eo,S.value?(C(),$("div",lo,[e(Mt),ao])):J("",!0),uo,to,e(u,{onClick:c,type:"text",plain:"",disabled:!1},{default:l(()=>[r.value?(C(),$("span",oo,"展开")):(C(),$("span",no,"展开")),t("span",{class:Ie({"rotate-arrow":r.value})},"➡️",2)]),_:1}),vo,r.value?(C(),$("div",so,[e(Kl),io])):J("",!0),ro,mo,n(" 配置继电器相关: "),e(u,{onClick:f,type:"text",plain:"",disabled:!1},{default:l(()=>[i.value?(C(),$("span",fo,"展开")):(C(),$("span",po,"展开")),t("span",{class:Ie({"rotate-arrow":i.value})},"➡️",2)]),_:1}),_o,i.value?(C(),$("div",bo,[e(Ua),go])):J("",!0),Vo,co,Co,Io,e(Pu),$o,yo,e(u,{onClick:O,type:"text",plain:"",disabled:!1},{default:l(()=>[s.value?(C(),$("span",ko,"展开")):(C(),$("span",So,"展开")),t("span",{class:Ie({"rotate-arrow":s.value})},"➡️",2)]),_:1}),ho,s.value?(C(),$("div",Uo,[e(yn),wo])):J("",!0),Bo,No,e(u,{onClick:j,type:"text",plain:"",disabled:!1},{default:l(()=>[_.value?(C(),$("span",xo,"展开")):(C(),$("span",Oo,"展开")),t("span",{class:Ie({"rotate-arrow":_.value})},"➡️",2)]),_:1}),Ao,_.value?(C(),$("div",To,[e(qt),Ho])):J("",!0)]),Ro,e(u,{type:"primary",onClick:a},{default:l(()=>[n("下一步")]),_:1}),Eo,e(u,{type:"primary",onClick:b},{default:l(()=>[n("上一步")]),_:1})])])])}}},uv=me(Po,[["__scopeId","data-v-8bc18376"]]);export{uv as default};
