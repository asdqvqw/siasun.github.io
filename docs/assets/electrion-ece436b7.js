import{aV as p,bB as pe,o as h,c as $,b as e,f as l,m as t,F as z,aY as Z,a as n,bc as F,g as L,E as ve,_ as fe,bl as w,cv as Ie,l as $e,p as _e,q as be,e as Je,Q as Qe}from"./index-e3c3ccff.js";import{E as ye}from"./el-dialog-e69e6c9f.js";import{g as W,j as ue,h as ne,i as re,k as me,l as le,m as q,n as ae,o as oe}from"./commondata-86d89212.js";/* empty css                *//* empty css                    */import"./el-tag-ec687b5d.js";import{E as se,a as ie}from"./el-select-4ca34f81.js";import"./el-scrollbar-1616d62b.js";import"./el-popper-91791709.js";import{E as ge,a as Ve}from"./el-form-item-2b2274b8.js";import{E as we,a as Se}from"./el-table-column-4df7f294.js";import"./el-tooltip-4ed993c7.js";/* empty css                 */import{E as Ue}from"./index-176a71e9.js";import{E as ce}from"./index-c6199d0c.js";import{_ as Ee}from"./DefinScrollbar-94f662b6.js";import{_ as Ze}from"./check-4df054e9.js";import"./index-43876011.js";import"./isEqual-b5cff9cc.js";import"./8Array-c7fce432.js";import"./debounce-a335400b.js";import"./CloneObject-ccd2b450.js";/* empty css                                                                       */const xe=p(!0),de=p(!0),b=p({name:"",value:[1,1,1,1,1],editingIndex:-1,isHardBum:!1,pos:7,HardBum:{one:{input:[0,2,2,2,0],output:[0,2,2,2,0]},two:{input:[0,2,2,2,0],output:[0,2,2,2,0]},reset:{input:[0,2,2,2,0],output:[0,2,2,2,0]}}}),Ke=n("br",null,null,-1),el={key:0},ll={key:0},al=n("br",null,null,-1),ul=n("br",null,null,-1),tl=n("br",null,null,-1),nl=n("br",null,null,-1),ol={key:1},vl=n("br",null,null,-1),dl=n("br",null,null,-1),sl=n("br",null,null,-1),il=n("br",null,null,-1),rl={key:2},ml=n("br",null,null,-1),pl=n("br",null,null,-1),fl=n("br",null,null,-1),_l={key:3},bl=n("br",null,null,-1),gl=n("br",null,null,-1),Vl=n("br",null,null,-1),cl=n("br",null,null,-1),Cl={key:4},hl=n("br",null,null,-1),Il=n("br",null,null,-1),$l={__name:"IO",setup(M){const o=p("1"),k=p(!0),C=p(!1),A=p(!1),B=p(!1),I=p(!1),i=p(!0),s=p("1"),r=p("1"),_=p("1"),f=p("1"),O=p(""),H=p(""),x=()=>{i.value||(b.value.value=[0,2,2,2,0]),V()},V=()=>{if(i.value){if(o.value==="1"||o.value==="2"||o.value==="4")b.value.value=[parseInt(o.value),parseInt(s.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(o.value==="3")b.value.value=[parseInt(o.value),parseInt(s.value),parseInt(r.value),parseInt(_.value)];else if(o.value==="5"){const d=parseInt(s.value,16);O.value=isNaN(d)?"":d.toString(),b.value.value=[parseInt(o.value),parseInt(O.value),parseInt(r.value)]}}else b.value.value=[0,2,2,2,0];console.log("generateJSON",b.value.value)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],S=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],G=()=>{if(console.log("putjson,",b.value.value.value),b.value.value.value!==void 0)if(b.value.value.value[0]===1||b.value.value.value[0]===2||b.value.value.value[0]===4)o.value=b.value.value.value[0].toString(),i.value=!0,s.value=b.value.value.value[1].toString(),r.value=b.value.value.value[2].toString(),_.value=b.value.value.value[3].toString(),f.value=b.value.value.value[4].toString(),R();else if(b.value.value.value[0]===3)i.value=!0,o.value=b.value.value.value[0].toString(),s.value=b.value.value.value[1].toString(),r.value=b.value.value.value[2].toString(),_.value=b.value.value.value[3].toString(),R();else if(b.value.value.value[0]===5){o.value=b.value.value.value[0].toString(),i.value=!0;const d=parseInt(b.value.value.value[1],10);H.value=isNaN(d)?"":d.toString(16),s.value=H.value.toString(),r.value=b.value.value.value[2].toString(),R()}else b.value.value.value[0]===0&&(i.value=!1,R());else if(b.value.value!==void 0)if(b.value.value[0]===1||b.value.value[0]===2||b.value.value[0]===4)o.value=b.value.value[0].toString(),i.value=!0,s.value=b.value.value[1].toString(),r.value=b.value.value[2].toString(),_.value=b.value.value[3].toString(),f.value=b.value.value[4].toString(),R();else if(b.value.value[0]===3)i.value=!0,o.value=b.value.value[0].toString(),s.value=b.value.value[1].toString(),r.value=b.value.value[2].toString(),_.value=b.value.value[3].toString(),R();else if(b.value.value[0]===5){o.value=b.value.value[0].toString(),i.value=!0;const d=parseInt(b.value.value[1],10);H.value=isNaN(d)?"":d.toString(16),s.value=H.value.toString(),r.value=b.value.value[2].toString(),R()}else b.value.value.value[0]===0&&(i.value=!1,R());else i.value=!1,R(),console.log("putJSONelse")},R=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,C.value=!1,A.value=!1,B.value=!1,I.value=!1,V();return;case"2":k.value=!1,C.value=!0,A.value=!1,B.value=!1,I.value=!1,V();return;case"3":k.value=!1,C.value=!1,A.value=!0,B.value=!1,I.value=!1,V();return;case"4":k.value=!1,C.value=!1,A.value=!1,B.value=!0,I.value=!1,V();return;case"5":k.value=!1,C.value=!1,A.value=!1,B.value=!1,I.value=!0,V();return}};G();let y=0;return pe(xe,()=>{const d=Date.now();d-y>=700&&(G(),y=d)}),(d,v)=>{const u=Ue,D=ce,m=se,a=ie,U=ve;return h(),$("div",null,[e(u,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=c=>i.value=c),onChange:x},{default:l(()=>[t("启用:")]),_:1},8,["modelValue"]),Ke,i.value?(h(),$("div",el,[(h(),$(z,null,Z(j,(c,g)=>e(D,{key:g,modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=X=>o.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(h(),$("div",ll,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[2]||(v[2]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),al,t(" CAN-POS模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[3]||(v[3]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ul,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[4]||(v[4]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),tl,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[5]||(v[5]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),nl])):L("",!0),C.value?(h(),$("div",ol,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[6]||(v[6]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),vl,t(" CAN-OPEN模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[7]||(v[7]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),dl,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[8]||(v[8]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),sl,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[9]||(v[9]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),il])):L("",!0),A.value?(h(),$("div",rl,[t(" 本地IO地址: "),e(U,{modelValue:s.value,"onUpdate:modelValue":v[10]||(v[10]=c=>s.value=c),type:"number",onChange:V},null,8,["modelValue"]),ml,t(" 输出点对应位: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[11]||(v[11]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),pl,t(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[12]||(v[12]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),fl])):L("",!0),B.value?(h(),$("div",_l,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[13]||(v[13]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),bl,t(" CAN-IO模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[14]||(v[14]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),gl,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[15]||(v[15]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Vl,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[16]||(v[16]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),cl])):L("",!0),I.value?(h(),$("div",Cl,[t(" 输入点对应位: "),e(U,{modelValue:s.value,"onUpdate:modelValue":v[17]||(v[17]=c=>s.value=c),onChange:V},null,8,["modelValue"]),hl,t(" 信号极性: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[18]||(v[18]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),Il])):L("",!0)])):L("",!0)])}}},yl=n("br",null,null,-1),wl={key:0},Sl={key:0},Ul=n("br",null,null,-1),kl=n("br",null,null,-1),Nl=n("br",null,null,-1),Bl={key:1},xl=n("br",null,null,-1),Ol=n("br",null,null,-1),Al=n("br",null,null,-1),Hl={key:2},Tl=n("br",null,null,-1),Rl=n("br",null,null,-1),El={key:3},Pl=n("br",null,null,-1),Jl=n("br",null,null,-1),Dl=n("br",null,null,-1),Ll={key:4},Ml=n("br",null,null,-1),Ne={__name:"IOinoutPut",props:{wheel:{type:Array,required:!0}},setup(M){const o=M,k=p(!1),C=p("1"),A=p(!0),B=p(!1),I=p(!1),i=p(!1),s=p(!1),r=p("1"),_=p("1"),f=p("1"),O=p("1"),H=p(""),x=p(""),V=()=>{if(o.wheel[0]!==void 0)if(o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString(),O.value=o.wheel[4].toString();else if(o.wheel[0]===3)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString();else if(o.wheel[0]===5){k.value=!0,C.value=o.wheel[0].toString(),y();const v=parseInt(o.wheel[1],10);x.value=isNaN(v)?"":v.toString(16),r.value=x.value.toString(),_.value=o.wheel[2].toString()}else o.wheel[0]===0&&(k.value=!1,y());else k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),S()},S=()=>{if(!k.value)o.wheel.value=[0,2,2,2,0];else if(C.value==="1"||C.value==="2"||C.value==="4")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value),parseInt(O.value)];else if(C.value==="3")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(C.value==="5"){const v=parseInt(r.value,16);H.value=isNaN(v)?"":v.toString(),o.wheel.value=[parseInt(C.value),parseInt(H.value),parseInt(_.value)]}},G=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],R=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],y=()=>{switch(C.value){case"1":A.value=!0,B.value=!1,I.value=!1,i.value=!1,s.value=!1,S();return;case"2":A.value=!1,B.value=!0,I.value=!1,i.value=!1,s.value=!1,S();return;case"3":A.value=!1,B.value=!1,I.value=!0,i.value=!1,s.value=!1,S();return;case"4":A.value=!1,B.value=!1,I.value=!1,i.value=!0,s.value=!1,S();return;case"5":A.value=!1,B.value=!1,I.value=!1,i.value=!1,s.value=!0,S();return}};V();let d=0;return pe(de,()=>{const v=Date.now();v-d>=700&&(V(),d=v)}),(v,u)=>{const D=Ue,m=ce,a=se,U=ie,c=ve;return h(),$("div",null,[e(D,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=g=>k.value=g),onChange:j},{default:l(()=>[t("启用:")]),_:1},8,["modelValue"]),yl,k.value?(h(),$("div",wl,[(h(),$(z,null,Z(G,(g,X)=>e(m,{key:X,modelValue:C.value,"onUpdate:modelValue":u[1]||(u[1]=ee=>C.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),A.value?(h(),$("div",Sl,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),Ul,t(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[3]||(u[3]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),kl,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Nl,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[5]||(u[5]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),B.value?(h(),$("div",Bl,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),xl,t(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[7]||(u[7]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ol,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[8]||(u[8]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Al,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[9]||(u[9]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),I.value?(h(),$("div",Hl,[t(" 本地IO地址: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[10]||(u[10]=g=>r.value=g),type:"number",onChange:S},null,8,["modelValue"]),Tl,t(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[11]||(u[11]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Rl,t(" 信号极性: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[12]||(u[12]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),i.value?(h(),$("div",El,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[13]||(u[13]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),Pl,t(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[14]||(u[14]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Jl,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[15]||(u[15]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Dl,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[16]||(u[16]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),s.value?(h(),$("div",Ll,[t(" 输入点对应位: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[17]||(u[17]=g=>r.value=g),onChange:S},null,8,["modelValue"]),Ml,t(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[18]||(u[18]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0)])):L("",!0)])}}};const Pe=M=>(_e("data-v-b030e0b9"),M=M(),be(),M),Ql=Pe(()=>n("br",null,null,-1)),jl=Pe(()=>n("br",null,null,-1)),Gl={key:0,style:{"margin-left":"2%"}},Xl={slot:"footer",class:"dialog-footer"},ql={slot:"footer",class:"dialog-footer"},Fl={slot:"footer",class:"dialog-footer"},Wl={slot:"footer",class:"dialog-footer"},Yl={slot:"footer",class:"dialog-footer"},zl={slot:"footer",class:"dialog-footer"},Zl=Pe(()=>n("br",null,null,-1)),Kl=Pe(()=>n("br",null,null,-1)),ea={slot:"footer",class:"dialog-footer"},la=Pe(()=>n("br",null,null,-1)),De="输入点",Le="输出点",aa="硬保险杠",ua={__name:"Bumper",setup(M){const o=p(!1),k=p(!1),C=p(!1),A=p(!1),B=p(!1),I=p(!1),i=p(!1),s=()=>{de.value=!de.value,B.value=!0},r=()=>{u(!1),B.value=!1},_=()=>{de.value=!de.value,I.value=!0},f=()=>{u(!1),I.value=!1},O=()=>{de.value=!de.value,A.value=!0},H=()=>{u(!1),A.value=!1},x=()=>{de.value=!de.value,C.value=!0},V=()=>{u(!1),C.value=!1},j=()=>{de.value=!de.value,k.value=!0},S=()=>{u(!1),k.value=!1},G=()=>{de.value=!de.value,o.value=!0},R=()=>{u(!1),o.value=!1},y=()=>{b.isHardBum=!b.isHardBum},d=()=>{b.value.name="No name",b.value.pos=7,b.value.isHardBum=!1,b.value.value.value=[1,1,1,1,1],b.value.editingIndex=-1,b.value.HardBum.one.input=[0,2,2,2,0],b.value.HardBum.one.output=[0,2,2,2,0],b.value.HardBum.two.input=[0,2,2,2,0],b.value.HardBum.two.output=[0,2,2,2,0],b.value.HardBum.reset.input=[0,2,2,2,0],b.value.HardBum.reset.output=[0,2,2,2,0],console.log("addNewRow",b.value.value.value),i.value=!0,xe.value=!xe.value},v=m=>{b.value.name=W.value[m].name,b.value.pos=W.value[m].pos,b.value.isHardBum=W.value[m].isHardBum,b.value.value.value=W.value[m].value,W.value[m].HardBum.one.input!==void 0&&(b.value.HardBum.one.input=W.value[m].HardBum.one.input),W.value[m].HardBum.one.output!==void 0&&(b.value.HardBum.one.output=W.value[m].HardBum.one.output),W.value[m].HardBum.two.input!==void 0&&(b.value.HardBum.two.input=W.value[m].HardBum.two.input),W.value[m].HardBum.two.output!==void 0&&(b.value.HardBum.two.output=W.value[m].HardBum.two.output),W.value[m].HardBum.reset.input!==void 0&&(b.value.HardBum.reset.input=W.value[m].HardBum.reset.input),W.value[m].HardBum.reset.output!==void 0&&(b.value.HardBum.reset.output=W.value[m].HardBum.reset.output),b.value.editingIndex=m,console.log("reedit",m),console.log("reedit",W.value[m].value),console.log("reedit",b.value.value.value),xe.value=!xe.value,i.value=!0},u=m=>{if(b.value.name){if(b.value.editingIndex!==-1)W.value[b.value.editingIndex].name=b.value.name,W.value[b.value.editingIndex].pos=b.value.pos,W.value[b.value.editingIndex].isHardBum=b.value.isHardBum,console.log("1111",b.value.HardBum.one.input.value),b.value.HardBum.one.input.value!==void 0&&(W.value[b.value.editingIndex].HardBum.one.input=b.value.HardBum.one.input.value,b.value.HardBum.one.input=W.value[b.value.editingIndex].HardBum.one.input),b.value.HardBum.one.output.value!==void 0&&(W.value[b.value.editingIndex].HardBum.one.output=b.value.HardBum.one.output.value,b.value.HardBum.one.output=W.value[b.value.editingIndex].HardBum.one.output),b.value.HardBum.two.input.value!==void 0&&(W.value[b.value.editingIndex].HardBum.two.input=b.value.HardBum.two.input.value,b.value.HardBum.two.input=W.value[b.value.editingIndex].HardBum.two.input),b.value.HardBum.two.output.value!==void 0&&(W.value[b.value.editingIndex].HardBum.two.output=b.value.HardBum.two.output.value,b.value.HardBum.two.output=W.value[b.value.editingIndex].HardBum.two.output),b.value.HardBum.reset.input.value!==void 0&&(W.value[b.value.editingIndex].HardBum.reset.input=b.value.HardBum.reset.input.value,b.value.HardBum.reset.input=W.value[b.value.editingIndex].HardBum.reset.input),b.value.HardBum.reset.output.value!==void 0&&(W.value[b.value.editingIndex].HardBum.reset.output=b.value.HardBum.reset.output.value,b.value.HardBum.reset.output=W.value[b.value.editingIndex].HardBum.reset.output),b.value.value!=null&&(W.value[b.value.editingIndex].value=b.value.value),ue.value.HardBumper=W,console.log("handleAddRow",b.value.HardBum.one.input.value),console.log("handleAddRow",W.value[b.value.editingIndex].HardBum);else if(b.value.HardBum.one.output.value!==void 0&&(b.value.HardBum.one.output=b.value.HardBum.one.output.value),b.value.HardBum.one.input.value!==void 0&&(b.value.HardBum.one.input=b.value.HardBum.one.input.value),b.value.HardBum.two.output.value!==void 0&&(b.value.HardBum.two.output=b.value.HardBum.two.output.value),b.value.HardBum.two.input.value!==void 0&&(b.value.HardBum.two.input=b.value.HardBum.two.input.value),b.value.HardBum.reset.output.value!==void 0&&(b.value.HardBum.reset.output=b.value.HardBum.reset.output.value),b.value.HardBum.reset.input.value!==void 0&&(b.value.HardBum.reset.input=b.value.HardBum.reset.input.value),m){const a={...b.value};W.value.push(JSON.parse(JSON.stringify(a))),ue.value.HardBumper=W,console.log("handleAddRow",a)}m&&(i.value=!1)}else Ie.error("请填写完整数据")},D=m=>{W.value.splice(m,1)};return(m,a)=>{const U=$e,c=we,g=Se,X=ve,ee=ge,Q=se,Be=ie,We=Ue,Ye=Ve,Ce=ye;return h(),$("div",null,[e(g,{data:w(W),style:{width:"100%"},class:"tableDataCrtlBumper"},{default:l(()=>[e(c,{prop:"name",label:"🔖 硬保险杠"},{default:l(K=>[e(U,{type:"text",onClick:ze=>v(K.$index)},{default:l(()=>[t(F(w(W)[K.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(c,{label:""},{header:l(()=>[e(U,{type:"primary",onClick:d},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(c,{label:"操作"},{default:l(K=>[e(U,{type:"danger",onClick:ze=>D(K.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(Ce,{title:aa,modelValue:i.value,"onUpdate:modelValue":a[17]||(a[17]=K=>i.value=K),visible:i.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(Ee,{height:"100%",showUpBt:!0},{default:l(()=>[Ql,e(Ye,{ref:"form",model:w(b),"label-width":"80px"},{default:l(()=>[e(ee,{label:"名称"},{default:l(()=>[e(X,{modelValue:w(b).name,"onUpdate:modelValue":a[0]||(a[0]=K=>w(b).name=K),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(ee,{label:"IO"},{default:l(()=>[e($l)]),_:1}),e(ee,{label:"安装位置"},{default:l(()=>[e(Be,{modelValue:w(b).pos,"onUpdate:modelValue":a[1]||(a[1]=K=>w(b).pos=K)},{default:l(()=>[e(Q,{label:"前侧",value:0}),e(Q,{label:"后侧",value:1}),e(Q,{label:"左侧",value:2}),e(Q,{label:"右侧",value:3}),e(Q,{label:"环绕四周",value:4}),e(Q,{label:"前侧+后侧",value:5}),e(Q,{label:"左侧+右侧",value:6}),e(Q,{label:"未设置",value:7})]),_:1},8,["modelValue"])]),_:1}),e(ee,null,{default:l(()=>[e(We,{modelValue:w(b).isHardBum,"onUpdate:modelValue":a[2]||(a[2]=K=>w(b).isHardBum=K),onChange:y},{default:l(()=>[t("车型为硬件停车型保险杠")]),_:1},8,["modelValue"]),jl]),_:1})]),_:1},8,["model"]),w(b).isHardBum?(h(),$("div",Gl,[t("   "),e(U,{onClick:G,type:"primary"},{default:l(()=>[t("禁止继电器1输入点")]),_:1}),e(Ce,{title:De,modelValue:o.value,"onUpdate:modelValue":a[4]||(a[4]=K=>o.value=K),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.one.input},null,8,["wheel"])]),n("div",Xl,[e(U,{onClick:a[3]||(a[3]=K=>o.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:R},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(U,{onClick:j,type:"primary"},{default:l(()=>[t("禁止继电器1输出点")]),_:1}),e(Ce,{title:Le,modelValue:k.value,"onUpdate:modelValue":a[6]||(a[6]=K=>k.value=K),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.one.output},null,8,["wheel"])]),n("div",ql,[e(U,{onClick:a[5]||(a[5]=K=>k.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:S},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(U,{onClick:x,type:"primary"},{default:l(()=>[t("禁止继电器2输入点")]),_:1}),e(Ce,{title:De,modelValue:C.value,"onUpdate:modelValue":a[8]||(a[8]=K=>C.value=K),visible:C.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.two.input},null,8,["wheel"])]),n("div",Fl,[e(U,{onClick:a[7]||(a[7]=K=>C.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:V},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(U,{onClick:O,type:"primary"},{default:l(()=>[t("禁止继电器2输出点")]),_:1}),e(Ce,{title:Le,modelValue:A.value,"onUpdate:modelValue":a[10]||(a[10]=K=>A.value=K),visible:A.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.two.output},null,8,["wheel"])]),n("div",Wl,[e(U,{onClick:a[9]||(a[9]=K=>A.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:H},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(U,{onClick:s,type:"primary"},{default:l(()=>[t("复位继电器输入点")]),_:1}),e(Ce,{title:De,modelValue:B.value,"onUpdate:modelValue":a[12]||(a[12]=K=>B.value=K),visible:B.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.reset.input},null,8,["wheel"])]),n("div",Yl,[e(U,{onClick:a[11]||(a[11]=K=>B.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:r},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(U,{onClick:_,type:"primary"},{default:l(()=>[t("复位继电器输出点")]),_:1}),e(Ce,{title:Le,modelValue:I.value,"onUpdate:modelValue":a[14]||(a[14]=K=>I.value=K),visible:I.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ne,{wheel:w(b).HardBum.reset.output},null,8,["wheel"])]),n("div",zl,[e(U,{onClick:a[13]||(a[13]=K=>I.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(U,{onClick:f},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),Zl,Kl])):L("",!0),n("div",ea,[e(U,{onClick:a[15]||(a[15]=K=>i.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(U,{type:"primary",onClick:a[16]||(a[16]=K=>u(!0))},{default:l(()=>[t("确定")]),_:1})]),la]),_:1})]),_:1},8,["modelValue","visible"])])}}},ta=fe(ua,[["__scopeId","data-v-b030e0b9"]]);p(!0);const Oe=p(!0),Y=p({name:"",input:[0,2,2,2,0],output:[0,2,2,2,0],editingIndex:-1}),na=n("br",null,null,-1),oa={key:0},va={key:0},da=n("br",null,null,-1),sa=n("br",null,null,-1),ia=n("br",null,null,-1),ra={key:1},ma=n("br",null,null,-1),pa=n("br",null,null,-1),fa=n("br",null,null,-1),_a={key:2},ba=n("br",null,null,-1),ga=n("br",null,null,-1),Va={key:3},ca=n("br",null,null,-1),Ca=n("br",null,null,-1),ha=n("br",null,null,-1),Ia={key:4},$a=n("br",null,null,-1),Ge={__name:"IOinoutPut",props:{wheel:{type:Array,required:!0}},setup(M){const o=M,k=p(!1),C=p("1"),A=p(!0),B=p(!1),I=p(!1),i=p(!1),s=p(!1),r=p("1"),_=p("1"),f=p("1"),O=p("1"),H=p(""),x=p(""),V=()=>{if(o.wheel[0]!==void 0)if(o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString(),O.value=o.wheel[4].toString();else if(o.wheel[0]===3)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString();else if(o.wheel[0]===5){k.value=!0,C.value=o.wheel[0].toString(),y();const v=parseInt(o.wheel[1],10);x.value=isNaN(v)?"":v.toString(16),r.value=x.value.toString(),_.value=o.wheel[2].toString()}else o.wheel[0]===0&&(k.value=!1,y());else k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),S()},S=()=>{if(!k.value)o.wheel.value=[0,2,2,2,0];else if(C.value==="1"||C.value==="2"||C.value==="4")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value),parseInt(O.value)];else if(C.value==="3")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(C.value==="5"){const v=parseInt(r.value,16);H.value=isNaN(v)?"":v.toString(),o.wheel.value=[parseInt(C.value),parseInt(H.value),parseInt(_.value)]}},G=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],R=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],y=()=>{switch(C.value){case"1":A.value=!0,B.value=!1,I.value=!1,i.value=!1,s.value=!1,S();return;case"2":A.value=!1,B.value=!0,I.value=!1,i.value=!1,s.value=!1,S();return;case"3":A.value=!1,B.value=!1,I.value=!0,i.value=!1,s.value=!1,S();return;case"4":A.value=!1,B.value=!1,I.value=!1,i.value=!0,s.value=!1,S();return;case"5":A.value=!1,B.value=!1,I.value=!1,i.value=!1,s.value=!0,S();return}};V();let d=0;return pe(Oe,()=>{const v=Date.now();v-d>=700&&(V(),d=v)}),(v,u)=>{const D=Ue,m=ce,a=se,U=ie,c=ve;return h(),$("div",null,[e(D,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=g=>k.value=g),onChange:j},{default:l(()=>[t("启用:")]),_:1},8,["modelValue"]),na,k.value?(h(),$("div",oa,[(h(),$(z,null,Z(G,(g,X)=>e(m,{key:X,modelValue:C.value,"onUpdate:modelValue":u[1]||(u[1]=ee=>C.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),A.value?(h(),$("div",va,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),da,t(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[3]||(u[3]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),sa,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ia,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[5]||(u[5]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),B.value?(h(),$("div",ra,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),ma,t(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[7]||(u[7]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),pa,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[8]||(u[8]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),fa,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[9]||(u[9]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),I.value?(h(),$("div",_a,[t(" 本地IO地址: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[10]||(u[10]=g=>r.value=g),type:"number",onChange:S},null,8,["modelValue"]),ba,t(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[11]||(u[11]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),ga,t(" 信号极性: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[12]||(u[12]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),i.value?(h(),$("div",Va,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[13]||(u[13]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),ca,t(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[14]||(u[14]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ca,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[15]||(u[15]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ha,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[16]||(u[16]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),s.value?(h(),$("div",Ia,[t(" 输入点对应位: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[17]||(u[17]=g=>r.value=g),onChange:S},null,8,["modelValue"]),$a,t(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[18]||(u[18]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0)])):L("",!0)])}}};const Xe=M=>(_e("data-v-fe476f88"),M=M(),be(),M),ya=Xe(()=>n("br",null,null,-1)),wa={style:{"margin-left":"15%"}},Sa={slot:"footer",class:"dialog-footer"},Ua={slot:"footer",class:"dialog-footer"},ka=Xe(()=>n("br",null,null,-1)),Na={slot:"footer",class:"dialog-footer"},Ba="输入点",xa="输出点",Oa="继电器",Aa={__name:"Relay",setup(M){const o=p(!1),k=p(!1),C=p(!1),A=()=>{Oe.value=!Oe.value,k.value=!0},B=()=>{_(!1),k.value=!1},I=()=>{Oe.value=!Oe.value,o.value=!0},i=()=>{_(!1),o.value=!1},s=()=>{Y.value.name="No name",Y.value.input=[0,2,2,2,0],Y.value.output=[0,2,2,2,0],Y.value.editingIndex=-1,C.value=!0},r=O=>{Y.value.name=ne.value[O].name,ne.value[O].input!==void 0&&(Y.value.input=ne.value[O].input),ne.value[O].output!==void 0&&(Y.value.output=ne.value[O].output),Y.value.editingIndex=O,console.log("reedit",O),console.log("reedit",ne.value[O].input),console.log("reedit",Y.value.input),C.value=!0},_=O=>{if(Y.value.name){if(Y.value.editingIndex!==-1)ne.value[Y.value.editingIndex].name=Y.value.name,console.log("1111",Y.value.input.value),Y.value.input.value!==void 0&&(ne.value[Y.value.editingIndex].input=Y.value.input.value,Y.value.input=ne.value[Y.value.editingIndex].input),Y.value.output.value!==void 0&&(ne.value[Y.value.editingIndex].output=Y.value.output.value,Y.value.output=ne.value[Y.value.editingIndex].output),ue.value.Relay=ne,console.log("handleAddRow",Y.value.input.value);else if(Y.value.output.value!==void 0&&(Y.value.output=Y.value.output.value),Y.value.input.value!==void 0&&(Y.value.input=Y.value.input.value),O){const H={...Y.value};ne.value.push(JSON.parse(JSON.stringify(H))),ue.value.Relay=ne,console.log("handleAddRow",H)}O&&(C.value=!1)}else Ie.error("请填写完整数据")},f=O=>{ne.value.splice(O,1)};return(O,H)=>{const x=$e,V=we,j=Se,S=ve,G=ge,R=Ve,y=ye;return h(),$("div",null,[e(j,{data:w(ne),style:{width:"100%"},class:"tableDataCrtlRelay"},{default:l(()=>[e(V,{prop:"name",label:"⚠️ 继电器"},{default:l(d=>[e(x,{type:"text",onClick:v=>r(d.$index)},{default:l(()=>[t(F(w(ne)[d.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(V,{label:""},{header:l(()=>[e(x,{type:"primary",onClick:s},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(V,{label:"操作"},{default:l(d=>[e(x,{type:"danger",onClick:v=>f(d.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(y,{title:Oa,modelValue:C.value,"onUpdate:modelValue":H[7]||(H[7]=d=>C.value=d),visible:C.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"32%"}},{default:l(()=>[ya,e(R,{ref:"form",model:w(Y),"label-width":"80px"},{default:l(()=>[e(G,{label:"名称"},{default:l(()=>[e(S,{modelValue:w(Y).name,"onUpdate:modelValue":H[0]||(H[0]=d=>w(Y).name=d),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",wa,[e(x,{onClick:I,type:"primary"},{default:l(()=>[t("输入点")]),_:1}),e(y,{title:Ba,modelValue:o.value,"onUpdate:modelValue":H[2]||(H[2]=d=>o.value=d),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ge,{wheel:w(Y).input},null,8,["wheel"])]),n("div",Sa,[e(x,{onClick:H[1]||(H[1]=d=>o.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(x,{onClick:i},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(x,{onClick:A,type:"primary"},{default:l(()=>[t("输出点")]),_:1}),e(y,{title:xa,modelValue:k.value,"onUpdate:modelValue":H[4]||(H[4]=d=>k.value=d),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:l(()=>[n("div",null,[e(Ge,{wheel:w(Y).output},null,8,["wheel"])]),n("div",Ua,[e(x,{onClick:H[3]||(H[3]=d=>k.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(x,{onClick:B},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  ")]),ka,n("div",Na,[e(x,{onClick:H[5]||(H[5]=d=>C.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(x,{type:"primary",onClick:H[6]||(H[6]=d=>_(!0))},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Ha=fe(Aa,[["__scopeId","data-v-fe476f88"]]),Ae=p(!1),E=p({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),He=p(!1),P=p({name:"",value:[1,1,1,1,1,1],editingIndex:-1}),Ta={key:0},Ra=n("br",null,null,-1),Ea=n("br",null,null,-1),Pa=n("br",null,null,-1),Ja=n("br",null,null,-1),Da={key:1},La=n("br",null,null,-1),Ma=n("br",null,null,-1),Qa=n("br",null,null,-1),ja=n("br",null,null,-1),Ga={key:2},Xa=n("br",null,null,-1),qa=n("br",null,null,-1),Fa=n("br",null,null,-1),Wa={key:3},Ya=n("br",null,null,-1),za=n("br",null,null,-1),Za=n("br",null,null,-1),Ka=n("br",null,null,-1),eu={key:4},lu=n("br",null,null,-1),au=n("br",null,null,-1),uu={__name:"IO",setup(M){const o=p("1"),k=p(!0),C=p(!1),A=p(!1),B=p(!1),I=p(!1),i=p("1"),s=p("1"),r=p("1"),_=p("1"),f=p("1"),O=p(""),H=p(""),x=()=>{if(o.value==="1"||o.value==="2"||o.value==="4")E.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(o.value==="3")E.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value),parseInt(f.value)];else if(o.value==="5"){const y=parseInt(i.value,16);O.value=isNaN(y)?"":y.toString(),E.value.value=[parseInt(o.value),parseInt(O.value),parseInt(s.value),parseInt(f.value)]}console.log("generateJSON",E.value.value)},V=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],S=()=>{if(E.value.value.value!==void 0){if(E.value.value.value[0]===1||E.value.value.value[0]===2||E.value.value.value[0]===4)o.value=E.value.value.value[0].toString(),i.value=E.value.value.value[1].toString(),s.value=E.value.value.value[2].toString(),r.value=E.value.value.value[3].toString(),_.value=E.value.value.value[4].toString(),f.value=E.value.value.value[5].toString(),G();else if(E.value.value.value[0]===3)o.value=E.value.value.value[0].toString(),i.value=E.value.value.value[1].toString(),s.value=E.value.value.value[2].toString(),r.value=E.value.value.value[3].toString(),f.value=E.value.value.value[4].toString(),G();else if(E.value.value.value[0]===5){o.value=E.value.value.value[0].toString();const y=parseInt(E.value.value.value[1],10);H.value=isNaN(y)?"":y.toString(16),i.value=H.value.toString(),s.value=E.value.value.value[2].toString(),f.value=E.value.value.value[3].toString(),G()}}else if(E.value.value!==void 0){if(E.value.value[0]===1||E.value.value[0]===2||E.value.value[0]===4)o.value=E.value.value[0].toString(),i.value=E.value.value[1].toString(),s.value=E.value.value[2].toString(),r.value=E.value.value[3].toString(),_.value=E.value.value[4].toString(),f.value=E.value.value[5].toString(),G();else if(E.value.value[0]===3)o.value=E.value.value[0].toString(),i.value=E.value.value[1].toString(),s.value=E.value.value[2].toString(),r.value=E.value.value[3].toString(),f.value=E.value.value[4].toString(),G();else if(E.value.value[0]===5){o.value=E.value.value[0].toString();const y=parseInt(E.value.value[1],10);H.value=isNaN(y)?"":y.toString(16),i.value=H.value.toString(),s.value=E.value.value[2].toString(),f.value=E.value.value[3].toString(),G()}}else o.value="1",i.value="1",s.value="1",r.value="1",_.value="1",f.value="1",G(),console.log("putJSONelse")},G=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,C.value=!1,A.value=!1,B.value=!1,I.value=!1,x();return;case"2":k.value=!1,C.value=!0,A.value=!1,B.value=!1,I.value=!1,x();return;case"3":k.value=!1,C.value=!1,A.value=!0,B.value=!1,I.value=!1,x();return;case"4":k.value=!1,C.value=!1,A.value=!1,B.value=!0,I.value=!1,x();return;case"5":k.value=!1,C.value=!1,A.value=!1,B.value=!1,I.value=!0,x();return}};S();let R=0;return pe(Ae,()=>{const y=Date.now();y-R>=700&&(S(),R=y)}),(y,d)=>{const v=ce,u=se,D=ie,m=ve;return h(),$("div",null,[(h(),$(z,null,Z(V,(a,U)=>e(v,{key:U,modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=c=>o.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(h(),$("div",Ta,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),Ra,t(" CAN-POS模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ea,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[3]||(d[3]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Pa,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Ja,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[5]||(d[5]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),C.value?(h(),$("div",Da,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[6]||(d[6]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),La,t(" CAN-OPEN模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[7]||(d[7]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ma,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[8]||(d[8]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Qa,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[9]||(d[9]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),ja,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[10]||(d[10]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),A.value?(h(),$("div",Ga,[t(" 本地IO地址: "),e(m,{modelValue:i.value,"onUpdate:modelValue":d[11]||(d[11]=a=>i.value=a),type:"number",onChange:x},null,8,["modelValue"]),Xa,t(" 输出点对应位: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[12]||(d[12]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),qa,t(" 信号极性: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[13]||(d[13]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Fa,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[14]||(d[14]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),B.value?(h(),$("div",Wa,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[15]||(d[15]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),Ya,t(" CAN-IO模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[16]||(d[16]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),za,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[17]||(d[17]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Za,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[18]||(d[18]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),Ka,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[19]||(d[19]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),I.value?(h(),$("div",eu,[t(" 输入点对应位: "),e(m,{modelValue:i.value,"onUpdate:modelValue":d[20]||(d[20]=a=>i.value=a),onChange:x},null,8,["modelValue"]),lu,t(" 信号极性: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[21]||(d[21]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),au,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[22]||(d[22]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0)])}}};const qe=M=>(_e("data-v-b853c029"),M=M(),be(),M),tu=qe(()=>n("br",null,null,-1)),nu=qe(()=>n("br",null,null,-1)),ou={slot:"footer",class:"dialog-footer"},vu="开关",du={__name:"switch",setup(M){const o=p(!1),k=()=>{E.value.name="",E.value.value.value=[1,1,1,1,1,1],E.value.editingIndex=-1,console.log("addNewRow",E.value.value.value),o.value=!0,Ae.value=!Ae.value},C=I=>{E.value.name=re.value[I].name,E.value.value.value=re.value[I].value,E.value.editingIndex=I,console.log("reedit",E.value.value.value),o.value=!0,Ae.value=!Ae.value},A=()=>{if(E.value.name){if(E.value.editingIndex!==-1)re.value[E.value.editingIndex].name=E.value.name,E.value.value!=null&&(re.value[E.value.editingIndex].value=E.value.value),ue.value.switch.StartButton=re,console.log("handleAddRow",E.value.value),console.log("handleAddRow",re.value[E.value.editingIndex].value);else{const I={...E.value};re.value.push(JSON.parse(JSON.stringify(I))),ue.value.switch.StartButton=re,console.log("handleAddRow",I)}o.value=!1}else Ie.error("请填写完整数据")},B=I=>{re.value.splice(I,1)};return(I,i)=>{const s=$e,r=we,_=Se,f=ve,O=ge,H=Ve,x=ye;return h(),$("div",null,[e(_,{data:w(re),style:{width:"100%"},class:"tableDataCrtlswitch"},{default:l(()=>[e(r,{prop:"name",label:"🔖 启动按钮"},{default:l(V=>[e(s,{type:"text",onClick:j=>C(V.$index)},{default:l(()=>[t(F(w(re)[V.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:""},{header:l(()=>[e(s,{type:"primary",onClick:k},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(r,{label:"操作"},{default:l(V=>[e(s,{type:"danger",onClick:j=>B(V.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),tu,e(x,{title:vu,modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=V=>o.value=V),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"55%"}},{default:l(()=>[nu,e(H,{ref:"form",model:w(E),"label-width":"80px"},{default:l(()=>[e(O,{label:"按钮名称"},{default:l(()=>[e(f,{modelValue:w(E).name,"onUpdate:modelValue":i[0]||(i[0]=V=>w(E).name=V),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(O,{label:"IO"},{default:l(()=>[e(uu)]),_:1})]),_:1},8,["model"]),n("div",ou,[e(s,{onClick:i[1]||(i[1]=V=>o.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(s,{type:"primary",onClick:A},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},su=fe(du,[["__scopeId","data-v-b853c029"]]),iu={key:0},ru=n("br",null,null,-1),mu=n("br",null,null,-1),pu=n("br",null,null,-1),fu=n("br",null,null,-1),_u={key:1},bu=n("br",null,null,-1),gu=n("br",null,null,-1),Vu=n("br",null,null,-1),cu=n("br",null,null,-1),Cu={key:2},hu=n("br",null,null,-1),Iu=n("br",null,null,-1),$u=n("br",null,null,-1),yu={key:3},wu=n("br",null,null,-1),Su=n("br",null,null,-1),Uu=n("br",null,null,-1),ku=n("br",null,null,-1),Nu={key:4},Bu=n("br",null,null,-1),xu=n("br",null,null,-1),Ou={__name:"IO",setup(M){const o=p("1"),k=p(!0),C=p(!1),A=p(!1),B=p(!1),I=p(!1),i=p("1"),s=p("1"),r=p("1"),_=p("1"),f=p("1"),O=p(""),H=p(""),x=()=>{if(o.value==="1"||o.value==="2"||o.value==="4")P.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(o.value==="3")P.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value),parseInt(f.value)];else if(o.value==="5"){const y=parseInt(i.value,16);O.value=isNaN(y)?"":y.toString(),P.value.value=[parseInt(o.value),parseInt(O.value),parseInt(s.value),parseInt(f.value)]}console.log("generateJSON",P.value.value)},V=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],j=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],S=()=>{if(P.value.value.value!==void 0){if(P.value.value.value[0]===1||P.value.value.value[0]===2||P.value.value.value[0]===4)o.value=P.value.value.value[0].toString(),i.value=P.value.value.value[1].toString(),s.value=P.value.value.value[2].toString(),r.value=P.value.value.value[3].toString(),_.value=P.value.value.value[4].toString(),f.value=P.value.value.value[5].toString(),G();else if(P.value.value.value[0]===3)o.value=P.value.value.value[0].toString(),i.value=P.value.value.value[1].toString(),s.value=P.value.value.value[2].toString(),r.value=P.value.value.value[3].toString(),f.value=P.value.value.value[4].toString(),G();else if(P.value.value.value[0]===5){o.value=P.value.value.value[0].toString();const y=parseInt(P.value.value.value[1],10);H.value=isNaN(y)?"":y.toString(16),i.value=H.value.toString(),s.value=P.value.value.value[2].toString(),f.value=P.value.value.value[3].toString(),G()}}else if(P.value.value!==void 0){if(P.value.value[0]===1||P.value.value[0]===2||P.value.value[0]===4)o.value=P.value.value[0].toString(),i.value=P.value.value[1].toString(),s.value=P.value.value[2].toString(),r.value=P.value.value[3].toString(),_.value=P.value.value[4].toString(),f.value=P.value.value[5].toString(),G();else if(P.value.value[0]===3)o.value=P.value.value[0].toString(),i.value=P.value.value[1].toString(),s.value=P.value.value[2].toString(),r.value=P.value.value[3].toString(),f.value=P.value.value[4].toString(),G();else if(P.value.value[0]===5){o.value=P.value.value[0].toString();const y=parseInt(P.value.value[1],10);H.value=isNaN(y)?"":y.toString(16),i.value=H.value.toString(),s.value=P.value.value[2].toString(),f.value=P.value.value[3].toString(),G()}}else o.value="1",i.value="1",s.value="1",r.value="1",_.value="1",f.value="1",G(),console.log("putJSONelse")},G=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,C.value=!1,A.value=!1,B.value=!1,I.value=!1,x();return;case"2":k.value=!1,C.value=!0,A.value=!1,B.value=!1,I.value=!1,x();return;case"3":k.value=!1,C.value=!1,A.value=!0,B.value=!1,I.value=!1,x();return;case"4":k.value=!1,C.value=!1,A.value=!1,B.value=!0,I.value=!1,x();return;case"5":k.value=!1,C.value=!1,A.value=!1,B.value=!1,I.value=!0,x();return}};S();let R=0;return pe(He,()=>{const y=Date.now();y-R>=700&&(S(),R=y)}),(y,d)=>{const v=ce,u=se,D=ie,m=ve;return h(),$("div",null,[(h(),$(z,null,Z(V,(a,U)=>e(v,{key:U,modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=c=>o.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(h(),$("div",iu,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),ru,t(" CAN-POS模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),mu,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[3]||(d[3]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),pu,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),fu,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[5]||(d[5]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),C.value?(h(),$("div",_u,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[6]||(d[6]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),bu,t(" CAN-OPEN模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[7]||(d[7]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),gu,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[8]||(d[8]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Vu,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[9]||(d[9]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),cu,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[10]||(d[10]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),A.value?(h(),$("div",Cu,[t(" 本地IO地址: "),e(m,{modelValue:i.value,"onUpdate:modelValue":d[11]||(d[11]=a=>i.value=a),type:"number",onChange:x},null,8,["modelValue"]),hu,t(" 输出点对应位: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[12]||(d[12]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"BIT1",value:"0"}),e(u,{label:"BIT2",value:"1"}),e(u,{label:"BIT3",value:"2"}),e(u,{label:"BIT4",value:"3"}),e(u,{label:"BIT5",value:"4"}),e(u,{label:"BIT6",value:"5"}),e(u,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Iu,t(" 信号极性: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[13]||(d[13]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),$u,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[14]||(d[14]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),B.value?(h(),$("div",yu,[t(" 远程模块连接到: "),(h(),$(z,null,Z(j,(a,U)=>e(v,{key:U,modelValue:i.value,"onUpdate:modelValue":d[15]||(d[15]=c=>i.value=c),label:a.value,onChange:G},{default:l(()=>[n("pre",null,F(a.label),1)]),_:2},1032,["modelValue","label"])),64)),wu,t(" CAN-IO模块编号: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[16]||(d[16]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Su,t(" 模块内输出点编号: "),e(D,{modelValue:r.value,"onUpdate:modelValue":d[17]||(d[17]=a=>r.value=a),onChange:x},{default:l(()=>[e(u,{label:"0",value:"0"}),e(u,{label:"1",value:"1"}),e(u,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Uu,t(" 信号极性: "),e(D,{modelValue:_.value,"onUpdate:modelValue":d[18]||(d[18]=a=>_.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),ku,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[19]||(d[19]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),I.value?(h(),$("div",Nu,[t(" 输入点对应位: "),e(m,{modelValue:i.value,"onUpdate:modelValue":d[20]||(d[20]=a=>i.value=a),onChange:x},null,8,["modelValue"]),Bu,t(" 信号极性: "),e(D,{modelValue:s.value,"onUpdate:modelValue":d[21]||(d[21]=a=>s.value=a),onChange:x},{default:l(()=>[e(u,{label:"输出高电平有效",value:"0"}),e(u,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"]),xu,t(" 按钮类型: "),e(D,{modelValue:f.value,"onUpdate:modelValue":d[22]||(d[22]=a=>f.value=a),onChange:x},{default:l(()=>[e(u,{label:"非自锁式",value:"0"}),e(u,{label:"自锁式",value:"1"})]),_:1},8,["modelValue"])])):L("",!0)])}}};const Au=M=>(_e("data-v-57b97d70"),M=M(),be(),M),Hu=Au(()=>n("br",null,null,-1)),Tu={slot:"footer",class:"dialog-footer"},Ru="开关",Eu={__name:"switch",setup(M){const o=p(!1),k=()=>{P.value.name="",P.value.value.value=[1,1,1,1,1,1],P.value.editingIndex=-1,console.log("addnewRowEmg",P.value.value.value),o.value=!0,He.value=!He.value},C=I=>{P.value.name=me.value[I].name,P.value.value.value=me.value[I].value,P.value.editingIndex=I,console.log("reedit",P.value.value.value),o.value=!0,He.value=!He.value},A=()=>{if(P.value.name){if(P.value.editingIndex!==-1)me.value[P.value.editingIndex].name=P.value.name,P.value.value!=null&&(me.value[P.value.editingIndex].value=P.value.value),ue.value.switch.EmgButton=me,console.log("handleAddRow",P.value.value),console.log("handleAddRow",me.value[P.value.editingIndex].value);else{const I={...P.value};me.value.push(JSON.parse(JSON.stringify(I))),ue.value.switch.EmgButton=me,console.log("handleAddRow",I)}o.value=!1}else Ie.error("请填写完整数据")},B=I=>{me.value.splice(I,1)};return(I,i)=>{const s=$e,r=we,_=Se,f=ve,O=ge,H=Ve,x=ye;return h(),$("div",null,[e(_,{data:w(me),style:{width:"100%"},class:"tableDataCrtlswitchEmg"},{default:l(()=>[e(r,{prop:"name",label:"🔖 急停开关"},{default:l(V=>[e(s,{type:"text",onClick:j=>C(V.$index)},{default:l(()=>[t(F(w(me)[V.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:""},{header:l(()=>[e(s,{type:"primary",onClick:k},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(r,{label:"操作"},{default:l(V=>[e(s,{type:"danger",onClick:j=>B(V.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(x,{title:Ru,modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=V=>o.value=V),visible:o.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"55%"}},{default:l(()=>[Hu,e(H,{ref:"form",model:w(P),"label-width":"80px"},{default:l(()=>[e(O,{label:"按钮名称"},{default:l(()=>[e(f,{modelValue:w(P).name,"onUpdate:modelValue":i[0]||(i[0]=V=>w(P).name=V),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(O,{label:"IO"},{default:l(()=>[e(Ou)]),_:1})]),_:1},8,["model"]),n("div",Tu,[e(s,{onClick:i[1]||(i[1]=V=>o.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(s,{type:"primary",onClick:A},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Pu=fe(Eu,[["__scopeId","data-v-57b97d70"]]),Ju=n("br",null,null,-1),Du={key:0},Lu={key:1},Mu=n("br",null,null,-1),Qu={key:2},ju=n("br",null,null,-1),Gu={__name:"Better",setup(M){const o=p(["🎈很低阈值","🎈低阈值","🎈正常阈值"]),k=p(["🎈很低阈值","🎈低阈值","🎈正常阈值","🎈比例系数"]);function C(I,i,s){s[I]=parseInt(i),A()}const A=()=>{ue.value.Better=le},B=()=>{(le.value.type===1||le.value.type===2)&&(le.value.param=le.value.param.slice(0,3)),A()};return(I,i)=>{const s=se,r=ie,_=ge,f=we,O=ve,H=Se,x=Ve;return h(),Je(x,{ref:"form",model:w(le),"label-width":"120px"},{default:l(()=>[e(_,{label:"🎈电量表类型"},{default:l(()=>[e(r,{modelValue:w(le).type,"onUpdate:modelValue":i[0]||(i[0]=V=>w(le).type=V),placeholder:"请选择",onChange:B},{default:l(()=>[e(s,{label:"无电量表",value:0}),e(s,{label:"CAN电量表",value:1}),e(s,{label:"电池管理系统",value:2}),e(s,{label:"IO模块",value:3})]),_:1},8,["modelValue"]),Ju]),_:1}),w(le).type===0?(h(),$("div",Du)):L("",!0),w(le).type===1||w(le).type===2?(h(),$("div",Lu,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(r,{modelValue:w(le).elect,"onUpdate:modelValue":i[1]||(i[1]=V=>w(le).elect=V),placeholder:"请选择",onChange:A},{default:l(()=>[e(s,{label:"电流(A)",value:0}),e(s,{label:"电压(V)",value:1}),e(s,{label:"电量百分比(%)",value:2})]),_:1},8,["modelValue"]),Mu]),_:1}),e(H,{data:o.value,style:{width:"90%"}},{default:l(()=>[e(f,{prop:"name",label:" "},{default:l(V=>[t(F(o.value[V.$index]),1)]),_:1}),e(f,{prop:"value",label:" "},{default:l(V=>[e(O,{modelValue:w(le).param[V.$index],"onUpdate:modelValue":j=>w(le).param[V.$index]=j,placeholder:"请输入",style:{width:"100%"},onChange:j=>C(V.$index,w(le).param[V.$index],w(le).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):w(le).type===3?(h(),$("div",Qu,[e(_,{label:"🎈输出类型"},{default:l(()=>[e(r,{modelValue:w(le).elect,"onUpdate:modelValue":i[2]||(i[2]=V=>w(le).elect=V),placeholder:"请选择",onChange:A},{default:l(()=>[e(s,{label:"电流",value:0}),e(s,{label:"电压",value:1}),e(s,{label:"电量百分比",value:2})]),_:1},8,["modelValue"]),ju]),_:1}),e(H,{data:k.value,style:{width:"90%"}},{default:l(()=>[e(f,{prop:"name",label:" "},{default:l(V=>[t(F(k.value[V.$index]),1)]),_:1}),e(f,{prop:"value",label:" "},{default:l(V=>[e(O,{modelValue:w(le).param[V.$index],"onUpdate:modelValue":j=>w(le).param[V.$index]=j,placeholder:"请输入",style:{width:"100%"},onChange:j=>C(V.$index,w(le).param[V.$index],w(le).param),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):L("",!0)]),_:1},8,["model"])}}},he=p(!0);p(!0);p(!0);const Te=p(!0),N=p({name:"",type:0,near:[0,2,2,2,0],mid:[0,2,2,2,0],far:[0,2,2,2,0]}),J=p({name:"",area:[1,1,1,1,1]}),Xu=n("br",null,null,-1),qu={key:0},Fu={key:0},Wu=n("br",null,null,-1),Yu=n("br",null,null,-1),zu=n("br",null,null,-1),Zu={key:1},Ku=n("br",null,null,-1),et=n("br",null,null,-1),lt=n("br",null,null,-1),at={key:2},ut=n("br",null,null,-1),tt=n("br",null,null,-1),nt={key:3},ot=n("br",null,null,-1),vt=n("br",null,null,-1),dt=n("br",null,null,-1),st={key:4},it=n("br",null,null,-1),Me={__name:"IO",props:{wheel:{type:Array,required:!0}},setup(M){const o=M,k=p(!1),C=p("1"),A=p(!0),B=p(!1),I=p(!1),i=p(!1),s=p(!1),r=p("1"),_=p("1"),f=p("1"),O=p("1"),H=p(""),x=p(""),V=()=>{if(o.wheel[0]!==void 0)if(o.wheel[0]===1||o.wheel[0]===2||o.wheel[0]===4)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString(),O.value=o.wheel[4].toString();else if(o.wheel[0]===3)k.value=!0,C.value=o.wheel[0].toString(),y(),r.value=o.wheel[1].toString(),_.value=o.wheel[2].toString(),f.value=o.wheel[3].toString();else if(o.wheel[0]===5){k.value=!0,C.value=o.wheel[0].toString(),y();const v=parseInt(o.wheel[1],10);x.value=isNaN(v)?"":v.toString(16),r.value=x.value.toString(),_.value=o.wheel[2].toString()}else o.wheel[0]===0&&(k.value=!1,y());else k.value=!1},j=()=>{k.value||(o.wheel.value=[0,2,2,2,0]),S()},S=()=>{if(!k.value)o.wheel.value=[0,2,2,2,0];else if(C.value==="1"||C.value==="2"||C.value==="4")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value),parseInt(O.value)];else if(C.value==="3")o.wheel.value=[parseInt(C.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(C.value==="5"){const v=parseInt(r.value,16);H.value=isNaN(v)?"":v.toString(),o.wheel.value=[parseInt(C.value),parseInt(H.value),parseInt(_.value)]}},G=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],R=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],y=()=>{switch(C.value){case"1":A.value=!0,B.value=!1,I.value=!1,i.value=!1,s.value=!1,S();return;case"2":A.value=!1,B.value=!0,I.value=!1,i.value=!1,s.value=!1,S();return;case"3":A.value=!1,B.value=!1,I.value=!0,i.value=!1,s.value=!1,S();return;case"4":A.value=!1,B.value=!1,I.value=!1,i.value=!0,s.value=!1,S();return;case"5":A.value=!1,B.value=!1,I.value=!1,i.value=!1,s.value=!0,S();return}};V();let d=0;return pe(he,()=>{const v=Date.now();v-d>=700&&(V(),d=v)}),(v,u)=>{const D=Ue,m=ce,a=se,U=ie,c=ve;return h(),$("div",null,[e(D,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=g=>k.value=g),onChange:j},{default:l(()=>[t("启用:")]),_:1},8,["modelValue"]),Xu,k.value?(h(),$("div",qu,[(h(),$(z,null,Z(G,(g,X)=>e(m,{key:X,modelValue:C.value,"onUpdate:modelValue":u[1]||(u[1]=ee=>C.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),A.value?(h(),$("div",Fu,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),Wu,t(" CAN-POS模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[3]||(u[3]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Yu,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),zu,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[5]||(u[5]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),B.value?(h(),$("div",Zu,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),Ku,t(" CAN-OPEN模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[7]||(u[7]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),et,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[8]||(u[8]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),lt,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[9]||(u[9]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),I.value?(h(),$("div",at,[t(" 本地IO地址: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[10]||(u[10]=g=>r.value=g),type:"number",onChange:S},null,8,["modelValue"]),ut,t(" 输出点对应位: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[11]||(u[11]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"BIT1",value:"0"}),e(a,{label:"BIT2",value:"1"}),e(a,{label:"BIT3",value:"2"}),e(a,{label:"BIT4",value:"3"}),e(a,{label:"BIT5",value:"4"}),e(a,{label:"BIT6",value:"5"}),e(a,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),tt,t(" 信号极性: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[12]||(u[12]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),i.value?(h(),$("div",nt,[t(" 远程模块连接到: "),(h(),$(z,null,Z(R,(g,X)=>e(m,{key:X,modelValue:r.value,"onUpdate:modelValue":u[13]||(u[13]=ee=>r.value=ee),label:g.value,onChange:y},{default:l(()=>[n("pre",null,F(g.label),1)]),_:2},1032,["modelValue","label"])),64)),ot,t(" CAN-IO模块编号: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[14]||(u[14]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),vt,t(" 模块内输出点编号: "),e(U,{modelValue:f.value,"onUpdate:modelValue":u[15]||(u[15]=g=>f.value=g),onChange:S},{default:l(()=>[e(a,{label:"0",value:"0"}),e(a,{label:"1",value:"1"}),e(a,{label:"2",value:"2"})]),_:1},8,["modelValue"]),dt,t(" 信号极性: "),e(U,{modelValue:O.value,"onUpdate:modelValue":u[16]||(u[16]=g=>O.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0),s.value?(h(),$("div",st,[t(" 输入点对应位: "),e(c,{modelValue:r.value,"onUpdate:modelValue":u[17]||(u[17]=g=>r.value=g),onChange:S},null,8,["modelValue"]),it,t(" 信号极性: "),e(U,{modelValue:_.value,"onUpdate:modelValue":u[18]||(u[18]=g=>_.value=g),onChange:S},{default:l(()=>[e(a,{label:"输出高电平有效",value:"0"}),e(a,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):L("",!0)])):L("",!0)])}}},rt=n("br",null,null,-1),mt={key:0},pt={key:0},ft=n("br",null,null,-1),_t=n("br",null,null,-1),bt=n("br",null,null,-1),gt=n("br",null,null,-1),Vt={key:1},ct=n("br",null,null,-1),Ct=n("br",null,null,-1),ht=n("br",null,null,-1),It=n("br",null,null,-1),$t={key:2},yt=n("br",null,null,-1),wt=n("br",null,null,-1),St=n("br",null,null,-1),Ut={key:3},kt=n("br",null,null,-1),Nt=n("br",null,null,-1),Bt=n("br",null,null,-1),xt=n("br",null,null,-1),Ot={key:4},At=n("br",null,null,-1),Ht=n("br",null,null,-1),Tt={__name:"IOEXP",setup(M){const o=p("1"),k=p(!0),C=p(!1),A=p(!1),B=p(!1),I=p(!1),i=p(!0),s=p("1"),r=p("1"),_=p("1"),f=p("1"),O=p(""),H=p(""),x=()=>{i.value||(J.value.area=[0,2,2,2,0]),V()},V=()=>{if(i.value){if(o.value==="1"||o.value==="2"||o.value==="4")J.value.area=[parseInt(o.value),parseInt(s.value),parseInt(r.value),parseInt(_.value),parseInt(f.value)];else if(o.value==="3")J.value.area=[parseInt(o.value),parseInt(s.value),parseInt(r.value),parseInt(_.value)];else if(o.value==="5"){const d=parseInt(s.value,16);O.value=isNaN(d)?"":d.toString(),J.value.area=[parseInt(o.value),parseInt(O.value),parseInt(r.value)]}}else J.value.area=[0,2,2,2,0];console.log("generateJSON",J.value.area)},j=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],S=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],G=()=>{if(console.log("putjson,",J.value.area.value),J.value.area.value!==void 0)if(J.value.area.value[0]===1||J.value.area.value[0]===2||J.value.area.value[0]===4)o.value=J.value.area.value[0].toString(),i.value=!0,s.value=J.value.area.value[1].toString(),r.value=J.value.area.value[2].toString(),_.value=J.value.area.value[3].toString(),f.value=J.value.area.value[4].toString(),R();else if(J.value.area.value[0]===3)i.value=!0,o.value=J.value.area.value[0].toString(),s.value=J.value.area.value[1].toString(),r.value=J.value.area.value[2].toString(),_.value=J.value.area.value[3].toString(),R();else if(J.value.area.value[0]===5){o.value=J.value.area.value[0].toString(),i.value=!0;const d=parseInt(J.value.area.value[1],10);H.value=isNaN(d)?"":d.toString(16),s.value=H.value.toString(),r.value=J.value.area.value[2].toString(),R()}else J.value.area.value[0]===0&&(i.value=!1,R());else if(J.value.area!==void 0)if(J.value.area[0]===1||J.value.area[0]===2||J.value.area[0]===4)o.value=J.value.area[0].toString(),i.value=!0,s.value=J.value.area[1].toString(),r.value=J.value.area[2].toString(),_.value=J.value.area[3].toString(),f.value=J.value.area[4].toString(),R();else if(J.value.area[0]===3)i.value=!0,o.value=J.value.area[0].toString(),s.value=J.value.area[1].toString(),r.value=J.value.area[2].toString(),_.value=J.value.area[3].toString(),R();else if(J.value.area[0]===5){o.value=J.value.area[0].toString(),i.value=!0;const d=parseInt(J.value.area[1],10);H.value=isNaN(d)?"":d.toString(16),s.value=H.value.toString(),r.value=J.value.area[2].toString(),R()}else J.value.area.value[0]===0&&(i.value=!1,R());else i.value=!1,R(),console.log("putJSONelse")},R=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,C.value=!1,A.value=!1,B.value=!1,I.value=!1,V();return;case"2":k.value=!1,C.value=!0,A.value=!1,B.value=!1,I.value=!1,V();return;case"3":k.value=!1,C.value=!1,A.value=!0,B.value=!1,I.value=!1,V();return;case"4":k.value=!1,C.value=!1,A.value=!1,B.value=!0,I.value=!1,V();return;case"5":k.value=!1,C.value=!1,A.value=!1,B.value=!1,I.value=!0,V();return}};G();let y=0;return pe(Te,()=>{const d=Date.now();d-y>=700&&(G(),y=d)}),(d,v)=>{const u=Ue,D=ce,m=se,a=ie,U=ve;return h(),$("div",null,[e(u,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=c=>i.value=c),onChange:x},{default:l(()=>[t("启用:")]),_:1},8,["modelValue"]),rt,i.value?(h(),$("div",mt,[(h(),$(z,null,Z(j,(c,g)=>e(D,{key:g,modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=X=>o.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(h(),$("div",pt,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[2]||(v[2]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),ft,t(" CAN-POS模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[3]||(v[3]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),_t,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[4]||(v[4]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),bt,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[5]||(v[5]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),gt])):L("",!0),C.value?(h(),$("div",Vt,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[6]||(v[6]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),ct,t(" CAN-OPEN模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[7]||(v[7]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ct,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[8]||(v[8]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ht,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[9]||(v[9]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),It])):L("",!0),A.value?(h(),$("div",$t,[t(" 本地IO地址: "),e(U,{modelValue:s.value,"onUpdate:modelValue":v[10]||(v[10]=c=>s.value=c),type:"number",onChange:V},null,8,["modelValue"]),yt,t(" 输出点对应位: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[11]||(v[11]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"BIT1",value:"0"}),e(m,{label:"BIT2",value:"1"}),e(m,{label:"BIT3",value:"2"}),e(m,{label:"BIT4",value:"3"}),e(m,{label:"BIT5",value:"4"}),e(m,{label:"BIT6",value:"5"}),e(m,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),wt,t(" 信号极性: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[12]||(v[12]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),St])):L("",!0),B.value?(h(),$("div",Ut,[t(" 远程模块连接到: "),(h(),$(z,null,Z(S,(c,g)=>e(D,{key:g,modelValue:s.value,"onUpdate:modelValue":v[13]||(v[13]=X=>s.value=X),label:c.value,onChange:R},{default:l(()=>[n("pre",null,F(c.label),1)]),_:2},1032,["modelValue","label"])),64)),kt,t(" CAN-IO模块编号: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[14]||(v[14]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Nt,t(" 模块内输出点编号: "),e(a,{modelValue:_.value,"onUpdate:modelValue":v[15]||(v[15]=c=>_.value=c),onChange:V},{default:l(()=>[e(m,{label:"0",value:"0"}),e(m,{label:"1",value:"1"}),e(m,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Bt,t(" 信号极性: "),e(a,{modelValue:f.value,"onUpdate:modelValue":v[16]||(v[16]=c=>f.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),xt])):L("",!0),I.value?(h(),$("div",Ot,[t(" 输入点对应位: "),e(U,{modelValue:s.value,"onUpdate:modelValue":v[17]||(v[17]=c=>s.value=c),onChange:V},null,8,["modelValue"]),At,t(" 信号极性: "),e(a,{modelValue:r.value,"onUpdate:modelValue":v[18]||(v[18]=c=>r.value=c),onChange:V},{default:l(()=>[e(m,{label:"碰撞时为高电平",value:"0"}),e(m,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),Ht])):L("",!0)])):L("",!0)])}}};const ke=M=>(_e("data-v-e102470d"),M=M(),be(),M),Rt=ke(()=>n("br",null,null,-1)),Et=ke(()=>n("br",null,null,-1)),Pt=ke(()=>n("br",null,null,-1)),Jt={key:0},Dt={slot:"footer",class:"dialog-footer"},Lt={slot:"footer",class:"dialog-footer"},Mt={slot:"footer",class:"dialog-footer"},Qt=ke(()=>n("br",null,null,-1)),jt=ke(()=>n("br",null,null,-1)),Gt=ke(()=>n("br",null,null,-1)),Xt={slot:"footer",class:"dialog-footer"},qt={key:1},Ft={slot:"footer",class:"dialog-footer"},Wt=ke(()=>n("br",null,null,-1)),Yt={__name:"PLS",setup(M){const o=p(!1),k=p(!1),C=p(!1),A=()=>{he.value=!he.value,k.value=!0},B=()=>{S(!1),k.value=!1},I=()=>{he.value=!he.value,C.value=!0},i=()=>{S(!1),C.value=!1},s=()=>{he.value=!he.value,o.value=!0},r=()=>{S(!1),o.value=!1},_=p([]),f=p(!1),O=p(!1),H=()=>{_.value=[],N.value.name="No name",N.value.type=0,N.value.CUTtype=0,N.value.port="",N.value.ip="",N.value.near=[0,2,2,2,0],N.value.area=[],N.value.mid=[0,2,2,2,0],N.value.far=[0,2,2,2,0],N.value.editingIndex=-1,f.value=!0},x=()=>{Te.value=!Te.value,J.value.name="No name",J.value.area.value=[1,1,1,1,1],J.value.editingIndex=-1,console.log("1111",J.value.area),O.value=!0},V=d=>{N.value.name=q.value[d].name,N.value.type=q.value[d].type,N.value.CUTtype=q.value[d].CUTtype,N.value.port=q.value[d].port,N.value.ip=q.value[d].ip,q.value[d].near!==void 0&&(N.value.near=q.value[d].near),q.value[d].mid!==void 0&&(N.value.mid=q.value[d].mid),q.value[d].far!==void 0&&(N.value.far=q.value[d].far),q.value[d].area!==void 0&&(N.value.area=q.value[d].area),_.value=q.value[d].area,console.log("111",N.value.near),console.log("222",N.value.mid),console.log("333",N.value.far),N.value.editingIndex=d,f.value=!0},j=d=>{Te.value=!Te.value,J.value.name=_.value[d].name,J.value.area.value=_.value[d].area,console.log("333",_.value[d].area),console.log("444",J.value.area.value),J.value.editingIndex=d,O.value=!0},S=d=>{if(N.value.name){if(N.value.editingIndex!==-1)q.value[N.value.editingIndex].name=N.value.name,q.value[N.value.editingIndex].type=N.value.type,delete q.value[N.value.editingIndex].near,delete q.value[N.value.editingIndex].mid,delete q.value[N.value.editingIndex].far,delete q.value[N.value.editingIndex].ip,delete q.value[N.value.editingIndex].port,delete q.value[N.value.editingIndex].area,delete q.value[N.value.editingIndex].CUTtype,N.value.type===0?(q.value[N.value.editingIndex].CUTtype=N.value.CUTtype,N.value.mid.value!==void 0?(console.log("mid",N.value.mid.value),q.value[N.value.editingIndex].mid=N.value.mid.value,N.value.mid=q.value[N.value.editingIndex].mid):(q.value[N.value.editingIndex].mid=[0,2,2,2,0],console.log("mid")),N.value.near.value!==void 0?(console.log("near",N.value.near.value),q.value[N.value.editingIndex].near=N.value.near.value,N.value.near=q.value[N.value.editingIndex].near,console.log("4444",N.value.near)):(q.value[N.value.editingIndex].near=[0,2,2,2,0],console.log("near")),console.log("222222222222222",q.value[N.value.editingIndex].near),N.value.far.value!==void 0?(console.log("far",N.value.far.value),q.value[N.value.editingIndex].far=N.value.far.value,N.value.far=q.value[N.value.editingIndex].far):(q.value[N.value.editingIndex].far=[0,2,2,2,0],console.log("far")),N.value.area.value!==void 0?(console.log("area",N.value.area.value),q.value[N.value.editingIndex].area=N.value.area.value):(q.value[N.value.editingIndex].area=[],console.log("area")),q.value[N.value.editingIndex].area=_.value):(q.value[N.value.editingIndex].ip=N.value.ip,q.value[N.value.editingIndex].port=N.value.port),ue.value.PLS=q;else if(console.log("666",N.value.near.value),N.value.near.value!==void 0&&(N.value.near=N.value.near.value),N.value.mid.value!==void 0&&(N.value.mid=N.value.mid.value),N.value.far.value!==void 0&&(N.value.far=N.value.far.value),d){N.value.area=_.value,_.value=[];const v={...N.value};N.value.type===0?(delete v.ip,delete v.port):(delete v.near,delete v.mid,delete v.far,delete v.CUTtype),q.value.push(JSON.parse(JSON.stringify(v))),ue.value.PLS=q}d&&(f.value=!1)}else Ie.error("请填写完整数据")},G=()=>{if(J.value.name){if(J.value.editingIndex!==-1)_.value[J.value.editingIndex].name=J.value.name,J.value.area!==void 0&&(_.value[J.value.editingIndex].area=J.value.area),console.log("111",_.value[J.value.editingIndex].area),console.log("222",J.value.area);else{const d={...J.value};_.value.push(JSON.parse(JSON.stringify(d)))}O.value=!1}else Ie.error("请填写完整数据")},R=d=>{q.value.splice(d,1)},y=d=>{_.value.splice(d,1)};return(d,v)=>{const u=$e,D=we,m=Se,a=ve,U=ge,c=se,g=ie,X=ye,ee=Ve;return h(),$("div",null,[e(m,{data:w(q),style:{width:"100%"},class:"tableDataCrtlPLS"},{default:l(()=>[e(D,{prop:"name",label:"🔖 可切区PLS"},{default:l(Q=>[e(u,{type:"text",onClick:Be=>V(Q.$index)},{default:l(()=>[t(F(w(q)[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(D,{label:""},{header:l(()=>[e(u,{type:"primary",onClick:H},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(D,{label:"操作"},{default:l(Q=>[e(u,{type:"danger",onClick:Be=>R(Q.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Rt,e(X,{title:"PLS",modelValue:f.value,"onUpdate:modelValue":v[18]||(v[18]=Q=>f.value=Q),visible:f.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[e(Ee,{height:"100%",showUpBt:!0},{default:l(()=>[e(ee,{ref:"form",model:w(N),"label-width":"80px"},{default:l(()=>[Et,e(U,{label:"名称"},{default:l(()=>[e(a,{modelValue:w(N).name,"onUpdate:modelValue":v[0]||(v[0]=Q=>w(N).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(U,{label:"类型"},{default:l(()=>[e(g,{modelValue:w(N).type,"onUpdate:modelValue":v[1]||(v[1]=Q=>w(N).type=Q),placeholder:"请选择"},{default:l(()=>[e(c,{label:"IO",value:0}),e(c,{label:"网络",value:1})]),_:1},8,["modelValue"]),Pt]),_:1}),w(N).type===0?(h(),$("div",Jt,[e(U,{label:"IO"},{default:l(()=>[t("   "),e(u,{onClick:A,type:"primary"},{default:l(()=>[t("近距离区域")]),_:1}),e(X,{title:"近",modelValue:k.value,"onUpdate:modelValue":v[3]||(v[3]=Q=>k.value=Q),visible:k.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"43%"}},{default:l(()=>[n("div",null,[e(Me,{wheel:w(N).near},null,8,["wheel"])]),n("div",Dt,[e(u,{onClick:v[2]||(v[2]=Q=>k.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(u,{onClick:B},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(u,{onClick:I,type:"primary"},{default:l(()=>[t("中距离区域")]),_:1}),e(X,{title:"中",modelValue:C.value,"onUpdate:modelValue":v[5]||(v[5]=Q=>C.value=Q),visible:C.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"43%"}},{default:l(()=>[n("div",null,[e(Me,{wheel:w(N).mid},null,8,["wheel"])]),n("div",Lt,[e(u,{onClick:v[4]||(v[4]=Q=>C.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(u,{onClick:i},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  "),e(u,{onClick:s,type:"primary"},{default:l(()=>[t("远距离区域")]),_:1}),e(X,{title:"远",modelValue:o.value,"onUpdate:modelValue":v[7]||(v[7]=Q=>o.value=Q),visible:o.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"43%"}},{default:l(()=>[n("div",null,[e(Me,{wheel:w(N).far},null,8,["wheel"])]),n("div",Mt,[e(u,{onClick:v[6]||(v[6]=Q=>o.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(u,{onClick:r},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),t("  ")]),_:1}),e(U,{label:"切区类型"},{default:l(()=>[e(g,{modelValue:w(N).CUTtype,"onUpdate:modelValue":v[8]||(v[8]=Q=>w(N).CUTtype=Q),placeholder:"请选择"},{default:l(()=>[e(c,{label:"正常类型",value:0}),e(c,{label:"互斥类型",value:1}),e(c,{label:"单点切区",value:2}),e(c,{label:"多点切区",value:3})]),_:1},8,["modelValue"]),Qt]),_:1}),e(U,{label:"切区设置"},{default:l(()=>[e(m,{data:_.value,style:{width:"100%"}},{default:l(()=>[e(D,{prop:"name",label:""},{default:l(Q=>[e(u,{type:"text",onClick:Be=>j(Q.$index)},{default:l(()=>[t(F(_.value[Q.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(D,{label:""},{default:l(Q=>[e(u,{type:"danger",onClick:Be=>y(Q.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),jt,Gt,e(u,{type:"primary",onClick:v[9]||(v[9]=Q=>x())},{default:l(()=>[t("添加")]),_:1}),e(X,{title:"切区设置",modelValue:O.value,"onUpdate:modelValue":v[13]||(v[13]=Q=>O.value=Q),visible:O.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"48%"}},{default:l(()=>[e(ee,{ref:"form",model:w(J),"label-width":"80px"},{default:l(()=>[e(U,{label:"名称"},{default:l(()=>[e(a,{modelValue:w(J).name,"onUpdate:modelValue":v[10]||(v[10]=Q=>w(J).name=Q),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(U,{label:"控制区域"},{default:l(()=>[e(Tt)]),_:1})]),_:1},8,["model"]),n("div",Xt,[e(u,{onClick:v[11]||(v[11]=Q=>O.value=!1)},{default:l(()=>[t("取 消")]),_:1}),e(u,{onClick:v[12]||(v[12]=Q=>G())},{default:l(()=>[t("确定")]),_:1})])]),_:1},8,["modelValue","visible"])]),_:1})])):w(N).type===1?(h(),$("div",qt,[e(U,{label:"IP"},{default:l(()=>[e(a,{modelValue:w(N).ip,"onUpdate:modelValue":v[14]||(v[14]=Q=>w(N).ip=Q),placeholder:"请输入IP"},null,8,["modelValue"])]),_:1}),e(U,{label:"端口号"},{default:l(()=>[e(a,{modelValue:w(N).port,"onUpdate:modelValue":v[15]||(v[15]=Q=>w(N).port=Q),placeholder:"端口号"},null,8,["modelValue"])]),_:1})])):L("",!0)]),_:1},8,["model"]),n("div",Ft,[e(u,{onClick:v[16]||(v[16]=Q=>f.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(u,{type:"primary",onClick:v[17]||(v[17]=Q=>S(!0))},{default:l(()=>[t("确定")]),_:1})]),Wt]),_:1})]),_:1},8,["modelValue","visible"])])}}},zt=fe(Yt,[["__scopeId","data-v-e102470d"]]);const je=M=>(_e("data-v-8265aee9"),M=M(),be(),M),Zt=je(()=>n("br",null,null,-1)),Kt=je(()=>n("br",null,null,-1)),en=je(()=>n("br",null,null,-1)),ln={__name:"Manaul",setup(M){p(!1);const o=()=>{ue.value.Manual=ae,console.log("1111",ue.value.Manaul)},k=Qe(()=>Object.keys(ue.value).filter(A=>A.startsWith("can")&&Array.isArray(ue.value[A].can_manual)&&ue.value[A].can_manual.length>0).map(A=>parseInt(A.slice(3)))),C=Qe(()=>Object.fromEntries(Object.entries(ue.value.com).filter(([A,B])=>A.startsWith("com")&&B===!0)));return(A,B)=>{const I=Ue,i=ge,s=se,r=ie,_=Ve;return h(),Je(_,{ref:"form",model:w(ae),"label-width":"150px"},{default:l(()=>[e(i,{label:"🎆选择手控盒"},{default:l(()=>[e(I,{modelValue:w(ae).manualcom,"onUpdate:modelValue":B[0]||(B[0]=f=>w(ae).manualcom=f),onChange:o},{default:l(()=>[t("✨串口手控盒")]),_:1},8,["modelValue"]),e(I,{modelValue:w(ae).manualcan,"onUpdate:modelValue":B[1]||(B[1]=f=>w(ae).manualcan=f),onChange:o},{default:l(()=>[t("✨CAN手控盒")]),_:1},8,["modelValue"]),e(I,{modelValue:w(ae).manualforklift,"onUpdate:modelValue":B[2]||(B[2]=f=>w(ae).manualforklift=f),onChange:o},{default:l(()=>[t("✨叉车手柄")]),_:1},8,["modelValue"]),e(I,{modelValue:w(ae).manualonline,"onUpdate:modelValue":B[3]||(B[3]=f=>w(ae).manualonline=f),onChange:o},{default:l(()=>[t("✨无线手控盒")]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"🎆选择串口"},{default:l(()=>[e(r,{modelValue:w(ae).com,"onUpdate:modelValue":B[4]||(B[4]=f=>w(ae).com=f),placeholder:"请选择",disabled:!w(ae).manualcom,onChange:o},{default:l(()=>[e(s,{label:"未使用串口",value:0}),(h(!0),$(z,null,Z(C.value,(f,O,H)=>(h(),$(z,null,[f===!0?(h(),Je(s,{key:H,label:O,value:parseInt(O.slice(3))},null,8,["label","value"])):L("",!0)],64))),256))]),_:1},8,["modelValue","disabled"]),Zt]),_:1}),e(i,{label:"🎆自动上线初始方向"},{default:l(()=>[e(r,{modelValue:w(ae).direction,"onUpdate:modelValue":B[5]||(B[5]=f=>w(ae).direction=f),placeholder:"请选择",disabled:!w(ae).manualcom&&!w(ae).manualcan&&!w(ae).manualforklift,onChange:o},{default:l(()=>[e(s,{label:"前进",value:0}),e(s,{label:"后退",value:1})]),_:1},8,["modelValue","disabled"]),Kt]),_:1}),e(i,{label:"🎆选择can线"},{default:l(()=>[e(r,{modelValue:w(ae).can,"onUpdate:modelValue":B[6]||(B[6]=f=>w(ae).can=f),placeholder:"请选择",disabled:!w(ae).manualcan&&!w(ae).manualforklift,onChange:o},{default:l(()=>[e(s,{label:"未安装",value:0}),(h(!0),$(z,null,Z(k.value,(f,O)=>(h(),Je(s,{key:O,label:"can"+f,value:f},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),en]),_:1})]),_:1},8,["model"])}}},an=fe(ln,[["__scopeId","data-v-8265aee9"]]),Re=p(!0),T=p({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0}),un={key:0},tn=n("br",null,null,-1),nn=n("br",null,null,-1),on=n("br",null,null,-1),vn=n("br",null,null,-1),dn={key:1},sn=n("br",null,null,-1),rn=n("br",null,null,-1),mn=n("br",null,null,-1),pn=n("br",null,null,-1),fn={key:2},_n=n("br",null,null,-1),bn=n("br",null,null,-1),gn=n("br",null,null,-1),Vn={key:3},cn=n("br",null,null,-1),Cn=n("br",null,null,-1),hn=n("br",null,null,-1),In=n("br",null,null,-1),$n={key:4},yn=n("br",null,null,-1),wn=n("br",null,null,-1),Sn={__name:"IO",setup(M){const o=p("1"),k=p(!0),C=p(!1),A=p(!1),B=p(!1),I=p(!1);p(!0);const i=p("1"),s=p("1"),r=p("1"),_=p("1"),f=p(""),O=p(""),H=()=>{if(o.value==="1"||o.value==="2"||o.value==="4")T.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value),parseInt(_.value)];else if(o.value==="3")T.value.value=[parseInt(o.value),parseInt(i.value),parseInt(s.value),parseInt(r.value)];else if(o.value==="5"){const R=parseInt(i.value,16);f.value=isNaN(R)?"":R.toString(),T.value.value=[parseInt(o.value),parseInt(f.value),parseInt(s.value)]}console.log("generateJSON",T.value.value)},x=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],V=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],j=()=>{if(console.log("putjson,",T.value.value),T.value.value.value!==void 0){if(T.value.value.value[0]===1||T.value.value.value[0]===2||T.value.value.value[0]===4)o.value=T.value.value.value[0].toString(),i.value=T.value.value.value[1].toString(),s.value=T.value.value.value[2].toString(),r.value=T.value.value.value[3].toString(),_.value=T.value.value.value[4].toString(),S();else if(T.value.value.value[0]===3)o.value=T.value.value.value[0].toString(),i.value=T.value.value.value[1].toString(),s.value=T.value.value.value[2].toString(),r.value=T.value.value.value[3].toString(),S();else if(T.value.value.value[0]===5){o.value=T.value.value.value[0].toString();const R=parseInt(T.value.value.value[1],10);O.value=isNaN(R)?"":R.toString(16),i.value=O.value.toString(),s.value=T.value.value.value[2].toString(),S()}}else if(T.value.value!==void 0){if(T.value.value[0]===1||T.value.value[0]===2||T.value.value[0]===4)o.value=T.value.value[0].toString(),i.value=T.value.value[1].toString(),s.value=T.value.value[2].toString(),r.value=T.value.value[3].toString(),_.value=T.value.value[4].toString(),S();else if(T.value.value[0]===3)o.value=T.value.value[0].toString(),i.value=T.value.value[1].toString(),s.value=T.value.value[2].toString(),r.value=T.value.value[3].toString(),S();else if(T.value.value[0]===5){o.value=T.value.value[0].toString();const R=parseInt(T.value.value[1],10);O.value=isNaN(R)?"":R.toString(16),i.value=O.value.toString(),s.value=T.value.value[2].toString(),S()}}else S(),console.log("putJSONelse")},S=()=>{switch(console.log("handleChange",o.value),o.value){case"1":k.value=!0,C.value=!1,A.value=!1,B.value=!1,I.value=!1,H();return;case"2":k.value=!1,C.value=!0,A.value=!1,B.value=!1,I.value=!1,H();return;case"3":k.value=!1,C.value=!1,A.value=!0,B.value=!1,I.value=!1,H();return;case"4":k.value=!1,C.value=!1,A.value=!1,B.value=!0,I.value=!1,H();return;case"5":k.value=!1,C.value=!1,A.value=!1,B.value=!1,I.value=!0,H();return}};j();let G=0;return pe(Re,()=>{const R=Date.now();R-G>=700&&(j(),G=R)}),(R,y)=>{const d=ce,v=se,u=ie,D=ve;return h(),$("div",null,[(h(),$(z,null,Z(x,(m,a)=>e(d,{key:a,modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=U=>o.value=U),label:m.value,onChange:S},{default:l(()=>[n("pre",null,F(m.label),1)]),_:2},1032,["modelValue","label"])),64)),k.value?(h(),$("div",un,[t(" 远程模块连接到: "),(h(),$(z,null,Z(V,(m,a)=>e(d,{key:a,modelValue:i.value,"onUpdate:modelValue":y[1]||(y[1]=U=>i.value=U),label:m.value,onChange:S},{default:l(()=>[n("pre",null,F(m.label),1)]),_:2},1032,["modelValue","label"])),64)),tn,t(" CAN-POS模块编号: "),e(u,{modelValue:s.value,"onUpdate:modelValue":y[2]||(y[2]=m=>s.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),nn,t(" 模块内输出点编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=m=>r.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),on,t(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":y[4]||(y[4]=m=>_.value=m),onChange:H},{default:l(()=>[e(v,{label:"碰撞时为高电平",value:"0"}),e(v,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),vn])):L("",!0),C.value?(h(),$("div",dn,[t(" 远程模块连接到: "),(h(),$(z,null,Z(V,(m,a)=>e(d,{key:a,modelValue:i.value,"onUpdate:modelValue":y[5]||(y[5]=U=>i.value=U),label:m.value,onChange:S},{default:l(()=>[n("pre",null,F(m.label),1)]),_:2},1032,["modelValue","label"])),64)),sn,t(" CAN-OPEN模块编号: "),e(u,{modelValue:s.value,"onUpdate:modelValue":y[6]||(y[6]=m=>s.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),rn,t(" 模块内输出点编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":y[7]||(y[7]=m=>r.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),mn,t(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":y[8]||(y[8]=m=>_.value=m),onChange:H},{default:l(()=>[e(v,{label:"碰撞时为高电平",value:"0"}),e(v,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),pn])):L("",!0),A.value?(h(),$("div",fn,[t(" 本地IO地址: "),e(D,{modelValue:i.value,"onUpdate:modelValue":y[9]||(y[9]=m=>i.value=m),type:"number",onChange:H},null,8,["modelValue"]),_n,t(" 输出点对应位: "),e(u,{modelValue:s.value,"onUpdate:modelValue":y[10]||(y[10]=m=>s.value=m),onChange:H},{default:l(()=>[e(v,{label:"BIT1",value:"0"}),e(v,{label:"BIT2",value:"1"}),e(v,{label:"BIT3",value:"2"}),e(v,{label:"BIT4",value:"3"}),e(v,{label:"BIT5",value:"4"}),e(v,{label:"BIT6",value:"5"}),e(v,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),bn,t(" 信号极性: "),e(u,{modelValue:r.value,"onUpdate:modelValue":y[11]||(y[11]=m=>r.value=m),onChange:H},{default:l(()=>[e(v,{label:"碰撞时为高电平",value:"0"}),e(v,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),gn])):L("",!0),B.value?(h(),$("div",Vn,[t(" 远程模块连接到: "),(h(),$(z,null,Z(V,(m,a)=>e(d,{key:a,modelValue:i.value,"onUpdate:modelValue":y[12]||(y[12]=U=>i.value=U),label:m.value,onChange:S},{default:l(()=>[n("pre",null,F(m.label),1)]),_:2},1032,["modelValue","label"])),64)),cn,t(" CAN-IO模块编号: "),e(u,{modelValue:s.value,"onUpdate:modelValue":y[13]||(y[13]=m=>s.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Cn,t(" 模块内输出点编号: "),e(u,{modelValue:r.value,"onUpdate:modelValue":y[14]||(y[14]=m=>r.value=m),onChange:H},{default:l(()=>[e(v,{label:"0",value:"0"}),e(v,{label:"1",value:"1"}),e(v,{label:"2",value:"2"})]),_:1},8,["modelValue"]),hn,t(" 信号极性: "),e(u,{modelValue:_.value,"onUpdate:modelValue":y[15]||(y[15]=m=>_.value=m),onChange:H},{default:l(()=>[e(v,{label:"碰撞时为高电平",value:"0"}),e(v,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),In])):L("",!0),I.value?(h(),$("div",$n,[t(" 输入点对应位: "),e(D,{modelValue:i.value,"onUpdate:modelValue":y[16]||(y[16]=m=>i.value=m),onChange:H},null,8,["modelValue"]),yn,t(" 信号极性: "),e(u,{modelValue:s.value,"onUpdate:modelValue":y[17]||(y[17]=m=>s.value=m),onChange:H},{default:l(()=>[e(v,{label:"碰撞时为高电平",value:"0"}),e(v,{label:"碰撞时为低电平",value:"1"})]),_:1},8,["modelValue"]),wn])):L("",!0)])}}};const Fe=M=>(_e("data-v-ac54a31f"),M=M(),be(),M),Un=Fe(()=>n("br",null,null,-1)),kn={slot:"footer",class:"dialog-footer"},Nn=Fe(()=>n("br",null,null,-1)),Bn="声音",xn={__name:"Sound",setup(M){const o=p(!1),k=()=>{T.value.name="No name",T.value.value.value=[1,1,1,1,1],T.value.editingIndex=-1,T.value.ontime=0,T.value.offtime=0,o.value=!0,Re.value=!Re.value},C=I=>{T.value.name=oe.value[I].name,T.value.ontime=oe.value[I].ontime,T.value.offtime=oe.value[I].offtime,T.value.value.value=oe.value[I].value,T.value.editingIndex=I,console.log("reedit",I),console.log("reedit",oe.value[I].value),console.log("reedit",T.value.value.value),Re.value=!Re.value,o.value=!0},A=()=>{if(T.value.name){if(T.value.editingIndex!==-1)oe.value[T.value.editingIndex].name=T.value.name,oe.value[T.value.editingIndex].ontime=T.value.ontime,oe.value[T.value.editingIndex].offtime=T.value.offtime,T.value.value!=null&&(oe.value[T.value.editingIndex].value=T.value.value),ue.value.Sound=oe;else{const I={...T.value};oe.value.push(JSON.parse(JSON.stringify(I))),ue.value.Sound=oe,console.log("handleAddRow",I)}o.value=!1}else Ie.error("请填写完整数据")},B=I=>{oe.value.splice(I,1)};return(I,i)=>{const s=$e,r=we,_=Se,f=ve,O=ge,H=Ve,x=ye;return h(),$("div",null,[e(_,{data:w(oe),style:{width:"100%"},class:"tableDataCrtlSound"},{default:l(()=>[e(r,{prop:"name",label:"⚠️ 扬声器"},{default:l(V=>[e(s,{type:"text",onClick:j=>C(V.$index)},{default:l(()=>[t(F(w(oe)[V.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{label:""},{header:l(()=>[e(s,{type:"primary",onClick:k},{default:l(()=>[t("添加")]),_:1})]),_:1}),e(r,{label:"操作"},{default:l(V=>[e(s,{type:"danger",onClick:j=>B(V.$index)},{default:l(()=>[t("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(x,{title:Bn,modelValue:o.value,"onUpdate:modelValue":i[4]||(i[4]=V=>o.value=V),visible:o.value,width:"1000px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:l(()=>[Un,e(H,{ref:"form",model:w(T),"label-width":"80px"},{default:l(()=>[e(O,{label:"名称"},{default:l(()=>[e(f,{modelValue:w(T).name,"onUpdate:modelValue":i[0]||(i[0]=V=>w(T).name=V),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(O,{label:"IO"},{default:l(()=>[e(Sn)]),_:1}),e(O,{label:"开启时间"},{default:l(()=>[e(f,{modelValue:w(T).ontime,"onUpdate:modelValue":i[1]||(i[1]=V=>w(T).ontime=V),modelModifiers:{number:!0},placeholder:"开启时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1}),e(O,{label:"关闭时间"},{default:l(()=>[e(f,{modelValue:w(T).offtime,"onUpdate:modelValue":i[2]||(i[2]=V=>w(T).offtime=V),modelModifiers:{number:!0},placeholder:"关闭时间(ms)",type:"number",style:{width:"50%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",kn,[e(s,{onClick:i[3]||(i[3]=V=>o.value=!1),style:{"margin-left":"75%"}},{default:l(()=>[t("取 消")]),_:1}),e(s,{type:"primary",onClick:A},{default:l(()=>[t("确定")]),_:1})]),Nn]),_:1},8,["modelValue","visible"])])}}},On=fe(xn,[["__scopeId","data-v-ac54a31f"]]);const te=M=>(_e("data-v-c3ebfd98"),M=M(),be(),M),An={class:"page-container main-view"},Hn={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},Tn={class:"left"},Rn=te(()=>n("hr",{class:"hengxian"},null,-1)),En={class:"left"},Pn=te(()=>n("h2",null,"⚠️ 电器模块：",-1)),Jn=te(()=>n("hr",{class:"hengxian2"},null,-1)),Dn=te(()=>n("h3",null,"⚠️ 开关:",-1)),Ln=te(()=>n("br",null,null,-1)),Mn={key:0},Qn={key:1},jn=te(()=>n("hr",{class:"hengxian3"},null,-1)),Gn=te(()=>n("h3",null,"⚠️ 防碰设备:",-1)),Xn=te(()=>n("br",null,null,-1)),qn={key:2},Fn={key:3},Wn=te(()=>n("hr",{class:"hengxian3"},null,-1)),Yn={key:4},zn=te(()=>n("hr",{class:"hengxian3"},null,-1)),Zn=te(()=>n("h3",null,"⚠️ 电池指示表:",-1)),Kn=te(()=>n("br",null,null,-1)),eo=te(()=>n("hr",{class:"hengxian3"},null,-1)),lo={key:5},ao=te(()=>n("br",null,null,-1)),uo=te(()=>n("hr",{class:"hengxian3"},null,-1)),to=te(()=>n("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),no=te(()=>n("br",null,null,-1)),oo={key:6},vo=te(()=>n("br",null,null,-1)),so=te(()=>n("hr",{class:"hengxian2"},null,-1)),io={__name:"electrion",setup(M){const o=p(!1),k=()=>{o.value=!0},C=Qe(()=>JSON.stringify(ue.value,null,2)),A=p(!0),B=p(!0),I=p(!0),i=p(!0),s=p(!1),r=p(!0),_=p(!0),f=p(!0),O=()=>{s.value=!0},H=()=>{router.push("/main/second")},x=()=>{router.push("/main/fifth")};return(V,j)=>{const S=$e,G=ye;return h(),$("div",null,[n("div",An,[n("div",Hn,[e(Ee,{height:"100%",showUpBt:!0},{default:l(()=>[n("div",Tn,[e(S,{type:"info",onClick:k},{default:l(()=>[t(" 查看设备 ")]),_:1}),e(G,{modelValue:o.value,"onUpdate:modelValue":j[0]||(j[0]=R=>o.value=R),title:"设备总览",visible:o.value,width:"900px",onClose:j[1]||(j[1]=R=>o.value=!1)},{default:l(()=>[e(Ee,{height:"100%",showUpBt:!0},{default:l(()=>[e(Ze)]),_:1})]),_:1},8,["modelValue","visible"]),t("   "),e(S,{type:"info",onClick:O},{default:l(()=>[t(" 查看 ")]),_:1}),e(G,{modelValue:s.value,"onUpdate:modelValue":j[2]||(j[2]=R=>s.value=R),title:"数据",visible:s.value,onClose:j[3]||(j[3]=R=>s.value=!1)},{default:l(()=>[e(Ee,{height:"100%",showUpBt:!0},{default:l(()=>[n("pre",null,F(C.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),t("   "),e(S,{type:"primary",onClick:H},{default:l(()=>[t("上一步")]),_:1}),e(S,{type:"primary",onClick:x},{default:l(()=>[t("下一步")]),_:1})]),Rn,n("div",En,[Pn,t(" 配置电器模块： "),Jn,Dn,Ln,A.value?(h(),$("div",Mn,[e(su)])):L("",!0),B.value?(h(),$("div",Qn,[e(Pu)])):L("",!0),jn,Gn,Xn,I.value?(h(),$("div",qn,[e(zt)])):L("",!0),i.value?(h(),$("div",Fn,[e(ta)])):L("",!0),Wn,r.value?(h(),$("div",Yn,[e(Ha)])):L("",!0),zn,Zn,Kn,e(Gu),eo,f.value?(h(),$("div",lo,[e(On),ao])):L("",!0),uo,to,no,_.value?(h(),$("div",oo,[e(an),vo])):L("",!0)]),so]),_:1})])])])}}},Ho=fe(io,[["__scopeId","data-v-c3ebfd98"]]);export{Ho as default};
