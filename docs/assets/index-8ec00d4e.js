import{_ as L,aV as a,o as V,c as U,a as n,b as o,f as d,bl as h,ck as v,E as B,l as I,m as y,cp as R,cR as N,p as S,q as T}from"./index-02639357.js";import{a as D,E as O}from"./el-table-column-343ed821.js";/* empty css                    */import"./el-tag-dc4d0661.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-4a354208.js";import"./el-scrollbar-540daa95.js";import"./_Uint8Array-95410dc0.js";import"./_initCloneObject-971e04a4.js";import"./index-954f2623.js";import"./isEqual-801b63cc.js";import"./debounce-59d8211e.js";const f=i=>(S("data-v-31b81725"),i=i(),T(),i),j={class:"page-container main-view"},F={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},q=f(()=>n("h2",{style:{"margin-top":"1%","margin-left":"1%"}},"管理",-1)),z=f(()=>n("div",{class:"hengxian"},null,-1)),J={style:{display:"flex","align-items":"center"}},M=f(()=>n("br",null,null,-1)),A=["href"],G={__name:"index",setup(i){const r=a(null),g=a(null),c=a(""),b=a(null),p=a(""),u=a(null),w=()=>{let l={data:p.value};v({method:"post",url:"/api/get/files",data:JSON.stringify(l)}).then(t=>{b.value=t.data}).catch(t=>{}).finally(()=>{})},x=()=>{let l={file:c.value};v({method:"get",url:"/api/download",params:l,responseType:"blob"}).then(t=>{r.value=t.data,console.log("responseData",r.value);const _=new Blob([r.value],{type:"application/octet-stream"}),s=window.URL.createObjectURL(_),e=document.createElement("a");e.href=s,e.download=c.value,e.style.display="none",document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(s),document.body.removeChild(e)}).catch(t=>{}).finally(()=>{})},k=(l,t)=>{l.preventDefault(),u.value=t,u.value&&(c.value=u.value.name,console.log("1111",c.value),x())};return(l,t)=>{const _=B,s=I,e=O,C=D;return V(),U("div",j,[n("div",F,[q,z,n("div",J,[o(_,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=m=>p.value=m),style:{width:"70%","margin-right":"4%","margin-left":"2%","margin-top":"0%"},placeholder:"🤪文件名.."},null,8,["modelValue"]),o(s,{onClick:w,type:"primary",style:{width:"15%","margin-top":"0%"},icon:h(R)},{default:d(()=>[y("搜索")]),_:1},8,["icon"])]),M,o(C,{data:b.value},{default:d(()=>[o(e,{prop:"name",label:"文件名"}),o(e,{prop:"created",label:"创建时间"}),o(e,{prop:"modified",label:"修改时间"}),o(e,{prop:"size",label:"文件大小"}),o(e,{label:"操作"},{default:d(({row:m})=>[o(s,{type:"success",onClick:E=>k(E,m),icon:h(N)},{default:d(()=>[y("下载")]),_:2},1032,["onClick","icon"])]),_:1})]),_:1},8,["data"]),n("a",{ref:"downloadLink",style:{display:"none"},href:g.value,download:""},null,8,A)])])}}},le=L(G,[["__scopeId","data-v-31b81725"]]);export{le as default};
