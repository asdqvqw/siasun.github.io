import{bB as ve,o as U,c as N,b as l,f as t,m as v,bl as x,a as o,E as j,bc as J,aV as w,F as te,aY as ue,g as K,_ as Z,bH as B,by as F,l as re,p as ee,q as le,cj as ke,at as he,Q as $e,aC as we}from"./index-31d041b7.js";import{E as _e}from"./el-dialog-f026a5f0.js";import{M as oe,a as ne,j as T,A as Ue,b as Ne,f as D,t as a,d as H,c as se,e as ie,s as ge}from"./commondata-38ea6384.js";import{E as pe,a as fe}from"./el-table-column-58bcd18c.js";import{E as me}from"./el-tag-94a35715.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-20e53888.js";import"./el-scrollbar-1cd9d3fa.js";/* empty css                 */import{E as Q,a as W}from"./el-select-9d644a01.js";import{E as ye}from"./index-9f78b7f2.js";/* empty css                */import{E as be,a as xe}from"./el-form-item-3a0024b9.js";import{_ as Ae}from"./check-7f220ef3.js";import"./index-e584377a.js";import"./debounce-23f92823.js";import"./index-309e42d7.js";import"./strings-76a06904.js";const Me=o("br",null,null,-1),Se={__name:"manualparm",setup(u){const y=e=>{oe.value.forEach(p=>{p!==e&&(p.value=!1)})},_=e=>{ne.value.forEach(p=>{p!==e&&(p.value=!1)})};return ve(oe.value,()=>{console.log("111"),T.value.OperatingParam.manualparm.setSpeed=oe.value.map(e=>[parseFloat(e.adAutoSpe),e.value===!0?1:0])}),ve(ne.value,()=>{console.log("222"),T.value.OperatingParam.manualparm.setRadius=ne.value.map(e=>[parseFloat(e.manRadNum),e.value===!0?1:0])}),(e,p)=>{const c=pe,V=Q,S=W,r=ye,C=fe,s=j;return U(),N("div",null,[l(C,{data:x(oe),style:{width:"100%"}},{default:t(()=>[l(c,{prop:"manSpeLev",label:"速度级别"}),l(c,{prop:"adAutoSpe",label:"对应的自动速度级别"},{default:t(d=>[l(S,{modelValue:d.row.adAutoSpe,"onUpdate:modelValue":h=>d.row.adAutoSpe=h,placeholder:"请选择"},{default:t(()=>[l(V,{label:"0",value:0}),l(V,{label:"1",value:1}),l(V,{label:"2",value:2}),l(V,{label:"3",value:3}),l(V,{label:"4",value:4}),l(V,{label:"5",value:5}),l(V,{label:"6",value:6}),l(V,{label:"7",value:7}),l(V,{label:"8",value:8}),l(V,{label:"9",value:9})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),l(c,{prop:"value",label:"是否省缺"},{default:t(d=>[l(r,{modelValue:d.row.value,"onUpdate:modelValue":h=>d.row.value=h,label:!0,onChange:h=>y(d.row)},{default:t(()=>[v(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),Me,l(C,{data:x(ne),style:{width:"100%"}},{default:t(()=>[l(c,{prop:"manRadLev",label:"转弯半径级别"}),l(c,{prop:"manRadNum",label:"半径值(m)"},{default:t(d=>[l(s,{modelValue:d.row.manRadNum,"onUpdate:modelValue":h=>d.row.manRadNum=h,placeholder:"请输入半径",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(c,{prop:"value",label:"是否省缺"},{default:t(d=>[l(r,{modelValue:d.row.value,"onUpdate:modelValue":h=>d.row.value=h,label:!0,onChange:h=>_(d.row)},{default:t(()=>[v(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},Te={__name:"autoparm",setup(u){const y=(e,p)=>{T.value.OperatingParam.autoparam[p.key]=parseFloat(p.value)},_=e=>{T.value.OperatingParam.autoparam.SpeedLev=parseFloat(e.value)};return(e,p)=>{const c=pe,V=j,S=fe,r=Q,C=W;return U(),N("div",null,[l(S,{data:x(Ue),style:{width:"100%"}},{default:t(()=>[l(c,{prop:"name",label:" "},{default:t(s=>[o("span",null,"🔶"+J(s.row.name),1)]),_:1}),l(c,{prop:"value",label:" "},{default:t(s=>[l(V,{modelValue:s.row.value,"onUpdate:modelValue":d=>s.row.value=d,placeholder:"请选择",style:{width:"100%"},onChange:d=>y(s.$index,s.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),l(S,{data:x(Ne),style:{width:"100%"}},{default:t(()=>[l(c,{prop:"name",label:""},{default:t(s=>[o("span",null,"🔶"+J(s.row.name),1)]),_:1}),l(c,{prop:"value",label:""},{default:t(s=>[l(C,{modelValue:s.row.value,"onUpdate:modelValue":d=>s.row.value=d,placeholder:"请选择",onChange:d=>_(s.row)},{default:t(()=>[l(r,{label:"0级速度,值0.1",value:"0"}),l(r,{label:"1级速度,值0.2",value:"1"}),l(r,{label:"2级速度,值0.3",value:"2"}),l(r,{label:"3级速度,值0.4",value:"3"}),l(r,{label:"4级速度,值0.5",value:"4"}),l(r,{label:"5级速度,值0.6",value:"5"}),l(r,{label:"6级速度,值0.7",value:"6"}),l(r,{label:"7级速度,值0.8",value:"7"}),l(r,{label:"8级速度,值0.9",value:"8"}),l(r,{label:"9级速度,值1",value:"9"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},Ee=o("br",null,null,-1),Oe={key:0},ze={key:0},Re=o("br",null,null,-1),Pe=o("br",null,null,-1),Ke=o("br",null,null,-1),Be={key:1},Fe=o("br",null,null,-1),Le=o("br",null,null,-1),De=o("br",null,null,-1),Je={key:2},qe=o("br",null,null,-1),Ye=o("br",null,null,-1),je={key:3},Ge=o("br",null,null,-1),Xe=o("br",null,null,-1),He=o("br",null,null,-1),Qe={key:4},We=o("br",null,null,-1),de={__name:"IO",props:{wheel:{type:Array,required:!0}},emits:["myEvent"],setup(u,{emit:y}){const _=u,e=w(!1),p=w("子组件数据"),c=w("1"),V=w(!0),S=w(!1),r=w(!1),C=w(!1),s=w(!1),d=w("1"),h=w("1"),k=w("1"),i=w("1");y("myEvent",p.value);const $=()=>{_.wheel[0]!==void 0?_.wheel[0]===1||_.wheel[0]===2||_.wheel[0]===4?(e.value=!0,c.value=_.wheel[0].toString(),E(),d.value=_.wheel[1].toString(),h.value=_.wheel[2].toString(),k.value=_.wheel[3].toString(),i.value=_.wheel[4].toString()):_.wheel[0]===3?(e.value=!0,c.value=_.wheel[0].toString(),E(),d.value=_.wheel[1].toString(),h.value=_.wheel[2].toString(),k.value=_.wheel[3].toString()):_.wheel[0]===5?(e.value=!0,c.value=_.wheel[0].toString(),E(),d.value=_.wheel[1].toString(),h.value=_.wheel[2].toString()):_.wheel[0]===0&&(e.value=!1,E()):e.value=!1},m=()=>{e.value||(_.wheel.value=[0,2,2,2,0]),A()},A=()=>{e.value?c.value==="1"||c.value==="2"||c.value==="4"?_.wheel.value=[parseInt(c.value),parseInt(d.value),parseInt(h.value),parseInt(k.value),parseInt(i.value)]:c.value==="3"?_.wheel.value=[parseInt(c.value),parseInt(d.value),parseInt(h.value),parseInt(k.value)]:c.value==="5"&&(_.wheel.value=[parseInt(c.value),parseInt(d.value),parseInt(h.value)]):_.wheel.value=[0,2,2,2,0]},b=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],M=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],E=()=>{switch(c.value){case"1":V.value=!0,S.value=!1,r.value=!1,C.value=!1,s.value=!1,A();return;case"2":V.value=!1,S.value=!0,r.value=!1,C.value=!1,s.value=!1,A();return;case"3":V.value=!1,S.value=!1,r.value=!0,C.value=!1,s.value=!1,A();return;case"4":V.value=!1,S.value=!1,r.value=!1,C.value=!0,s.value=!1,A();return;case"5":V.value=!1,S.value=!1,r.value=!1,C.value=!1,s.value=!0,A();return}};$();let X=0;return ve(D,()=>{const I=Date.now();I-X>=700&&($(),X=I)}),(I,n)=>{const Ce=me,ae=ye,g=Q,P=W,Ve=j;return U(),N("div",null,[l(Ce,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=f=>e.value=f),onChange:m},{default:t(()=>[v("启用:")]),_:1},8,["modelValue"]),Ee,e.value?(U(),N("div",Oe,[(U(),N(te,null,ue(b,(f,q)=>l(ae,{key:q,modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=Y=>c.value=Y),label:f.value,onChange:E},{default:t(()=>[o("pre",null,J(f.label),1)]),_:2},1032,["modelValue","label"])),64)),V.value?(U(),N("div",ze,[v(" 远程模块连接到: "),(U(),N(te,null,ue(M,(f,q)=>l(ae,{key:q,modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=Y=>d.value=Y),label:f.value,onChange:E},{default:t(()=>[o("pre",null,J(f.label),1)]),_:2},1032,["modelValue","label"])),64)),Re,v(" CAN-POS模块编号: "),l(P,{modelValue:h.value,"onUpdate:modelValue":n[3]||(n[3]=f=>h.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Pe,v(" 模块内输出点编号: "),l(P,{modelValue:k.value,"onUpdate:modelValue":n[4]||(n[4]=f=>k.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Ke,v(" 信号极性: "),l(P,{modelValue:i.value,"onUpdate:modelValue":n[5]||(n[5]=f=>i.value=f),onChange:A},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):K("",!0),S.value?(U(),N("div",Be,[v(" 远程模块连接到: "),(U(),N(te,null,ue(M,(f,q)=>l(ae,{key:q,modelValue:d.value,"onUpdate:modelValue":n[6]||(n[6]=Y=>d.value=Y),label:f.value,onChange:E},{default:t(()=>[o("pre",null,J(f.label),1)]),_:2},1032,["modelValue","label"])),64)),Fe,v(" CAN-OPEN模块编号: "),l(P,{modelValue:h.value,"onUpdate:modelValue":n[7]||(n[7]=f=>h.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Le,v(" 模块内输出点编号: "),l(P,{modelValue:k.value,"onUpdate:modelValue":n[8]||(n[8]=f=>k.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),De,v(" 信号极性: "),l(P,{modelValue:i.value,"onUpdate:modelValue":n[9]||(n[9]=f=>i.value=f),onChange:A},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):K("",!0),r.value?(U(),N("div",Je,[v(" 本地IO地址: "),l(Ve,{modelValue:d.value,"onUpdate:modelValue":n[10]||(n[10]=f=>d.value=f),type:"number",onChange:A},null,8,["modelValue"]),qe,v(" 输出点对应位: "),l(P,{modelValue:h.value,"onUpdate:modelValue":n[11]||(n[11]=f=>h.value=f),onChange:A},{default:t(()=>[l(g,{label:"BIT1",value:"0"}),l(g,{label:"BIT2",value:"1"}),l(g,{label:"BIT3",value:"2"}),l(g,{label:"BIT4",value:"3"}),l(g,{label:"BIT5",value:"4"}),l(g,{label:"BIT6",value:"5"}),l(g,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Ye,v(" 信号极性: "),l(P,{modelValue:k.value,"onUpdate:modelValue":n[12]||(n[12]=f=>k.value=f),onChange:A},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):K("",!0),C.value?(U(),N("div",je,[v(" 远程模块连接到: "),(U(),N(te,null,ue(M,(f,q)=>l(ae,{key:q,modelValue:d.value,"onUpdate:modelValue":n[13]||(n[13]=Y=>d.value=Y),label:f.value,onChange:E},{default:t(()=>[o("pre",null,J(f.label),1)]),_:2},1032,["modelValue","label"])),64)),Ge,v(" CAN-IO模块编号: "),l(P,{modelValue:h.value,"onUpdate:modelValue":n[14]||(n[14]=f=>h.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Xe,v(" 模块内输出点编号: "),l(P,{modelValue:k.value,"onUpdate:modelValue":n[15]||(n[15]=f=>k.value=f),onChange:A},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),He,v(" 信号极性: "),l(P,{modelValue:i.value,"onUpdate:modelValue":n[16]||(n[16]=f=>i.value=f),onChange:A},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):K("",!0),s.value?(U(),N("div",Qe,[v(" 输入点对应位: "),l(Ve,{modelValue:d.value,"onUpdate:modelValue":n[17]||(n[17]=f=>d.value=f),type:"number",onChange:A},null,8,["modelValue"]),We,v(" 信号极性: "),l(P,{modelValue:h.value,"onUpdate:modelValue":n[18]||(n[18]=f=>h.value=f),onChange:A},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):K("",!0)])):K("",!0)])}}},O=w(-1),z=w(-1);const ce=u=>(ee("data-v-9d4c48e6"),u=u(),le(),u),Ze={slot:"footer",class:"dialog-footer"},el=ce(()=>o("br",null,null,-1)),ll=ce(()=>o("h3",null,"安装方向:",-1)),al={class:"table-container"},tl={class:"left-table"},ul=ce(()=>o("h3",null,"机械参数:",-1)),ol={class:"right-table"},nl=ce(()=>o("h3",null,"伺服参数:",-1)),sl={slot:"footer",class:"dialog-footer"},il="驱动轮",dl="过热检测",vl={__name:"wheel",props:{wheel:{type:String,required:!0}},setup(u){w(["驱动内坐标X","驱动内坐标Y","单元距离(m)","电机减速比","最大转速rpm","码盘线数","速度","加速度","最大转角"]),w(["CAN端口号","CAN-OPEN编号"]);const y=w(!1);w(!1),w(!1),w(!1),w(!1);const _=w(!1),e=()=>{_.value=!1},p=()=>{D.value=!D.value,_.value=!0},c=()=>{y.value=!0},V=()=>{y.value=!1};return(S,r)=>{const C=re,s=_e,d=Q,h=W,k=j,i=be,$=xe;return U(),N("div",null,[l(C,{type:"primary",onClick:c},{default:t(()=>[v("驱动轮")]),_:1}),l(s,{title:il,modelValue:y.value,"onUpdate:modelValue":r[16]||(r[16]=m=>y.value=m),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(C,{onClick:p,type:"primary"},{default:t(()=>[v("过热检测")]),_:1}),l(s,{title:dl,modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=m=>_.value=m),visible:_.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(de,{wheel:u.wheel.wheel_check},null,8,["wheel"])]),o("div",Ze,[l(C,{onClick:r[0]||(r[0]=m=>_.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l(C,{onClick:e},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),v("  ")]),el,o("div",null,[ll,l(h,{modelValue:u.wheel.install_dir,"onUpdate:modelValue":r[2]||(r[2]=m=>u.wheel.install_dir=m)},{default:t(()=>[l(d,{label:"正向",value:0}),l(d,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",al,[o("div",tl,[ul,l($,{ref:"form",model:u.wheel,"label-width":"120px"},{default:t(()=>[l(i,{label:"驱动内坐标X",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.wheel_x,"onUpdate:modelValue":r[3]||(r[3]=m=>u.wheel.wheel_x=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"驱动内坐标Y",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.wheel_y,"onUpdate:modelValue":r[4]||(r[4]=m=>u.wheel.wheel_y=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"车轮直径",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.unit_dis,"onUpdate:modelValue":r[5]||(r[5]=m=>u.wheel.axis.unit_dis=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.ratio,"onUpdate:modelValue":r[6]||(r[6]=m=>u.wheel.axis.ratio=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.encoder,"onUpdate:modelValue":r[7]||(r[7]=m=>u.wheel.axis.encoder=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"最大转速",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.max_rpm,"onUpdate:modelValue":r[8]||(r[8]=m=>u.wheel.axis.max_rpm=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(i,{label:"加速度",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.acc_vel,"onUpdate:modelValue":r[9]||(r[9]=m=>u.wheel.axis.acc_vel=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),B(l(i,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.axis.Target,"onUpdate:modelValue":r[10]||(r[10]=m=>u.wheel.axis.Target=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(O)===0||x(O)===1]])]),_:1},8,["model"])]),o("div",ol,[nl,l($,{ref:"form",model:u.wheel,"label-width":"130px"},{default:t(()=>[B(l(i,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.servo.canport_id,"onUpdate:modelValue":r[11]||(r[11]=m=>u.wheel.servo.canport_id=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(O)===2||x(O)===3||x(O)===4||x(O)===5]]),B(l(i,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.servo.can_id,"onUpdate:modelValue":r[12]||(r[12]=m=>u.wheel.servo.can_id=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(O)===0||x(O)===1]]),B(l(i,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.servo.canposunit_id,"onUpdate:modelValue":r[13]||(r[13]=m=>u.wheel.servo.canposunit_id=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(O)===0||x(O)===1]]),B(l(i,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(k,{modelValue:u.wheel.servo.canopenunit_id,"onUpdate:modelValue":r[14]||(r[14]=m=>u.wheel.servo.canopenunit_id=m),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(O)===2||x(O)===3||x(O)===4||x(O)===5]])]),_:1},8,["model"])])])]),o("div",sl,[l(C,{onClick:r[15]||(r[15]=m=>y.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l(C,{onClick:V},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},rl=Z(vl,[["__scopeId","data-v-9d4c48e6"]]);const G=u=>(ee("data-v-04355eb9"),u=u(),le(),u),_l=G(()=>o("h3",null,"安装方向:",-1)),ml={class:"table-container"},cl={class:"left-table"},hl=G(()=>o("h3",null,"机械参数:",-1)),wl={class:"right-table"},pl=G(()=>o("h3",null,"伺服参数:",-1)),fl=G(()=>o("h3",null,"舵绝对码盘:",-1)),bl={key:0},xl=G(()=>o("h3",null,"舵角校正:",-1)),Vl=G(()=>o("br",null,null,-1)),gl={slot:"footer",class:"dialog-footer"},yl={slot:"footer",class:"dialog-footer"},Il={slot:"footer",class:"dialog-footer"},Cl=G(()=>o("br",null,null,-1)),kl={slot:"footer",class:"dialog-footer"},$l="驱动轮",Ul="限位开关1",Nl="限位开关2",Al="零位开关",Ml={__name:"steer",props:{steer:{type:String,required:!0}},setup(u){w(["电机减速比","码盘线数","最大角度(度)"]),w(["CAN端口号","CAN-POS编号"]),w(["CAN端口号","码盘模块编号","码盘最大码","零位码盘值"]),w(["零位偏差索引"]);const y=w(!1);w(!1),w(!1);const _=w(!1),e=w(!1),p=w(!1),c=()=>{D.value=!D.value,_.value=!0},V=()=>{D.value=!D.value,e.value=!0},S=()=>{D.value=!D.value,p.value=!0},r=()=>{_.value=!1},C=()=>{e.value=!1},s=()=>{p.value=!1},d=()=>{y.value=!0},h=()=>{y.value=!1};return(k,i)=>{const $=re,m=Q,A=W,b=j,M=be,E=xe,X=me,I=_e;return U(),N("div",null,[l($,{type:"primary",onClick:d},{default:t(()=>[v("转舵机构")]),_:1}),l(I,{title:$l,modelValue:y.value,"onUpdate:modelValue":i[25]||(i[25]=n=>y.value=n),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[_l,l(A,{modelValue:u.steer.install_dir,"onUpdate:modelValue":i[0]||(i[0]=n=>u.steer.install_dir=n)},{default:t(()=>[l(m,{label:"正向",value:0}),l(m,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",ml,[o("div",cl,[hl,l(E,{ref:"form",model:u.steer,"label-width":"120px"},{default:t(()=>[l(M,{label:"单元距离",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.unit_dis,"onUpdate:modelValue":i[1]||(i[1]=n=>u.steer.axis.unit_dis=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.ratio,"onUpdate:modelValue":i[2]||(i[2]=n=>u.steer.axis.ratio=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.encoder,"onUpdate:modelValue":i[3]||(i[3]=n=>u.steer.axis.encoder=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"最大角度",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.max_poserr_limit,"onUpdate:modelValue":i[4]||(i[4]=n=>u.steer.axis.max_poserr_limit=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"角加速度",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.acc_vel,"onUpdate:modelValue":i[5]||(i[5]=n=>u.steer.axis.acc_vel=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"角速度",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.vel,"onUpdate:modelValue":i[6]||(i[6]=n=>u.steer.axis.vel=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),B(l(M,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.axis.Target,"onUpdate:modelValue":i[7]||(i[7]=n=>u.steer.axis.Target=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(z)===0||x(z)===1]])]),_:1},8,["model"])]),o("div",wl,[pl,l(E,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[B(l(M,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.servo.canport_id,"onUpdate:modelValue":i[8]||(i[8]=n=>u.steer.servo.canport_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(z)===2||x(z)===3||x(z)===4||x(z)===5]]),B(l(M,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.servo.can_id,"onUpdate:modelValue":i[9]||(i[9]=n=>u.steer.servo.can_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(z)===0||x(z)===1]]),B(l(M,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.servo.canposunit_id,"onUpdate:modelValue":i[10]||(i[10]=n=>u.steer.servo.canposunit_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(z)===0||x(z)===1]]),B(l(M,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.servo.canopenunit_id,"onUpdate:modelValue":i[11]||(i[11]=n=>u.steer.servo.canopenunit_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[F,x(z)===2||x(z)===3||x(z)===4||x(z)===5]])]),_:1},8,["model"])])]),fl,l(X,{modelValue:u.steer.use_absolute_encoder,"onUpdate:modelValue":i[12]||(i[12]=n=>u.steer.use_absolute_encoder=n)},{default:t(()=>[v("启用舵绝对码盘")]),_:1},8,["modelValue"]),u.steer.use_absolute_encoder?(U(),N("div",bl,[l(E,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(M,{label:"码盘CAN端口号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.absolute_encoder_canport_id,"onUpdate:modelValue":i[13]||(i[13]=n=>u.steer.absolute_encoder_canport_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"码盘模块编号",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.absolute_encoder_unit_id,"onUpdate:modelValue":i[14]||(i[14]=n=>u.steer.absolute_encoder_unit_id=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"码盘最大值",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.absolute_encoder_max,"onUpdate:modelValue":i[15]||(i[15]=n=>u.steer.absolute_encoder_max=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(M,{label:"零位码盘值",style:{width:"90%"}},{default:t(()=>[l(b,{modelValue:u.steer.absolute_encoder_zero,"onUpdate:modelValue":i[16]||(i[16]=n=>u.steer.absolute_encoder_zero=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):K("",!0),xl,Vl,l(E,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(M,{label:"零位索引偏差",style:{width:"45%"}},{default:t(()=>[l(b,{modelValue:u.steer.home_offset,"onUpdate:modelValue":i[17]||(i[17]=n=>u.steer.home_offset=n),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l($,{onClick:c,type:"primary"},{default:t(()=>[v("限位开关1")]),_:1}),l(I,{title:Ul,modelValue:_.value,"onUpdate:modelValue":i[19]||(i[19]=n=>_.value=n),visible:_.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(de,{wheel:u.steer.unclockwise_limit_switch},null,8,["wheel"])]),o("div",gl,[l($,{onClick:i[18]||(i[18]=n=>_.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l($,{onClick:r},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),v("  "),l($,{onClick:V,type:"primary"},{default:t(()=>[v("限位开关2")]),_:1}),l(I,{title:Nl,modelValue:e.value,"onUpdate:modelValue":i[21]||(i[21]=n=>e.value=n),visible:e.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(de,{wheel:u.steer.clockwise_limit_switch},null,8,["wheel"])]),o("div",yl,[l($,{onClick:i[20]||(i[20]=n=>e.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l($,{onClick:C},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),v("  "),l($,{onClick:S,type:"primary"},{default:t(()=>[v("零位开关")]),_:1}),l(I,{title:Al,modelValue:p.value,"onUpdate:modelValue":i[23]||(i[23]=n=>p.value=n),visible:p.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(de,{wheel:u.steer.zero_limit_switch},null,8,["wheel"])]),o("div",Il,[l($,{onClick:i[22]||(i[22]=n=>p.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l($,{onClick:s},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),v(" "),Cl]),o("div",kl,[l($,{onClick:i[24]||(i[24]=n=>y.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l($,{onClick:h},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Sl=Z(Ml,[["__scopeId","data-v-04355eb9"]]);const L=u=>(ee("data-v-836901ae"),u=u(),le(),u),Tl=L(()=>o("br",null,null,-1)),El=L(()=>o("h3",null,"安装位置:",-1)),Ol=L(()=>o("br",null,null,-1)),zl=L(()=>o("h3",null,"驱动类型:",-1)),Rl=L(()=>o("br",null,null,-1)),Pl=L(()=>o("br",null,null,-1)),Kl=L(()=>o("br",null,null,-1)),Bl=L(()=>o("br",null,null,-1)),Fl={style:{display:"flex"}},Ll={key:0},Dl={key:1},Jl=L(()=>o("br",null,null,-1)),ql=L(()=>o("br",null,null,-1)),Yl={slot:"footer",class:"dialog-footer"},jl="驱动单元",Gl={__name:"selectfive",setup(u){const y=()=>{z.value=e.value.steer.servo_type},_=()=>{O.value=e.value.wheel.servo_type},e=w({name:"",install_x:0,install_y:0,use_wheel:!1,use_steer:!1,editingIndex:-1,drive_type:0,wheel:{install_dir:0,servo_type:0,wheel_x:0,wheel_y:0,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},wheel_check:[0,2,2,2,0]},steer:{install_dir:0,servo_type:0,use_absolute_encoder:!1,absolute_encoder_canport_id:0,absolute_encoder_unit_id:0,absolute_encoder_max:16777216,absolute_encoder_zero:16777e3,home_offset:54,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},unclockwise_limit_switch:[2,2,1,0,0],clockwise_limit_switch:[2,2,1,1,0],zero_limit_switch:[2,2,1,2,0]}}),p=w(!1),c=()=>{e.value.name="",e.value.install_x=0,e.value.install_y=0,e.value.use_wheel=!1,e.value.use_steer=!1,e.value.drive_type=0,e.value.steer.home_offset=54,e.value.steer.use_absolute_encoder=!1,e.value.steer.absolute_encoder_canport_id=0,e.value.steer.absolute_encoder_unit_id=0,e.value.steer.absolute_encoder_max=16777216,e.value.steer.absolute_encoder_zero=16777e3,e.value.steer.servo_type=0,e.value.steer.install_dir=0,e.value.steer.unclockwise_limit_switch=[2,2,1,0,0],e.value.steer.clockwise_limit_switch=[2,2,1,1,0],e.value.steer.zero_limit_switch=[2,2,1,2,0],e.value.steer.axis.unit_dis=6.28,e.value.steer.axis.encoder=2500,e.value.steer.axis.max_rpm=0,e.value.steer.axis.Target=0,e.value.steer.axis.max_poserr_limit=0,e.value.steer.axis.vel=1,e.value.steer.axis.acc_vel=.3,e.value.steer.axis.ratio=20,e.value.steer.servo.canport_id=0,e.value.steer.servo.canposunit_id=0,e.value.steer.servo.canopenunit_id=0,e.value.steer.servo.can_id=11,e.value.editingIndex=-1,e.value.wheel.wheel_check=[0,2,2,2,0],e.value.wheel.install_dir=0,e.value.wheel.wheel_x=0,e.value.wheel.wheel_y=0,e.value.wheel.servo_type=0,e.value.wheel.axis.unit_dis=0,e.value.wheel.axis.encoder=2500,e.value.wheel.axis.max_rpm=0,e.value.wheel.axis.Target=0,e.value.wheel.axis.max_poserr_limit=0,e.value.wheel.axis.vel=1,e.value.wheel.axis.acc_vel=.3,e.value.wheel.axis.ratio=20,e.value.wheel.servo.canport_id=0,e.value.wheel.servo.canposunit_id=0,e.value.wheel.servo.canopenunit_id=0,e.value.wheel.servo.can_id=11,console.log(a),p.value=!0},V=s=>{e.value.name=a.value[s].name,e.value.editingIndex=s,e.value.install_x=a.value[s].install_x,e.value.install_y=a.value[s].install_y,e.value.use_wheel=a.value[s].use_wheel,e.value.drive_type=a.value[s].drive_type,e.value.wheel.wheel_check=a.value[s].wheel.wheel_check,e.value.wheel.install_dir=a.value[s].wheel.install_dir,e.value.wheel.wheel_x=a.value[s].wheel.wheel_x,e.value.wheel.wheel_y=a.value[s].wheel.wheel_y,e.value.wheel.axis.unit_dis=a.value[s].wheel.axis.unit_dis,e.value.wheel.axis.encoder=a.value[s].wheel.axis.encoder,e.value.wheel.axis.max_rpm=a.value[s].wheel.axis.max_rpm,e.value.wheel.axis.Target=a.value[s].wheel.axis.Target,e.value.wheel.axis.max_poserr_limit=a.value[s].wheel.axis.max_poserr_limit,e.value.wheel.axis.vel=a.value[s].wheel.axis.vel,e.value.wheel.axis.acc_vel=a.value[s].wheel.axis.acc_vel,e.value.wheel.axis.ratio=a.value[s].wheel.axis.ratio,e.value.wheel.servo.canport_id=a.value[s].wheel.servo.canport_id,e.value.wheel.servo.canposunit_id=a.value[s].wheel.servo.canposunit_id,e.value.wheel.servo.canopenunit_id=a.value[s].wheel.servo.canopenunit_id,e.value.wheel.servo.can_id=a.value[s].wheel.servo.can_id,e.value.steer.axis.unit_dis=a.value[s].steer.axis.unit_dis,e.value.steer.axis.encoder=a.value[s].steer.axis.encoder,e.value.steer.axis.max_rpm=a.value[s].steer.axis.max_rpm,e.value.steer.axis.Target=a.value[s].steer.axis.Target,e.value.steer.axis.max_poserr_limit=a.value[s].steer.axis.max_poserr_limit,e.value.steer.axis.vel=a.value[s].steer.axis.vel,e.value.steer.axis.acc_vel=a.value[s].steer.axis.acc_vel,e.value.steer.axis.ratio=a.value[s].steer.axis.ratio,e.value.steer.servo.canport_id=a.value[s].steer.servo.canport_id,e.value.steer.servo.canposunit_id=a.value[s].steer.servo.canposunit_id,e.value.steer.servo.canopenunit_id=a.value[s].steer.servo.canopenunit_id,e.value.steer.servo.can_id=a.value[s].steer.servo.can_id,e.value.wheel.servo_type=a.value[s].wheel.servo_type,e.value.use_steer=a.value[s].use_steer,e.value.steer.home_offset=a.value[s].steer.home_offset,e.value.steer.use_absolute_encoder=a.value[s].steer.use_absolute_encoder,e.value.steer.absolute_encoder_canport_id=a.value[s].steer.absolute_encoder_canport_id,e.value.steer.absolute_encoder_unit_id=a.value[s].steer.absolute_encoder_unit_id,e.value.steer.absolute_encoder_max=a.value[s].steer.absolute_encoder_max,e.value.steer.absolute_encoder_zero=a.value[s].steer.absolute_encoder_zero,e.value.steer.servo_type=a.value[s].steer.servo_type,e.value.steer.install_dir=a.value[s].steer.install_dir,e.value.steer.unclockwise_limit_switch=a.value[s].steer.unclockwise_limit_switch,e.value.steer.clockwise_limit_switch=a.value[s].steer.clockwise_limit_switch,e.value.steer.zero_limit_switch=a.value[s].steer.zero_limit_switch,O.value=e.value.wheel.servo_type,z.value=e.value.steer.servo_type,console.log(a),p.value=!0},S=()=>{if(e.value.name){if(e.value.editingIndex!==-1)a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir,T.value.Kinematic.drive=a,console.log(a);else{e.value.wheel.wheel_check.value!==void 0&&(e.value.wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(e.value.steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(e.value.steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(e.value.steer.zero_limit_switch=e.value.steer.zero_limit_switch.value);const s={...e.value};a.value.push(JSON.parse(JSON.stringify(s))),T.value.Kinematic.drive=a,console.log(a)}p.value=!1}else ke.error("请填写完整数据")},r=()=>{a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir,T.value.Kinematic.drive=a},C=s=>{a.value.splice(s,1)};return(s,d)=>{const h=re,k=pe,i=fe,$=j,m=be,A=xe,b=Q,M=W,E=me,X=_e;return U(),N("div",null,[l(i,{data:x(a),style:{width:"100%"}},{default:t(()=>[l(k,{prop:"name",label:"名称"},{default:t(I=>[l(h,{type:"text",onClick:n=>V(I.$index)},{default:t(()=>[v(J(x(a)[I.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),l(k,{label:"操作"},{default:t(I=>[l(h,{type:"danger",onClick:n=>C(I.$index)},{default:t(()=>[v("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Tl,l(h,{type:"primary",onClick:c},{default:t(()=>[v("添加驱动单元")]),_:1}),l(X,{title:jl,modelValue:p.value,"onUpdate:modelValue":d[9]||(d[9]=I=>p.value=I),visible:p.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[l(A,{ref:"form",model:e.value,"label-width":"80px"},{default:t(()=>[l(m,{label:"名称"},{default:t(()=>[l($,{modelValue:e.value.name,"onUpdate:modelValue":d[0]||(d[0]=I=>e.value.name=I),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l(A,{ref:"form",model:e.value,"label-width":"200px"},{default:t(()=>[El,l(m,{label:"车体坐标系坐标X(ms):"},{default:t(()=>[l($,{modelValue:e.value.install_x,"onUpdate:modelValue":d[1]||(d[1]=I=>e.value.install_x=I),modelModifiers:{number:!0},type:"number",onChange:s.AGVpos},null,8,["modelValue","onChange"])]),_:1}),l(m,{label:"车体坐标系坐标Y(ms):"},{default:t(()=>[l($,{modelValue:e.value.install_y,"onUpdate:modelValue":d[2]||(d[2]=I=>e.value.install_y=I),modelModifiers:{number:!0},type:"number",onChange:s.AGVpos},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model"]),Ol,zl,l(M,{modelValue:e.value.drive_type,"onUpdate:modelValue":d[3]||(d[3]=I=>e.value.drive_type=I),placeholder:"请选择"},{default:t(()=>[l(b,{label:"普通驱动类型",value:0}),l(b,{label:"差速驱动类型",value:1})]),_:1},8,["modelValue"]),Rl,l(E,{modelValue:e.value.use_wheel,"onUpdate:modelValue":d[4]||(d[4]=I=>e.value.use_wheel=I),onChange:_},{default:t(()=>[v("安装有驱动轮")]),_:1},8,["modelValue"]),v("      驱动伺服类型 "),l(M,{modelValue:e.value.wheel.servo_type,"onUpdate:modelValue":d[5]||(d[5]=I=>e.value.wheel.servo_type=I),placeholder:"请选择",disabled:!e.value.use_wheel,onChange:_},{default:t(()=>[l(b,{label:"普通MCU",value:0}),l(b,{label:"差速MCU",value:1}),l(b,{label:"Elmo伺服",value:2}),l(b,{label:"步科伺服",value:3}),l(b,{label:"Motec伺服",value:4}),l(b,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"]),Pl,l(E,{modelValue:e.value.use_steer,"onUpdate:modelValue":d[6]||(d[6]=I=>e.value.use_steer=I),onChange:y},{default:t(()=>[v("安装有转舵机构")]),_:1},8,["modelValue"]),v("      驱动伺服类型 "),l(M,{modelValue:e.value.steer.servo_type,"onUpdate:modelValue":d[7]||(d[7]=I=>e.value.steer.servo_type=I),placeholder:"请选择",disabled:!e.value.use_steer,onChange:y},{default:t(()=>[l(b,{label:"普通MCU",value:0}),l(b,{label:"差速MCU",value:1}),l(b,{label:"Elmo伺服",value:2}),l(b,{label:"步科伺服",value:3}),l(b,{label:"Motec伺服",value:4}),l(b,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"]),Kl,Bl,o("div",Fl,[e.value.use_wheel?(U(),N("div",Ll,[l(rl,{wheel:e.value.wheel,onChange:r},null,8,["wheel"])])):K("",!0),v("      "),e.value.use_steer?(U(),N("div",Dl,[l(Sl,{steer:e.value.steer,onChange:r},null,8,["steer"])])):K("",!0),Jl,ql]),o("div",Yl,[l(h,{onClick:d[8]||(d[8]=I=>p.value=!1)},{default:t(()=>[v("取 消")]),_:1}),l(h,{onClick:S},{default:t(()=>[v("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Xl=Z(Gl,[["__scopeId","data-v-836901ae"]]);const Ie=u=>(ee("data-v-f4ce40e6"),u=u(),le(),u),Hl=Ie(()=>o("br",null,null,-1)),Ql=Ie(()=>o("br",null,null,-1)),Wl={__name:"Kinematic",setup(u){const y=w(!0),_=w(!1),e=w(!1),p=w(!1),c=w(!1),V=()=>{H.value?(T.value.Kinematic.delay.need_delay_time=!0,T.value.Kinematic.delay.servoenable_delay_time=parseInt(se.value),T.value.Kinematic.delay.servospeed_delay_time=parseInt(ie.value)):(T.value.Kinematic.delay.need_delay_time=!1,T.value.Kinematic.delay.servoenable_delay_time=200,T.value.Kinematic.delay.servospeed_delay_time=200)};return ve(ge,()=>{switch(ge.value){case"1":y.value=!0,_.value=!1,e.value=!1,p.value=!1,c.value=!1,T.value.Kinematic.type=1;return;case"2":y.value=!1,_.value=!0,e.value=!1,p.value=!1,c.value=!1,T.value.Kinematic.type=2;return;case"3":y.value=!1,_.value=!1,e.value=!0,p.value=!1,c.value=!1,T.value.Kinematic.type=3;return;case"4":y.value=!1,_.value=!1,e.value=!1,p.value=!0,c.value=!1,T.value.Kinematic.type=4;return;case"5":y.value=!1,_.value=!1,e.value=!1,p.value=!1,c.value=!0,T.value.Kinematic.type=5;return}}),(r,C)=>{const s=me,d=j;return U(),N("div",null,[o("div",null,[l(s,{modelValue:x(H),"onUpdate:modelValue":C[0]||(C[0]=h=>he(H)?H.value=h:null),onChange:V},{default:t(()=>[v("轮或舵因伺服响应慢需要设置延时时间")]),_:1},8,["modelValue"]),Hl,v(" 使能前延时时间(ms):"),l(d,{modelValue:x(se),"onUpdate:modelValue":C[1]||(C[1]=h=>he(se)?se.value=h:null),disabled:!x(H),type:"number",style:{width:"10%"},onChange:V},null,8,["modelValue","disabled"]),v(" 给定前延时时间(ms):"),l(d,{modelValue:x(ie),"onUpdate:modelValue":C[2]||(C[2]=h=>he(ie)?ie.value=h:null),disabled:!x(H),type:"number",style:{width:"10%"},onChange:V},null,8,["modelValue","disabled"])]),Ql,o("div",null,[l(Xl)])])}}},Zl=Z(Wl,[["__scopeId","data-v-f4ce40e6"]]);const R=u=>(ee("data-v-248d26c9"),u=u(),le(),u),ea={class:"page-container main-view"},la={class:"table-box content-container page-content-box"},aa={class:"left"},ta=R(()=>o("hr",{class:"hengxian"},null,-1)),ua={class:"left"},oa=R(()=>o("h2",null,"⚠️ 驱动模型：",-1)),na=R(()=>o("hr",{class:"hengxian2"},null,-1)),sa=R(()=>o("h3",null,"⚠️ 运行参数",-1)),ia=R(()=>o("br",null,null,-1)),da=R(()=>o("br",null,null,-1)),va=R(()=>o("span",{class:"title"},"🔖 自动参数:",-1)),ra={key:0},_a={key:1},ma=R(()=>o("br",null,null,-1)),ca={key:0},ha=R(()=>o("br",null,null,-1)),wa=R(()=>o("span",{class:"title"},"🔖 手动参数:",-1)),pa={key:0},fa={key:1},ba=R(()=>o("br",null,null,-1)),xa={key:1},Va=R(()=>o("hr",{class:"hengxian3"},null,-1)),ga=R(()=>o("h3",null,"⚠️ 车体模型",-1)),ya={key:0},Ia={key:1},Ca=R(()=>o("br",null,null,-1)),ka={key:2},$a=R(()=>o("hr",{class:"hengxian2"},null,-1)),Ua=R(()=>o("hr",{class:"kongge"},null,-1)),Na={__name:"wheelmode",setup(u){const y=w(!1),_=()=>{y.value=!0},e=w(!1),p=w(!1),c=w(!1),V=w(!1),S=$e(()=>JSON.stringify(T.value,null,2)),r=()=>{V.value=!V.value},C=()=>{e.value=!0},s=()=>{p.value=!p.value},d=()=>{c.value=!c.value},h=()=>{router.push("/main/param/index")},k=()=>{router.push("/main/third")};return(i,$)=>{const m=re,A=_e;return U(),N("div",null,[o("div",ea,[o("div",la,[o("div",aa,[l(m,{type:"primary",onClick:_},{default:t(()=>[v(" 查看设备 ")]),_:1}),l(A,{modelValue:y.value,"onUpdate:modelValue":$[0]||($[0]=b=>y.value=b),title:"设备总览",visible:y.value,width:"900px",onClose:$[1]||($[1]=b=>y.value=!1)},{default:t(()=>[l(Ae)]),_:1},8,["modelValue","visible"]),v("   "),l(m,{type:"info",onClick:C,plain:""},{default:t(()=>[v(" 查看 ")]),_:1}),l(A,{modelValue:e.value,"onUpdate:modelValue":$[2]||($[2]=b=>e.value=b),title:"数据",visible:e.value,onClose:$[3]||($[3]=b=>e.value=!1)},{default:t(()=>[o("pre",null,J(S.value),1)]),_:1},8,["modelValue","visible"])]),ta,o("div",ua,[oa,v(" 配置车体驱动模型 "),na,sa,v(" 配置手动运行参数和自动运行参数: "),ia,da,va,l(m,{onClick:d,type:"text",plain:"",disabled:!1},{default:t(()=>[c.value?(U(),N("span",_a,"展开")):(U(),N("span",ra,"展开")),o("span",{class:we({"rotate-arrow":c.value})},"➡️",2)]),_:1}),ma,c.value?(U(),N("div",ca,[l(Te)])):K("",!0),ha,wa,l(m,{onClick:s,type:"text",plain:"",disabled:!1},{default:t(()=>[p.value?(U(),N("span",fa,"展开")):(U(),N("span",pa,"展开")),o("span",{class:we({"rotate-arrow":p.value})},"➡️",2)]),_:1}),ba,p.value?(U(),N("div",xa,[l(Se)])):K("",!0),Va,ga,v(" 配置车体类型和轮舵机械参数: "),l(m,{onClick:r,type:"text",plain:"",disabled:!1},{default:t(()=>[V.value?(U(),N("span",Ia,"展开")):(U(),N("span",ya,"展开")),o("span",{class:we({"rotate-arrow":V.value})},"➡️",2)]),_:1}),Ca,V.value?(U(),N("div",ka,[l(Zl)])):K("",!0)]),$a,l(m,{type:"primary",onClick:k},{default:t(()=>[v("下一步")]),_:1}),Ua,l(m,{type:"primary",onClick:h},{default:t(()=>[v("上一步")]),_:1})])])])}}},Ga=Z(Na,[["__scopeId","data-v-248d26c9"]]);export{Ga as default};
