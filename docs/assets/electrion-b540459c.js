import{_ as q,o as e,c as u,b as t,f as s,m as x,a as l,F as v,aY as g,e as i,g as R,bl as h,l as ae,E as K,p as Q,q as z,bc as le,aV as F,Q as me}from"./index-550ea9bd.js";import{E as re,a as _e,_ as ye}from"./check-25b331ad.js";import{E as ve}from"./el-dialog-4d95561f.js";import{j as a}from"./commondata-49b9a873.js";import{E as H}from"./el-card-8a56e089.js";import"./el-tag-7a02e152.js";import{E as W,a as Z}from"./el-select-6c648448.js";import"./el-scrollbar-6b91650a.js";import"./el-popper-de852bce.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 */import{_ as pe}from"./DefinScrollbar-533a10e8.js";import"./strings-f26e048a.js";import"./index-aed13df4.js";import"./isEqual-2626a56c.js";import"./Uint8Array-f996e882.js";import"./debounce-f2b10767.js";/* empty css                                                                       */const ne=f=>(Q("data-v-4f74f6f2"),f=f(),z(),f),ge={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},fe={class:"input-group"},be=ne(()=>l("label",null,"名称:",-1)),Ve={class:"button-values"},xe={class:"input-group"},we=ne(()=>l("label",null,"IO:",-1)),$e={key:0,class:"input-group"},Ue=ne(()=>l("label",null,"can路数:",-1)),ke={key:1,class:"input-group"},Ce={key:0},Se={key:1},Pe={class:"input-group"},Ie={key:0},Le={key:1},Ne=ne(()=>l("br",null,null,-1)),Oe={key:2},Ae={class:"input-group"},Be=ne(()=>l("label",null,"电平:",-1)),Re={__name:"index",setup(f){const A=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],P=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=()=>{a.value.SafetyLoop.Bumper.push({name:"请输入名称",io_input:[2,2,2,2,0]})},O=p=>{a.value.SafetyLoop.Bumper.splice(p,1)},M=p=>{[3,2,5].includes(a.value.SafetyLoop.Bumper[p].io_input[0])||(a.value.SafetyLoop.Bumper[p].io_input[1]=2),[1].includes(a.value.SafetyLoop.Bumper[p].io_input[0])||(a.value.SafetyLoop.Bumper[p].io_input[2]=2,a.value.SafetyLoop.Bumper[p].io_input[3]=2)},k=p=>[3,2,5].includes(a.value.SafetyLoop.Bumper[p].io_input[0]),$=p=>!L(p),L=p=>a.value.SafetyLoop.Bumper[p].io_input[0]===4,U=p=>a.value.SafetyLoop.Bumper[p].io_input[0]===1,_=p=>{const V=parseInt(a.value.SafetyLoop.Bumper[p].io_input[3],16);a.value.SafetyLoop.Bumper[p].io_input[3]=isNaN(V)?2:parseInt(a.value.SafetyLoop.Bumper[p].io_input[3],16)};return(p,V)=>{const w=ae,N=K,d=W,S=Z,b=H;return e(),u(v,null,[t(w,{type:"primary",onClick:Y,style:{"margin-left":"1vw"}},{default:s(()=>[x("添加卡片")]),_:1}),l("div",ge,[(e(!0),u(v,null,g(h(a).SafetyLoop.Bumper,(m,c)=>(e(),i(b,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("div",fe,[be,t(N,{modelValue:m.name,"onUpdate:modelValue":n=>m.name=n,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(w,{type:"danger",onClick:n=>O(c)},{default:s(()=>[x("删除")]),_:2},1032,["onClick"])]),l("div",Ve,[l("div",xe,[we,t(S,{modelValue:m.io_input[0],"onUpdate:modelValue":n=>m.io_input[0]=n,placeholder:"选择类型",onChange:n=>M(c),style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,n=>t(d,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),k(c)?(e(),u("div",$e,[Ue,t(S,{modelValue:m.io_input[1],"onUpdate:modelValue":n=>m.io_input[1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,n=>t(d,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),$(c)?(e(),u("div",ke,[U(c)?(e(),u("label",Ce,"本地IO地址:")):(e(),u("label",Se,"模块编号:")),U(c)?(e(),i(N,{key:2,modelValue:m.io_input[2],"onUpdate:modelValue":n=>m.io_input[2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(S,{key:3,modelValue:m.io_input[2],"onUpdate:modelValue":n=>m.io_input[2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(d,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",Pe,[U(c)?(e(),u("label",Ie,"输出点对应位:")):L(c)?(e(),u("label",Le,[x("输入点对应位:"),Ne,x("自动转化")])):(e(),u("label",Oe,"模块内输出点编号:")),U(c)?(e(),i(S,{key:3,modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(n,G)=>G),n=>(e(),i(d,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):L(c)?(e(),i(N,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,modelModifiers:{number:!0},onChange:n=>_(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(S,{key:5,modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(d,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Ae,[Be,t(S,{modelValue:m.io_input[4],"onUpdate:modelValue":n=>m.io_input[4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(d,{label:"高",value:1}),t(d,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},Me=q(Re,[["__scopeId","data-v-4f74f6f2"]]);const se=f=>(Q("data-v-e539376d"),f=f(),z(),f),De={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ee={class:"input-group"},Ge={class:"button-values"},Te={class:"input-group"},Xe=se(()=>l("label",null,"IO:",-1)),Ye={key:0,class:"input-group"},je=se(()=>l("label",null,"can路数:",-1)),Fe={key:1,class:"input-group"},Je={key:0},qe={key:1},Ke={class:"input-group"},Qe={key:0},ze={key:1},He=se(()=>l("br",null,null,-1)),We={key:2},Ze={class:"input-group"},el=se(()=>l("label",null,"电平:",-1)),ll={__name:"index",setup(f){const A=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],P=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=()=>{[3,2,5].includes(a.value.SafetyLoop.PowerRelay.io_input[0])||(a.value.SafetyLoop.PowerRelay.io_input[1]=2),[1].includes(a.value.SafetyLoop.PowerRelay.io_input[0])||(a.value.SafetyLoop.PowerRelay.io_input[2]=2,a.value.SafetyLoop.PowerRelay.io_input[3]=2)},O=()=>[3,2,5].includes(a.value.SafetyLoop.PowerRelay.io_input[0]),M=()=>!k(),k=()=>a.value.SafetyLoop.PowerRelay.io_input[0]===4,$=()=>a.value.SafetyLoop.PowerRelay.io_input[0]===1,L=()=>{const U=parseInt(a.value.SafetyLoop.PowerRelay.io_input[3],16);a.value.SafetyLoop.PowerRelay.io_input[3]=isNaN(U)?2:parseInt(a.value.SafetyLoop.PowerRelay.io_input[3],16)};return(U,_)=>{const p=W,V=Z,w=K,N=H;return e(),u("div",De,[t(N,{class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("div",Ee,[l("strong",null,le(h(a).SafetyLoop.PowerRelay.name),1)]),l("div",Ge,[l("div",Te,[Xe,t(V,{modelValue:h(a).SafetyLoop.PowerRelay.io_input[0],"onUpdate:modelValue":_[0]||(_[0]=d=>h(a).SafetyLoop.PowerRelay.io_input[0]=d),placeholder:"选择类型",onChange:Y,style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,d=>t(p,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),O()?(e(),u("div",Ye,[je,t(V,{modelValue:h(a).SafetyLoop.PowerRelay.io_input[1],"onUpdate:modelValue":_[1]||(_[1]=d=>h(a).SafetyLoop.PowerRelay.io_input[1]=d),placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,d=>t(p,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])):R("",!0),M()?(e(),u("div",Fe,[$()?(e(),u("label",Je,"本地IO地址:")):(e(),u("label",qe,"模块编号:")),$()?(e(),i(w,{key:2,modelValue:h(a).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":_[2]||(_[2]=d=>h(a).SafetyLoop.PowerRelay.io_input[2]=d),modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])):(e(),i(V,{key:3,modelValue:h(a).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":_[3]||(_[3]=d=>h(a).SafetyLoop.PowerRelay.io_input[2]=d),placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(d,S)=>S+1),d=>(e(),i(p,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))])):R("",!0),l("div",Ke,[$()?(e(),u("label",Qe,"输出点对应位:")):k()?(e(),u("label",ze,[x("输入点对应位:"),He,x("自动转化")])):(e(),u("label",We,"模块内输出点编号:")),$()?(e(),i(V,{key:3,modelValue:h(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[4]||(_[4]=d=>h(a).SafetyLoop.PowerRelay.io_input[3]=d),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(d,S)=>S+1),d=>(e(),i(p,{key:d,label:"bit"+d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):k()?(e(),i(w,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:h(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[5]||(_[5]=d=>h(a).SafetyLoop.PowerRelay.io_input[3]=d),modelModifiers:{number:!0},onChange:L},null,8,["modelValue"])):(e(),i(V,{key:5,modelValue:h(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[6]||(_[6]=d=>h(a).SafetyLoop.PowerRelay.io_input[3]=d),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(d,S)=>S+1),d=>(e(),i(p,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]),l("div",Ze,[el,t(V,{modelValue:h(a).SafetyLoop.PowerRelay.io_input[4],"onUpdate:modelValue":_[7]||(_[7]=d=>h(a).SafetyLoop.PowerRelay.io_input[4]=d),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(p,{label:"高",value:1}),t(p,{label:"低",value:0})]),_:1},8,["modelValue"])])])]),_:1})])}}},tl=q(ll,[["__scopeId","data-v-e539376d"]]);const te=f=>(Q("data-v-9978827b"),f=f(),z(),f),ol={style:{display:"flex",gap:"20px","flex-wrap":"nowrap"}},al={class:"button-values"},nl={class:"input-group"},ul=te(()=>l("label",null,"IO:",-1)),dl={key:0,class:"input-group"},sl=te(()=>l("label",null,"can路数:",-1)),il={key:1,class:"input-group"},pl={key:0},rl={key:1},_l={class:"input-group"},cl={key:0},hl={key:1},ml=te(()=>l("br",null,null,-1)),yl={key:2},vl={class:"input-group"},gl=te(()=>l("label",null,"电平:",-1)),fl={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},bl=te(()=>l("h4",null,"类型",-1)),Vl=te(()=>l("h4",null,"Modbus 类型",-1)),xl={__name:"index",setup(f){const A=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],P=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=_=>{switch(_){case"startBtn":return"启动按钮";case"manualSwt":return"手动";case"autoSwt":return"自动";case"stopBtn":return"抱闸";default:return _}},O=_=>{console.log("1111",_);const p=parseInt(a.value.Panel.Button[_][3],16);a.value.Panel.Button[_][3]=isNaN(p)?2:parseInt(a.value.Panel.Button[_][3],16)},M=_=>{[1,2,4].includes(a.value.Panel.Button[_][0])||(a.value.Panel.Button[_][1]=2),[3].includes(a.value.Panel.Button[_][0])||(a.value.Panel.Button[_][2]=2,a.value.Panel.Button[_][3]=2)},k=_=>[3,2,5].includes(a.value.Panel.Button[_][0]),$=_=>!L(_),L=_=>a.value.Panel.Button[_][0]===4,U=_=>a.value.Panel.Button[_][0]===1;return(_,p)=>{const V=W,w=Z,N=K,d=H,S=re,b=_e;return e(),i(b,null,{default:s(()=>[t(S,{label:"开关设置"},{default:s(()=>[l("div",ol,[(e(!0),u(v,null,g(h(a).Panel.Button,(m,c)=>(e(),i(d,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("h4",null,le(Y(c)),1),l("div",al,[l("div",nl,[ul,t(w,{modelValue:h(a).Panel.Button[c][0],"onUpdate:modelValue":n=>h(a).Panel.Button[c][0]=n,placeholder:"选择类型",onChange:n=>M(c),style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,n=>t(V,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),k(c)?(e(),u("div",dl,[sl,t(w,{modelValue:h(a).Panel.Button[c][1],"onUpdate:modelValue":n=>h(a).Panel.Button[c][1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,n=>t(V,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),$(c)?(e(),u("div",il,[U(c)?(e(),u("label",pl,"本地IO地址:")):(e(),u("label",rl,"模块编号:")),U(c)?(e(),i(N,{key:2,modelValue:h(a).Panel.Button[c][2],"onUpdate:modelValue":n=>h(a).Panel.Button[c][2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(w,{key:3,modelValue:h(a).Panel.Button[c][2],"onUpdate:modelValue":n=>h(a).Panel.Button[c][2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(V,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",_l,[U(c)?(e(),u("label",cl,"输出点对应位:")):L(c)?(e(),u("label",hl,[x("输入点对应位:"),ml,x("自动转化")])):(e(),u("label",yl,"模块内输出点编号:")),U(c)?(e(),i(w,{key:3,modelValue:h(a).Panel.Button[c][3],"onUpdate:modelValue":n=>h(a).Panel.Button[c][3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(n,G)=>G),n=>(e(),i(V,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):L(c)?(e(),i(N,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:h(a).Panel.Button[c][3],"onUpdate:modelValue":n=>h(a).Panel.Button[c][3]=n,modelModifiers:{number:!0},onChange:n=>O(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(w,{key:5,modelValue:h(a).Panel.Button[c][3],"onUpdate:modelValue":n=>h(a).Panel.Button[c][3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(V,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",vl,[gl,t(w,{modelValue:h(a).Panel.Button[c][4],"onUpdate:modelValue":n=>h(a).Panel.Button[c][4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(V,{label:"高",value:1}),t(V,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])]),_:1}),t(S,{label:"屏幕"},{default:s(()=>[l("div",fl,[t(d,{"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[bl,t(w,{modelValue:h(a).Panel.Display.type,"onUpdate:modelValue":p[0]||(p[0]=m=>h(a).Panel.Display.type=m),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(V,{label:"无屏幕",value:0}),t(V,{label:"modus屏幕",value:1}),t(V,{label:"数码管",value:2})]),_:1},8,["modelValue"])]),_:1}),h(a).Panel.Display.type===1?(e(),i(d,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[Vl,t(w,{modelValue:h(a).Panel.Display.modbus.type,"onUpdate:modelValue":p[1]||(p[1]=m=>h(a).Panel.Display.modbus.type=m),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(V,{label:"网口屏幕",value:"TCP"}),t(V,{label:"串口屏幕",value:"RTU"})]),_:1},8,["modelValue"])]),_:1})):R("",!0)])]),_:1})]),_:1})}}},wl=q(xl,[["__scopeId","data-v-9978827b"]]);F(!1);F({name:"",value:[1,1,1,1,1,1],editingIndex:-1});F(!1);F({name:"",value:[1,1,1,1,1,1],editingIndex:-1});const ue=f=>(Q("data-v-ab148fb7"),f=f(),z(),f),$l={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ul={class:"input-group"},kl=ue(()=>l("label",null,"名称:",-1)),Cl={class:"button-values"},Sl={class:"input-group"},Pl=ue(()=>l("label",null,"IO:",-1)),Il={key:0,class:"input-group"},Ll=ue(()=>l("label",null,"can路数:",-1)),Nl={key:1,class:"input-group"},Ol={key:0},Al={key:1},Bl={class:"input-group"},Rl={key:0},Ml={key:1},Dl=ue(()=>l("br",null,null,-1)),El={key:2},Gl={class:"input-group"},Tl=ue(()=>l("label",null,"电平:",-1)),Xl={__name:"index",setup(f){const A=[{label:"CAN-POS",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],P=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=()=>{a.value.SafetyLoop.Emg.push({name:"请输入名称",io_input:[2,2,2,2,0]})},O=p=>{a.value.SafetyLoop.Emg.splice(p,1)},M=p=>{[3,2,5].includes(a.value.SafetyLoop.Emg[p].io_input[0])||(a.value.SafetyLoop.Emg[p].io_input[1]=2),[1].includes(a.value.SafetyLoop.Emg[p].io_input[0])||(a.value.SafetyLoop.Emg[p].io_input[2]=2,a.value.SafetyLoop.Emg[p].io_input[3]=2)},k=p=>[3,2,5].includes(a.value.SafetyLoop.Emg[p].io_input[0]),$=p=>!L(p),L=p=>a.value.SafetyLoop.Emg[p].io_input[0]===4,U=p=>a.value.SafetyLoop.Emg[p].io_input[0]===1,_=p=>{const V=parseInt(a.value.SafetyLoop.Emg[p].io_input[3],16);a.value.SafetyLoop.Emg[p].io_input[3]=isNaN(V)?2:parseInt(a.value.SafetyLoop.Emg[p].io_input[3],16)};return(p,V)=>{const w=ae,N=K,d=W,S=Z,b=H;return e(),u(v,null,[t(w,{type:"primary",onClick:Y,style:{"margin-left":"1vw"}},{default:s(()=>[x("添加卡片")]),_:1}),l("div",$l,[(e(!0),u(v,null,g(h(a).SafetyLoop.Emg,(m,c)=>(e(),i(b,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("div",Ul,[kl,t(N,{modelValue:m.name,"onUpdate:modelValue":n=>m.name=n,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(w,{type:"danger",onClick:n=>O(c)},{default:s(()=>[x("删除")]),_:2},1032,["onClick"])]),l("div",Cl,[l("div",Sl,[Pl,t(S,{modelValue:m.io_input[0],"onUpdate:modelValue":n=>m.io_input[0]=n,placeholder:"选择类型",onChange:n=>M(c),style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,n=>t(d,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),k(c)?(e(),u("div",Il,[Ll,t(S,{modelValue:m.io_input[1],"onUpdate:modelValue":n=>m.io_input[1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,n=>t(d,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),$(c)?(e(),u("div",Nl,[U(c)?(e(),u("label",Ol,"本地IO地址:")):(e(),u("label",Al,"模块编号:")),U(c)?(e(),i(N,{key:2,modelValue:m.io_input[2],"onUpdate:modelValue":n=>m.io_input[2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(S,{key:3,modelValue:m.io_input[2],"onUpdate:modelValue":n=>m.io_input[2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(d,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",Bl,[U(c)?(e(),u("label",Rl,"输出点对应位:")):L(c)?(e(),u("label",Ml,[x("输入点对应位:"),Dl,x("自动转化")])):(e(),u("label",El,"模块内输出点编号:")),U(c)?(e(),i(S,{key:3,modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(n,G)=>G),n=>(e(),i(d,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):L(c)?(e(),i(N,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,modelModifiers:{number:!0},onChange:n=>_(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(S,{key:5,modelValue:m.io_input[3],"onUpdate:modelValue":n=>m.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(n,G)=>G),n=>(e(),i(d,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Gl,[Tl,t(S,{modelValue:m.io_input[4],"onUpdate:modelValue":n=>m.io_input[4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(d,{label:"高",value:1}),t(d,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},Yl=q(Xl,[["__scopeId","data-v-ab148fb7"]]);const jl={class:"flex-container"},Fl={class:"battery-info"},Jl={__name:"Better",setup(f){const A=P=>{switch(P){case"normal_percent":return"正常电量";case"low_percent":return"低电量";case"lower_percent":return"较低电量";default:return P}};return(P,Y)=>{const O=K,M=H;return e(),u("div",jl,[(e(!0),u(v,null,g(h(a).Battery,(k,$)=>(e(),i(M,{class:"battery-card",key:$},{default:s(()=>[l("h3",null,le(A($)),1),l("div",Fl,[t(O,{modelValue:h(a).Battery[$],"onUpdate:modelValue":L=>h(a).Battery[$]=L,modelModifiers:{number:!0},min:0,max:100,type:"number",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),l("p",null,le(h(a).Battery[$])+"%",1)])]),_:2},1024))),128))])}}},ql=q(Jl,[["__scopeId","data-v-7c3dfd76"]]);const E=f=>(Q("data-v-712a4b28"),f=f(),z(),f),Kl={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ql={class:"input-group"},zl=E(()=>l("label",null,"名称:",-1)),Hl={class:"input-group"},Wl=E(()=>l("label",null,"类型:",-1)),Zl={key:0},et={class:"input-group"},lt=E(()=>l("label",null,"IO类型:",-1)),tt={style:{display:"flex","flex-wrap":"wrap",gap:"10px","margin-top":"10px"}},ot={style:{display:"flex",gap:"20px","flex-wrap":"nowrap","margin-top":"2%"}},at=E(()=>l("strong",null,"近:",-1)),nt={class:"button-values"},ut={class:"input-group"},dt=E(()=>l("label",null,"IO:",-1)),st={key:0,class:"input-group"},it=E(()=>l("label",null,"can路数:",-1)),pt={key:1,class:"input-group"},rt={key:0},_t={key:1},ct={class:"input-group"},ht={key:0},mt={key:1},yt=E(()=>l("br",null,null,-1)),vt={key:2},gt={class:"input-group"},ft=E(()=>l("label",null,"电平:",-1)),bt=E(()=>l("strong",null,"中:",-1)),Vt={class:"button-values"},xt={class:"input-group"},wt=E(()=>l("label",null,"IO:",-1)),$t={key:0,class:"input-group"},Ut=E(()=>l("label",null,"can路数:",-1)),kt={key:1,class:"input-group"},Ct={key:0},St={key:1},Pt={class:"input-group"},It={key:0},Lt={key:1},Nt=E(()=>l("br",null,null,-1)),Ot={key:2},At={class:"input-group"},Bt=E(()=>l("label",null,"电平:",-1)),Rt=E(()=>l("strong",null,"远:",-1)),Mt={class:"button-values"},Dt={class:"input-group"},Et=E(()=>l("label",null,"IO:",-1)),Gt={key:0,class:"input-group"},Tt=E(()=>l("label",null,"can路数:",-1)),Xt={key:1,class:"input-group"},Yt={key:0},jt={key:1},Ft={class:"input-group"},Jt={key:0},qt={key:1},Kt=E(()=>l("br",null,null,-1)),Qt={key:2},zt={class:"input-group"},Ht=E(()=>l("label",null,"电平:",-1)),Wt={key:1},Zt={class:"input-group"},eo=E(()=>l("label",null,"IP地址:",-1)),lo={class:"input-group"},to=E(()=>l("label",null,"端口:",-1)),oo={__name:"index",setup(f){const A=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],P=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=()=>{a.value.SafetyLoop.Pls.push({name:"请输入名称",type:0,config:{io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}})},O=y=>{a.value.SafetyLoop.Pls.splice(y,1)},M=y=>{const X=a.value.SafetyLoop.Pls[y];X.type===0?X.config={io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}:X.type===1&&(X.config.net={ip:"192.168.3.101",port:8002},X.config.io={type:0,area:[],near:[0,0,0,0,0],center:[0,0,0,0,0],far:[0,0,0,0,0]})},k=y=>{a.value.SafetyLoop.Pls[y].config.io.area.push({area_output:[0,0,0,0,0]})},$=(y,X)=>{a.value.SafetyLoop.Pls[y].config.io.area.splice(X,1)},L=y=>[3,2,5].includes(a.value.SafetyLoop.Pls[y].config.io.near[0]),U=y=>[3,2,5].includes(a.value.SafetyLoop.Pls[y].config.io.center[0]),_=y=>[3,2,5].includes(a.value.SafetyLoop.Pls[y].config.io.far[0]),p=y=>!V(y),V=y=>a.value.SafetyLoop.Pls[y].config.io.near[0]===4,w=y=>!N(y),N=y=>a.value.SafetyLoop.Pls[y].config.io.center[0]===4,d=y=>!S(y),S=y=>a.value.SafetyLoop.Pls[y].config.io.far[0]===4,b=y=>a.value.SafetyLoop.Pls[y].config.io.near[0]===1,m=y=>a.value.SafetyLoop.Pls[y].config.io.center[0]===1,c=y=>a.value.SafetyLoop.Pls[y].config.io.far[0]===1,n=y=>{y.area_output=y.area_output.split(",").map(X=>Number(X.trim())).filter(X=>!isNaN(X))},G=y=>{const X=parseInt(a.value.SafetyLoop.Pls[y].config.io.near[3],16);a.value.SafetyLoop.Pls[y].config.io.near[3]=isNaN(X)?2:parseInt(a.value.SafetyLoop.Pls[y].config.io.near[3],16)},ce=y=>{const X=parseInt(a.value.SafetyLoop.Pls[y].config.io.center[3],16);a.value.SafetyLoop.Pls[y].config.io.center[3]=isNaN(X)?2:parseInt(a.value.SafetyLoop.Pls[y].config.io.center[3],16)},he=y=>{const X=parseInt(a.value.SafetyLoop.Pls[y].config.io.far[3],16);a.value.SafetyLoop.Pls[y].config.io.far[3]=isNaN(X)?2:parseInt(a.value.SafetyLoop.Pls[y].config.io.far[3],16)};return(y,X)=>{const de=ae,J=K,I=W,D=Z,ee=H;return e(),u(v,null,[t(de,{type:"primary",onClick:Y,style:{"margin-left":"1vw"}},{default:s(()=>[x("添加卡片")]),_:1}),l("div",Kl,[(e(!0),u(v,null,g(h(a).SafetyLoop.Pls,(r,C)=>(e(),i(ee,{key:C,class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("div",Ql,[zl,t(J,{modelValue:r.name,"onUpdate:modelValue":o=>r.name=o,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(de,{type:"danger",onClick:o=>O(C)},{default:s(()=>[x("删除")]),_:2},1032,["onClick"])]),l("div",Hl,[Wl,t(D,{modelValue:r.type,"onUpdate:modelValue":o=>r.type=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"},onChange:o=>M(C)},{default:s(()=>[t(I,{label:"IO",value:0}),t(I,{label:"网口",value:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),r.type===0?(e(),u("div",Zl,[l("div",et,[lt,t(D,{modelValue:r.config.io.type,"onUpdate:modelValue":o=>r.config.io.type=o,placeholder:"选择IO类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(I,{label:"正常类型",value:1}),t(I,{label:"互斥类型",value:2}),t(I,{label:"单点切区",value:3}),t(I,{label:"多点切区",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t(ee,null,{default:s(()=>[t(de,{type:"success",onClick:o=>k(C),style:{"margin-top":"10px"}},{default:s(()=>[x("添加切区")]),_:2},1032,["onClick"]),l("div",tt,[(e(!0),u(v,null,g(r.config.io.area,(o,B)=>(e(),u("div",{key:B,class:"input-group"},[t(ee,{style:{flex:"1","min-width":"150px",padding:"10px"}},{default:s(()=>[l("label",null,"切区 "+le(B+1)+":",1),t(J,{modelValue:o.area_output,"onUpdate:modelValue":ie=>o.area_output=ie,onInput:ie=>n(o),placeholder:"输入区域输出",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue","onInput"]),t(de,{type:"danger",onClick:ie=>$(C,B)},{default:s(()=>[x("删除")]),_:2},1032,["onClick"])]),_:2},1024)]))),128))])]),_:2},1024),l("div",ot,[t(ee,{class:"plscard"},{default:s(()=>[at,l("div",nt,[l("div",ut,[dt,t(D,{modelValue:r.config.io.near[0],"onUpdate:modelValue":o=>r.config.io.near[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),L(C)?(e(),u("div",st,[it,t(D,{modelValue:r.config.io.near[1],"onUpdate:modelValue":o=>r.config.io.near[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),p(C)?(e(),u("div",pt,[b(C)?(e(),u("label",rt,"本地IO地址:")):(e(),u("label",_t,"模块编号:")),b(C)?(e(),i(J,{key:2,modelValue:r.config.io.near[2],"onUpdate:modelValue":o=>r.config.io.near[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(D,{key:3,modelValue:r.config.io.near[2],"onUpdate:modelValue":o=>r.config.io.near[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",ct,[b(C)?(e(),u("label",ht,"输出点对应位:")):V(C)?(e(),u("label",mt,[x("输入点对应位:"),yt,x("自动转化")])):(e(),u("label",vt,"模块内输出点编号:")),b(C)?(e(),i(D,{key:3,modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(o,B)=>B),o=>(e(),i(I,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):V(C)?(e(),i(J,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,modelModifiers:{number:!0},onChange:o=>G(C)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(D,{key:5,modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",gt,[ft,t(D,{modelValue:r.config.io.near[4],"onUpdate:modelValue":o=>r.config.io.near[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(I,{label:"高",value:1}),t(I,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),t(ee,{class:"plscard"},{default:s(()=>[bt,l("div",Vt,[l("div",xt,[wt,t(D,{modelValue:r.config.io.center[0],"onUpdate:modelValue":o=>r.config.io.center[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),U(C)?(e(),u("div",$t,[Ut,t(D,{modelValue:r.config.io.center[1],"onUpdate:modelValue":o=>r.config.io.center[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),w(C)?(e(),u("div",kt,[m(C)?(e(),u("label",Ct,"本地IO地址:")):(e(),u("label",St,"模块编号:")),m(C)?(e(),i(J,{key:2,modelValue:r.config.io.center[2],"onUpdate:modelValue":o=>r.config.io.center[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(D,{key:3,modelValue:r.config.io.center[2],"onUpdate:modelValue":o=>r.config.io.center[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",Pt,[m(C)?(e(),u("label",It,"输出点对应位:")):N(C)?(e(),u("label",Lt,[x("输入点对应位:"),Nt,x("自动转化")])):(e(),u("label",Ot,"模块内输出点编号:")),m(C)?(e(),i(D,{key:3,modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(o,B)=>B),o=>(e(),i(I,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):N(C)?(e(),i(J,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,modelModifiers:{number:!0},onChange:o=>ce(C)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(D,{key:5,modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",At,[Bt,t(D,{modelValue:r.config.io.center[4],"onUpdate:modelValue":o=>r.config.io.center[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(I,{label:"高",value:1}),t(I,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),t(ee,{class:"plscard"},{default:s(()=>[Rt,l("div",Mt,[l("div",Dt,[Et,t(D,{modelValue:r.config.io.far[0],"onUpdate:modelValue":o=>r.config.io.far[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(A,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_(C)?(e(),u("div",Gt,[Tt,t(D,{modelValue:r.config.io.far[1],"onUpdate:modelValue":o=>r.config.io.far[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(),u(v,null,g(P,o=>t(I,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):R("",!0),d(C)?(e(),u("div",Xt,[c(C)?(e(),u("label",Yt,"本地IO地址:")):(e(),u("label",jt,"模块编号:")),c(C)?(e(),i(J,{key:2,modelValue:r.config.io.far[2],"onUpdate:modelValue":o=>r.config.io.far[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(D,{key:3,modelValue:r.config.io.far[2],"onUpdate:modelValue":o=>r.config.io.far[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):R("",!0),l("div",Ft,[c(C)?(e(),u("label",Jt,"输出点对应位:")):S(C)?(e(),u("label",qt,[x("输入点对应位:"),Kt,x("自动转化")])):(e(),u("label",Qt,"模块内输出点编号:")),c(C)?(e(),i(D,{key:3,modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:10},(o,B)=>B),o=>(e(),i(I,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):S(C)?(e(),i(J,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,modelModifiers:{number:!0},onChange:o=>he(C)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(D,{key:5,modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[(e(!0),u(v,null,g(Array.from({length:100},(o,B)=>B),o=>(e(),i(I,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",zt,[Ht,t(D,{modelValue:r.config.io.far[4],"onUpdate:modelValue":o=>r.config.io.far[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:s(()=>[t(I,{label:"高",value:1}),t(I,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)])])):r.type===1?(e(),u("div",Wt,[l("div",Zt,[eo,t(J,{modelValue:r.config.net.ip,"onUpdate:modelValue":o=>r.config.net.ip=o,placeholder:"输入IP地址",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",lo,[to,t(J,{modelValue:r.config.net.port,"onUpdate:modelValue":o=>r.config.net.port=o,modelModifiers:{number:!0},placeholder:"输入端口",type:"number",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])])):R("",!0)]),_:2},1024))),128))])],64)}}},ao=q(oo,[["__scopeId","data-v-712a4b28"]]);const oe=f=>(Q("data-v-c5ed1898"),f=f(),z(),f),no={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},uo=oe(()=>l("h4",null,"手控盒类型",-1)),so=oe(()=>l("h4",null,"无线",-1)),io=oe(()=>l("br",null,null,-1)),po=oe(()=>l("br",null,null,-1)),ro=oe(()=>l("h4",null,"串口",-1)),_o=oe(()=>l("h4",null,"网口",-1)),co={__name:"index",setup(f){return(A,P)=>{const Y=W,O=Z,M=H,k=K;return e(),u("div",no,[t(M,{"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[uo,t(O,{modelValue:h(a).ManCtrlDevice.type,"onUpdate:modelValue":P[0]||(P[0]=$=>h(a).ManCtrlDevice.type=$),placeholder:"",style:{"margin-right":"10px",width:"10vw"}},{default:s(()=>[t(Y,{label:"com手控盒",value:1}),t(Y,{label:"can手控盒",value:2})]),_:1},8,["modelValue"])]),_:1}),t(M,{"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[so,io,x(" ip: "),t(k,{modelValue:h(a).ManCtrlDevice.remoteDevice.ip,"onUpdate:modelValue":P[1]||(P[1]=$=>h(a).ManCtrlDevice.remoteDevice.ip=$),placeholder:"",type:"string",style:{width:"15vw"}},null,8,["modelValue"]),po,x(" 端口: "),t(k,{modelValue:h(a).ManCtrlDevice.remoteDevice.port,"onUpdate:modelValue":P[2]||(P[2]=$=>h(a).ManCtrlDevice.remoteDevice.port=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{width:"15vw"}},null,8,["modelValue"])]),_:1}),h(a).ManCtrlDevice.type===1?(e(),i(M,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[ro,t(k,{modelValue:h(a).ManCtrlDevice.com.com_id,"onUpdate:modelValue":P[3]||(P[3]=$=>h(a).ManCtrlDevice.com.com_id=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):R("",!0),h(a).ManCtrlDevice.type===2?(e(),i(M,{key:1,"body-style":{padding:"20px"},class:"button-card"},{default:s(()=>[_o,t(k,{modelValue:h(a).ManCtrlDevice.can.can_id,"onUpdate:modelValue":P[4]||(P[4]=$=>h(a).ManCtrlDevice.can.can_id=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):R("",!0)])}}},ho=q(co,[["__scopeId","data-v-c5ed1898"]]);const j=f=>(Q("data-v-969e3c1f"),f=f(),z(),f),mo={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},yo={class:"input-group"},vo=j(()=>l("label",null,"名称:",-1)),go={class:"input-group"},fo=j(()=>l("label",null,"类型:",-1)),bo={key:0},Vo=j(()=>l("h4",null,"传感器配置:",-1)),xo={class:"input-group"},wo=j(()=>l("label",null,"X 限制:",-1)),$o={class:"input-group"},Uo=j(()=>l("label",null,"角度限制:",-1)),ko={class:"input-group"},Co=j(()=>l("label",null,"死算距离:",-1)),So={class:"input-group"},Po=j(()=>l("label",null,"高级死算距离:",-1)),Io={class:"input-group"},Lo=j(()=>l("label",null,"传感器类型:",-1)),No={class:"input-group"},Oo=j(()=>l("label",null,"方向:",-1)),Ao={class:"input-group"},Bo=j(()=>l("label",null,"分辨率:",-1)),Ro={class:"input-group"},Mo=j(()=>l("label",null,"CAN 端口 ID:",-1)),Do={class:"input-group"},Eo=j(()=>l("label",null,"单元 ID:",-1)),Go={class:"input-group"},To=j(()=>l("label",null,"X 安装位置:",-1)),Xo={class:"input-group"},Yo=j(()=>l("label",null,"Y 安装位置:",-1)),jo={class:"input-group"},Fo=j(()=>l("label",null,"X 安装位置:",-1)),Jo={class:"input-group"},qo=j(()=>l("label",null,"Y 安装位置:",-1)),Ko={__name:"index",setup(f){const A=()=>{a.value.NavSys.push({name:"请输入名称",type:1,sensor:[{x_limit:.1,thita_limit:.174,deadReckoningDist:.3,highLevel_deadReckoningDist:.1}]})},P=k=>{a.value.NavSys.splice(k,1)},Y=k=>{const $=a.value.NavSys[k].type===1?{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}:{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0};a.value.NavSys[k].sensor.push($)},O=(k,$)=>{a.value.NavSys[k].sensor.splice($,1)},M=k=>{k.type===1?k.sensor=[{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}]:k.type===2?k.sensor=[{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0}]:k.sensor=[{x_install:0,y_install:0}]};return(k,$)=>{const L=ae,U=K,_=W,p=Z,V=H;return e(),u(v,null,[t(L,{type:"primary",onClick:A,style:{"margin-left":"1vw"}},{default:s(()=>[x("添加卡片")]),_:1}),l("div",mo,[(e(!0),u(v,null,g(h(a).NavSys,(w,N)=>(e(),i(V,{key:N,class:"button-card","body-style":{padding:"20px"}},{default:s(()=>[l("div",yo,[vo,t(U,{modelValue:w.name,"onUpdate:modelValue":d=>w.name=d,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(L,{type:"danger",onClick:d=>P(N)},{default:s(()=>[x("删除")]),_:2},1032,["onClick"])]),l("div",go,[fo,t(p,{modelValue:w.type,"onUpdate:modelValue":d=>w.type=d,onChange:d=>M(w),placeholder:"选择类型",style:{width:"150px","margin-right":"10px"}},{default:s(()=>[t(_,{label:"轮廓导航",value:1}),t(_,{label:"磁导航",value:2}),t(_,{label:"惯性导航",value:3}),t(_,{label:"二维码导航",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),w.sensor?(e(),u("div",bo,[Vo,(e(!0),u(v,null,g(w.sensor,(d,S)=>(e(),u("div",{key:S,class:"sensor-group"},[w.type===1?(e(),i(V,{key:0},{default:s(()=>[l("div",xo,[wo,t(U,{modelValue:d.x_limit,"onUpdate:modelValue":b=>d.x_limit=b,placeholder:"输入 X 限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",$o,[Uo,t(U,{modelValue:d.thita_limit,"onUpdate:modelValue":b=>d.thita_limit=b,placeholder:"输入角度限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ko,[Co,t(U,{modelValue:d.deadReckoningDist,"onUpdate:modelValue":b=>d.deadReckoningDist=b,placeholder:"输入死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",So,[Po,t(U,{modelValue:d.highLevel_deadReckoningDist,"onUpdate:modelValue":b=>d.highLevel_deadReckoningDist=b,placeholder:"输入高级死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(L,{type:"danger",onClick:b=>O(N,S)},{default:s(()=>[x("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):w.type===2?(e(),i(V,{key:1},{default:s(()=>[l("div",Io,[Lo,t(U,{modelValue:d.type,"onUpdate:modelValue":b=>d.type=b,placeholder:"输入传感器类型",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",No,[Oo,t(U,{modelValue:d.dir,"onUpdate:modelValue":b=>d.dir=b,placeholder:"输入方向",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Ao,[Bo,t(U,{modelValue:d.resolution,"onUpdate:modelValue":b=>d.resolution=b,placeholder:"输入分辨率",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Ro,[Mo,t(U,{modelValue:d.canport_id,"onUpdate:modelValue":b=>d.canport_id=b,placeholder:"输入 CAN 端口 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Do,[Eo,t(U,{modelValue:d.unit_id,"onUpdate:modelValue":b=>d.unit_id=b,placeholder:"输入单元 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Go,[To,t(U,{modelValue:d.x_install,"onUpdate:modelValue":b=>d.x_install=b,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Xo,[Yo,t(U,{modelValue:d.y_install,"onUpdate:modelValue":b=>d.y_install=b,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(L,{type:"danger",onClick:b=>O(N,S)},{default:s(()=>[x("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):w.type===3||w.type===4?(e(),i(V,{key:2},{default:s(()=>[l("div",jo,[Fo,t(U,{modelValue:d.x_install,"onUpdate:modelValue":b=>d.x_install=b,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Jo,[qo,t(U,{modelValue:d.y_install,"onUpdate:modelValue":b=>d.y_install=b,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(L,{type:"danger",onClick:b=>O(N,S)},{default:s(()=>[x("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):R("",!0)]))),128)),t(L,{type:"success",onClick:d=>Y(N)},{default:s(()=>[x("添加传感器")]),_:2},1032,["onClick"])])):R("",!0)]),_:2},1024))),128))])],64)}}},Qo=q(Ko,[["__scopeId","data-v-969e3c1f"]]);F(!0);F({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0});const T=f=>(Q("data-v-f7959930"),f=f(),z(),f),zo={class:"page-container main-view"},Ho={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},Wo={class:"left"},Zo=T(()=>l("hr",{class:"hengxian"},null,-1)),ea={class:"left"},la=T(()=>l("h2",null,"⚠️ 电器模块：",-1)),ta=T(()=>l("hr",{class:"hengxian2"},null,-1)),oa=T(()=>l("h3",null,"⚠️ 面板:",-1)),aa=T(()=>l("br",null,null,-1)),na=T(()=>l("hr",{class:"hengxian3"},null,-1)),ua=T(()=>l("h3",null,"⚠️ 安全回路:",-1)),da=T(()=>l("br",null,null,-1)),sa=T(()=>l("hr",{class:"hengxian3"},null,-1)),ia=T(()=>l("h3",null,"⚠️ 电池指示器:",-1)),pa=T(()=>l("br",null,null,-1)),ra=T(()=>l("hr",{class:"hengxian3"},null,-1)),_a=T(()=>l("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),ca=T(()=>l("br",null,null,-1)),ha=T(()=>l("br",null,null,-1)),ma={key:0},ya=T(()=>l("br",null,null,-1)),va=T(()=>l("hr",{class:"hengxian3"},null,-1)),ga=T(()=>l("h3",null,"⚠️ 导航:",-1)),fa=T(()=>l("hr",{class:"hengxian2"},null,-1)),ba={__name:"electrion",setup(f){const A=F(!1),P=()=>{A.value=!0},Y=me(()=>JSON.stringify(a.value,null,2));F(!0),F(!0),F(!0),F(!0);const O=F(!1);F(!0);const M=F(!0);F(!0);const k=()=>{O.value=!0},$=()=>{router.push("/main/second")},L=()=>{router.push("/main/fifth")};return(U,_)=>{const p=ae,V=ve,w=re,N=_e;return e(),u("div",null,[l("div",zo,[l("div",Ho,[t(pe,{height:"100%",showUpBt:!0},{default:s(()=>[l("div",Wo,[t(p,{type:"info",onClick:P},{default:s(()=>[x(" 查看设备 ")]),_:1}),t(V,{modelValue:A.value,"onUpdate:modelValue":_[0]||(_[0]=d=>A.value=d),title:"设备总览",visible:A.value,width:"900px",onClose:_[1]||(_[1]=d=>A.value=!1)},{default:s(()=>[t(pe,{height:"100%",showUpBt:!0},{default:s(()=>[t(ye)]),_:1})]),_:1},8,["modelValue","visible"]),x("   "),t(p,{type:"info",onClick:k},{default:s(()=>[x(" 查看 ")]),_:1}),t(V,{modelValue:O.value,"onUpdate:modelValue":_[2]||(_[2]=d=>O.value=d),title:"数据",visible:O.value,onClose:_[3]||(_[3]=d=>O.value=!1)},{default:s(()=>[t(pe,{height:"100%",showUpBt:!0},{default:s(()=>[l("pre",null,le(Y.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),x("   "),t(p,{type:"primary",onClick:$},{default:s(()=>[x("上一步")]),_:1}),t(p,{type:"primary",onClick:L},{default:s(()=>[x("下一步")]),_:1})]),Zo,l("div",ea,[la,x(" 配置电器模块： "),ta,oa,aa,t(wl),na,ua,da,t(N,null,{default:s(()=>[t(w,{label:"PLS设置"},{default:s(()=>[t(ao)]),_:1}),t(w,{label:"保险杠"},{default:s(()=>[t(Me)]),_:1}),t(w,{label:"继电器"},{default:s(()=>[t(tl)]),_:1}),t(w,{label:"急停"},{default:s(()=>[t(Yl)]),_:1})]),_:1}),sa,ia,pa,t(ql),ra,_a,ca,ha,M.value?(e(),u("div",ma,[t(ho),ya])):R("",!0),va,ga,t(Qo)]),fa]),_:1})])])])}}},Ya=q(ba,[["__scopeId","data-v-f7959930"]]);export{Ya as default};
