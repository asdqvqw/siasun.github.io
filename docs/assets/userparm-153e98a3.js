import{_ as I,aV as w,o as U,c as S,b as e,f as t,m as _,bl as c,a as r,cv as C,l as j,E as F,p as R,q as B,Q as P,bc as T,g as A,cw as N}from"./index-bf9c25ed.js";import{E as O}from"./el-dialog-486a7c46.js";import{j as p,U as G}from"./commondata-29612e59.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tag-73ba4ae8.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-401dfcfd.js";import"./el-scrollbar-90dc6b8e.js";import{E as q}from"./el-switch-2d149d37.js";import{E as D,a as J}from"./index-afb16311.js";import{E as M,a as Q}from"./index-9f2329b5.js";import{_ as z}from"./check-067733ca.js";import{_ as $}from"./DefinScrollbar-bc8882a5.js";import"./Uint8Array-18db29ae.js";import"./initCloneObject-b6489938.js";import"./index-51624c3e.js";import"./isEqual-4a3f5552.js";import"./debounce-a237023a.js";import"./el-card-455b5d51.js";import"./strings-e290ffad.js";/* empty css                                                                       */const H=m=>(R("data-v-cb9402ec"),m=m(),B(),m),K=H(()=>r("br",null,null,-1)),W={slot:"footer",class:"dialog-footer"},X="添加数据",Y={__name:"function",setup(m){let a=w({ch_key:"",des:"",en_key:"",value:!1});const v=w(!1),f=(u,l)=>{const i=p.value.FuncSet.keys.find(h=>h.en_key===l.en_key);i&&(i.value=l.value)},g=()=>{v.value=!0},k=()=>{if(a.value.ch_key&&a.value.en_key&&a.value.des){const u={...a.value};p.value.FuncSet.keys.push(u),console.log("11111",u),v.value=!1}else C.error("请填写完整数据")},x=u=>{const l=p.value.FuncSet.keys.findIndex(h=>h.en_key===u.en_key);l!==-1&&p.value.FuncSet.keys.splice(l,1);const i=p.value.FuncSet.keys.indexOf(u);i!==-1&&p.value.FuncSet.keys.splice(i,1)};return(u,l)=>{const i=D,h=q,y=j,d=J,n=F,s=M,b=Q,L=O;return U(),S("div",null,[e(d,{data:c(p).FuncSet.keys,style:{width:"100%"},class:"functioncDate"},{default:t(()=>[e(i,{prop:"ch_key",label:"⚠️ 功能定制"}),e(i,{prop:"des",label:"说明"}),e(i,{prop:"en_key",label:"英文名"}),e(i,{prop:"value",label:"是否启用"},{default:t(o=>[e(h,{modelValue:o.row.value,"onUpdate:modelValue":E=>o.row.value=E,"active-value":!0,"inactive-value":!1,onChange:E=>f(o.$index,o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(i,{label:"操作"},{default:t(o=>[e(y,{type:"danger",onClick:E=>x(o.row)},{default:t(()=>[_("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),K,e(y,{type:"primary",onClick:g},{default:t(()=>[_("添加新数据")]),_:1}),e(L,{title:X,modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=o=>v.value=o),visible:v.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[e(b,{ref:"form",model:c(a),"label-width":"80px"},{default:t(()=>[e(s,{label:"名称"},{default:t(()=>[e(n,{modelValue:c(a).ch_key,"onUpdate:modelValue":l[0]||(l[0]=o=>c(a).ch_key=o),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"说明"},{default:t(()=>[e(n,{modelValue:c(a).des,"onUpdate:modelValue":l[1]||(l[1]=o=>c(a).des=o),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(s,{label:"英文名"},{default:t(()=>[e(n,{modelValue:c(a).en_key,"onUpdate:modelValue":l[2]||(l[2]=o=>c(a).en_key=o),placeholder:"en_key值"},null,8,["modelValue"])]),_:1}),e(s,{label:"是否启用"},{default:t(()=>[e(h,{modelValue:c(a).value,"onUpdate:modelValue":l[3]||(l[3]=o=>c(a).value=o),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",W,[e(y,{onClick:l[4]||(l[4]=o=>v.value=!1)},{default:t(()=>[_("取 消")]),_:1}),e(y,{type:"primary",onClick:k},{default:t(()=>[_("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Z=I(Y,[["__scopeId","data-v-cb9402ec"]]);const ee={__name:"index",setup(m){const a=(v,f)=>{p.value.Password=f.value};return(v,f)=>{const g=D,k=F,x=J;return U(),S("div",null,[e(x,{data:c(G),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(g,{prop:"name",label:"⚠️ 用户权限 "}),e(g,{prop:"value",label:" "},{default:t(u=>[e(k,{modelValue:u.row.value,"onUpdate:modelValue":l=>u.row.value=l,placeholder:"密码",style:{width:"100%"},onChange:l=>a(u.$index,u.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},te=I(ee,[["__scopeId","data-v-2b7f1679"]]);const V=m=>(R("data-v-875d19aa"),m=m(),B(),m),le={class:"page-container main-view"},ae={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},oe={class:"left"},ne=V(()=>r("hr",{class:"hengxian"},null,-1)),se={class:"left"},ue=V(()=>r("h2",null,"⚠️ 用户配置：",-1)),de=V(()=>r("hr",{class:"hengxian2"},null,-1)),ie=V(()=>r("hr",{class:"hengxian3"},null,-1)),_e={key:0},re=V(()=>r("hr",{class:"hengxian2"},null,-1)),ce={__name:"userparm",setup(m){const a=w(!1),v=()=>{a.value=!0},f=w(!1),g=w(!0),k=P(()=>JSON.stringify(p.value,null,2)),x=()=>{f.value=!0},u=()=>{router.push("/main/third")},l=()=>{router.push("/main/param/index")},i=()=>{let y={data:{file:"agvparam.json",value:p.value},group:"siasun",account:"test",password:"123456"};console.log(y),N({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(y)}).then(d=>{C.success("请求成功");var n={type:"syncParm",data:!0};console.log(JSON.stringify(n)),N({method:"post",url:"/api/ctrl/manualdata",data:JSON.stringify(n)}).then(s=>{C.success("同步参数")}).catch(s=>{}).finally(()=>{})}).catch(d=>{C.error("请求失败")}).finally(()=>{})},h=()=>{const y=JSON.stringify(p.value),d=new Blob([y],{type:"application/json"}),n=window.URL.createObjectURL(d),s=document.createElement("a");s.href=n,s.download="agvparam.json",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s)};return(y,d)=>{const n=j,s=O;return U(),S("div",null,[r("div",le,[r("div",ae,[e($,{height:"100%",showUpBt:!0},{default:t(()=>[r("div",oe,[e(n,{type:"info",onClick:v},{default:t(()=>[_(" 查看设备 ")]),_:1}),e(s,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=b=>a.value=b),title:"设备总览",visible:a.value,width:"900px",onClose:d[1]||(d[1]=b=>a.value=!1)},{default:t(()=>[e($,{height:"100%",showUpBt:!0},{default:t(()=>[e(z)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"info",onClick:x},{default:t(()=>[_(" 查看 ")]),_:1}),e(s,{modelValue:f.value,"onUpdate:modelValue":d[2]||(d[2]=b=>f.value=b),title:"数据",visible:f.value,onClose:d[3]||(d[3]=b=>f.value=!1)},{default:t(()=>[e($,{height:"100%",showUpBt:!0},{default:t(()=>[r("pre",null,T(k.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),_("   "),e(n,{type:"primary",onClick:u},{default:t(()=>[_("上一步")]),_:1}),e(n,{type:"primary",onClick:l},{default:t(()=>[_("返回")]),_:1}),e(n,{type:"success",onClick:i},{default:t(()=>[_("同步到AGV")]),_:1}),e(n,{type:"success",onClick:h},{default:t(()=>[_("导出到本地")]),_:1})]),ne,r("div",se,[ue,_(" 配置用户参数，功能等： "),de,e(te),ie,g.value?(U(),S("div",_e,[e(Z)])):A("",!0)]),re]),_:1})])])])}}},De=I(ce,[["__scopeId","data-v-875d19aa"]]);export{De as default};
