import{_ as L,aV as l,o as g,c as y,a as o,b as a,f as i,bl as _,cE as x,cv as w,cw as k,E as D,l as F,m,cB as U,d4 as E,g as q,p as z,q as J}from"./index-e3c3ccff.js";import{a as O,E as P}from"./el-table-column-4df7f294.js";/* empty css                    */import"./el-tag-ec687b5d.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-91791709.js";import"./el-scrollbar-1616d62b.js";import"./_Uint8Array-c7fce432.js";import"./_initCloneObject-ccd2b450.js";import"./index-176a71e9.js";import"./isEqual-b5cff9cc.js";import"./debounce-a335400b.js";const f=d=>(z("data-v-bd394ae8"),d=d(),J(),d),$={class:"page-container main-view"},j={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},A=f(()=>o("h2",{style:{"margin-top":"1%","margin-left":"1%"}},"管理",-1)),G=f(()=>o("div",{class:"hengxian"},null,-1)),H={style:{display:"flex","align-items":"center"}},K=f(()=>o("br",null,null,-1)),Q={class:"button-container"},R={key:0},W=["href"],X={__name:"index",setup(d){l(null);const C=l(null);l("");const h=l(null),c=l("");l(null);const n=l(!1),V=()=>{let t="";x.prompt("请输入密码","提示",{inputType:"password",inputPattern:/^.{6,}$/,inputErrorMessage:"密码格式错误"}).then(({value:e})=>{t=e,t==="siasun"?n.value=!0:w.error("密码错误")}).catch(()=>{})},v=()=>{let t={data:c.value};k({method:"post",url:"/api/get/files",data:JSON.stringify(t)}).then(e=>{h.value=e.data}).catch(e=>{}).finally(()=>{})},B=(t,e)=>{x.confirm("删除文件？"+e.name,"提示").then(()=>{I(t,e)}).catch(()=>{})},r=l(null),b=l(""),I=(t,e)=>{t.preventDefault(),r.value=e,r.value&&(b.value=r.value.name,N())},N=()=>{let t={dele:b.value};k({method:"get",url:"/api/download",params:t}).then(e=>{w.success("删除成功")}).catch(e=>{}).finally(()=>{}),v()};return(t,e)=>{const M=D,p=F,s=P,S=O;return g(),y("div",$,[o("div",j,[A,G,o("div",H,[a(M,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=u=>c.value=u),style:{width:"70%","margin-right":"4%","margin-left":"2%","margin-top":"0%"},placeholder:"🤪文件名..",disabled:!n.value},null,8,["modelValue","disabled"]),a(p,{onClick:v,type:"primary",style:{width:"15%","margin-top":"0%"},disabled:!n.value,icon:_(U)},{default:i(()=>[m("搜索")]),_:1},8,["disabled","icon"]),a(p,{onClick:V,disabled:n.value,type:"primary",style:{width:"15%","margin-top":"0%"},icon:_(E)},{default:i(()=>[m("删除权限")]),_:1},8,["disabled","icon"])]),K,a(S,{data:h.value},{default:i(()=>[a(s,{prop:"name",label:"文件名"}),a(s,{prop:"created",label:"创建时间"}),a(s,{prop:"modified",label:"修改时间"}),a(s,{prop:"size",label:"文件大小"}),a(s,{label:"操作"},{default:i(({row:u})=>[o("div",Q,[n.value?(g(),y("div",R,[a(p,{type:"danger",onClick:T=>B(T,u),icon:_(E)},{default:i(()=>[m("删除")]),_:2},1032,["onClick","icon"])])):q("",!0)])]),_:1})]),_:1},8,["data"]),o("a",{ref:"downloadLink",style:{display:"none"},href:C.value,download:""},null,8,W)])])}}},re=L(X,[["__scopeId","data-v-bd394ae8"]]);export{re as default};
