import{_ as E,aV as s,o as O,c as k,a as l,b as r,f as _,bl as y,eb as B,cu as f,ct as n,l as j,m as x,dW as C,ec as I,p as L,q as U,E as A}from"./index-9c50c20e.js";import{E as D}from"./el-autocomplete-836bd72c.js";import"./el-scrollbar-67d8ba2e.js";import"./el-popper-757f1225.js";import{_ as M}from"./DefinScrollbar-0bfae650.js";import"./debounce-21887a8c.js";/* empty css                                                                       */const p=c=>(L("data-v-e5e7cd05"),c=c(),U(),c),q={class:"page-container main-view"},F={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},P=p(()=>l("h2",{style:{"margin-top":"1%","margin-left":"1%"}},"JSON",-1)),T=p(()=>l("div",{class:"hengxian"},null,-1)),W={style:{display:"flex","align-items":"center"}},z=p(()=>l("br",null,null,-1)),G=p(()=>l("br",null,null,-1)),H={__name:"index",setup(c){const a=s(),g=s([]),u=s(""),h=s(""),S=s(".json"),b=(t,e)=>{const d=g.value.filter(o=>o.name.includes(t));for(let o of d)o.value=o.name;e(d)},N=()=>{B.confirm("是否提交修改","提示").then(()=>{V()}).catch(()=>{})},v=()=>{let t={data:S.value};f({method:"post",url:"/api/get/files",data:JSON.stringify(t)}).then(e=>{g.value=e.data}).catch(e=>{}).finally(()=>{}),a.value="",i.value=JSON.stringify(a.value,null,2)},J=()=>{let t={data:u.value,group:"siasun",account:"test",password:"123456"};f({method:"post",url:"/api/data/jsoneditor",data:JSON.stringify(t)}).then(e=>{n.success("请求成功"),a.value=e.data,i.value=JSON.stringify(a.value,null,2),h.value=u.value}).catch(e=>{n.error("请求失败")}).finally(()=>{})},i=s(JSON.stringify(a.value,null,2)),V=()=>{try{a.value=JSON.parse(i.value)}catch(e){n.error("json格式错误"),n.info(e.message)}let t={data:{file:h.value,value:a.value},group:"siasun",account:"test",password:"123456"};console.log(t),f({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(t)}).then(e=>{n.success("提交成功")}).catch(e=>{n.error("提交失败")}).finally(()=>{})};return(t,e)=>{const d=D,o=j,w=A;return O(),k("div",q,[l("div",F,[P,T,l("div",W,[r(d,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=m=>u.value=m),onChange:v,onClick:v,"fetch-suggestions":b,placeholder:"🦊链接车体后选择文件..",style:{width:"70%","margin-right":"4%","margin-left":"4%","margin-top":"0%"}},null,8,["modelValue"]),r(o,{onClick:J,type:"primary",style:{width:"15%","margin-top":"0%"},icon:y(C)},{default:_(()=>[x("加载")]),_:1},8,["icon"])]),z,r(M,{height:"100%",showUpBt:!0},{default:_(()=>[r(w,{type:"textarea",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=m=>i.value=m),class:"custom-textarea"},null,8,["modelValue"])]),_:1}),G,r(o,{onClick:N,type:"primary",style:{"margin-top":"0%"},icon:y(I)},{default:_(()=>[x("提交")]),_:1},8,["icon"])])])}}},ee=E(H,[["__scopeId","data-v-e5e7cd05"]]);export{ee as default};
