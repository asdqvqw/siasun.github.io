import{R as yl,D as Ke,W as gl,b as bl,S as wl,P as xl,V as we,G as Vl}from"./three.module-f555cf6f.js";import{G as kl,O as $l}from"./GLTFLoader-66618623.js";import{aV as r,_ as te,o,c as u,b as e,f as t,bl as C,a,m as d,cv as Ce,E as ie,l as re,p as se,q as de,F as L,aY as E,e as P,bc as X,g as H,Q as ye,cw as ol,bB as el,bH as xe,by as Ve,at as tl,aC as _l,aK as Cl}from"./index-5a02a582.js";import{E as Se,a as Me}from"./el-tab-pane-261a510c.js";import{E as ve}from"./el-card-43dcb390.js";/* empty css                    */import{E as he}from"./el-dialog-b2cb2e5c.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        */import"./el-tag-d38e9329.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-14405c0a.js";import"./el-scrollbar-f84df57f.js";import{E as Be,a as Le}from"./index-2d5070ff.js";import{E as Je,a as He}from"./index-47868e7b.js";import{E as ge,a as be}from"./el-select-4ab05db7.js";import"./commondata-c527d351.js";import{_ as ne}from"./DefinScrollbar-4a31cea8.js";import{E as Xe}from"./index-7da9e489.js";/* empty css                 */import{E as Ul}from"./index-61715032.js";import{E as Il}from"./el-switch-9ebcdaf0.js";import"./strings-a4654d41.js";import"./Uint8Array-4d1929d4.js";import"./initCloneObject-e81f77d6.js";import"./isEqual-b3bf3dc1.js";import"./debounce-50d2dbad.js";import"./index-4f765bf2.js";/* empty css                                                                       */r(!1);r(!1);r(!1);r(!1);r(!1);const ae=r(0),nl=new yl,n=r({car_type:0,NetMan:{tc:"192.168.3.88",screen:"192.168.3.28"},version:"3.0.0.0",FuncSet:{keys:[{ch_key:"看门狗功能",des:"安全保护功能",en_key:"watchDog",value:!1},{ch_key:"铁电储存",des:"车体状态记录功能",en_key:"TSave",value:!0},{ch_key:"通讯协议相关",des:"通讯校验和功能",en_key:"CheckSum",value:!0},{ch_key:"设备扩展数据",des:"是否开启设备扩展数据",en_key:"ExData",value:!0},{ch_key:"扩展协议",des:"是否开启扩展协议",en_key:"ExAgreement",value:!0}]},Password:"123456",SerialPortMan:{port_1:!1,port_2:!1,port_3:!1,port_4:!1},Panel:{Button:{startBtn:[2,2,2,2,1],brakeBtn:[2,2,2,2,1],manualSwt:[2,2,2,2,1],autoSwt:[2,2,2,2,1],emgBtn:[2,2,2,2,1]},Display:{type:1,modbus:{type:"TCP"}}},SafetyLoop:{Bumper:[],Emg:[],PowerRelay:{name:"伺服接触器",io_input:[4,2,0,1,0]},Pls:[]},CanMan:{canport:[]},MotionParam:{manaul_param:{speed_level:[.1,.3,.5,.7,1],turn_radius:[1.5,2,2.5]},common_param:{up_acc:.5,down_acc:.7,small_acc:.1,max_speed:1,stop_near_speed:.1,stop_open_section:.45,min_revise_radius:5},auto_param:{speed_level:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}},Battery:{normal_percent:70,low_percent:50,lower_percent:30},Kinematic:{delay:{need_delay_time:!1,servoenable_delay_time:200,servospeed_delay_time:200},drive:[]},NavSys:[],ManCtrlDevice:{type:2,com:{com_id:0},can:{can_id:50},remoteDevice:{ip:"192.168.3.99",port:80}}});r([]);r({type:0,elect:0,param:[]});r({manualcom:!1,manualcan:!1,manualforklift:!1,manualonline:!1,direction:1,com:0,can:0});r(2);r([{name:"控制周期",value:"0.05",key:"ctrlcycle"},{name:"线程超时保护",value:"1000",key:"ThreadTOPro"}]);const vl=r([{name:"密码",value:"123456",key:"Password"}]),ml=r([{name:"版本号",value:"3.0.0.0",key:"version"}]),h=r([]);r([]);r([]);r([]);r([]);r([]);const $e=r(!1),ul=r("1"),ke=r(!0),Ge=r(200),Fe=r(200);r([{manRadLev:0,manRadNum:2,value:!0},{manRadLev:1,manRadNum:3,value:!1},{manRadLev:2,manRadNum:3,value:!1}]);r([{manSpeLev:0,adAutoSpe:0,value:!0},{manSpeLev:1,adAutoSpe:2,value:!1},{manSpeLev:2,adAutoSpe:4,value:!1},{manSpeLev:3,adAutoSpe:6,value:!1},{manSpeLev:4,adAutoSpe:8,value:!1}]);r([{name:"速度级别设置",value:0}]);const hl=r([{name:"加速时加速度(m/s/s)",value:"0.5",key:"up_acc"},{name:"减速时加速度(m/s/s)",value:"0.7",key:"down_acc"},{name:"起步加速度(m/s/s)",value:"0.1",key:"small_acc"},{name:"最高运行速度(m/s/s)",value:"1",key:"max_speed"},{name:"停车接近速度(m/s)",value:"0.1",key:"stop_near_speed"},{name:"停车开放段(m)",value:"0.45",key:"stop_open_section"},{name:"最小跟踪调整半径(m)",value:"5",key:"min_revise_radius"}]),sl=r({speed_level:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),dl=r({speed_level:[.1,.3,.5,.7,1]}),il=r({speed_level:[1.5,2,2.5]}),rl=r([{name:"控制台",key:"tc",value:"192.168.3.88"},{name:"屏幕",key:"screen",value:"192.168.3.28"}]),Nl=r([{ch_key:"看门狗功能",des:"安全保护功能",en_key:"watchDog",value:!1},{ch_key:"铁电储存",des:"车体状态记录功能",en_key:"TSave",value:!0},{ch_key:"通讯协议相关",des:"通讯校验和功能",en_key:"CheckSum",value:!0},{ch_key:"设备扩展数据",des:"是否开启设备扩展数据",en_key:"ExData",value:!0},{ch_key:"扩展协议",des:"是否开启扩展协议",en_key:"ExAgreement",value:!0}]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);r([]);const fl=s=>(se("data-v-2b2448f5"),s=s(),de(),s),Sl=fl(()=>a("br",null,null,-1)),Ml=fl(()=>a("br",null,null,-1)),Ol={slot:"footer",style:{right:"50px"}},Pl="添加数据",Al={__name:"Consloe",setup(s){let x=r({name:"",key:"",value:""});const p=r(!1),$=(f,U)=>{U.key==="tc"?(n.value.NetMan.tc=U.value,console.log("1111:",n.value.NetMan.tc)):U.key==="screen"&&(n.value.NetMan.screen=U.value),console.log("2222:",f)},V=()=>{if(x.value.name&&x.value.key&&x.value.value){const f={...x.value};n.value.network.push(f),rl.value.push(f),p.value=!1}else Ce.error("请填写完整数据")};return(f,U)=>{const I=Be,_=ie,g=Le,y=Je,w=He,l=re,N=he;return o(),u("div",null,[e(g,{data:C(rl),style:{width:"100%"},class:"datatableCON"},{default:t(()=>[e(I,{prop:"name",label:"⚠️ 网口"}),e(I,{prop:"key",label:"英文名"}),e(I,{prop:"value",label:"地址"},{default:t(c=>[e(_,{modelValue:c.row.value,"onUpdate:modelValue":m=>c.row.value=m,placeholder:"请选择",style:{width:"100%"},onChange:m=>$(c.$index,c.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(I,{label:"操作"},{default:t(c=>[]),_:1})]),_:1},8,["data"]),Sl,e(N,{title:Pl,modelValue:p.value,"onUpdate:modelValue":U[4]||(U[4]=c=>p.value=c),visible:p.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",draggable:"",style:{height:"35%"}},{default:t(()=>[Ml,e(w,{ref:"form",model:C(x),"label-width":"80px"},{default:t(()=>[e(y,{label:"名称"},{default:t(()=>[e(_,{modelValue:C(x).name,"onUpdate:modelValue":U[0]||(U[0]=c=>C(x).name=c),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(y,{label:"英文名"},{default:t(()=>[e(_,{modelValue:C(x).key,"onUpdate:modelValue":U[1]||(U[1]=c=>C(x).key=c),placeholder:"key值"},null,8,["modelValue"])]),_:1}),e(y,{label:"地址"},{default:t(()=>[e(_,{modelValue:C(x).value,"onUpdate:modelValue":U[2]||(U[2]=c=>C(x).value=c),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",Ol,[e(l,{onClick:U[3]||(U[3]=c=>p.value=!1),style:{"margin-left":"75%"}},{default:t(()=>[d("取 消")]),_:1}),e(l,{type:"primary",onClick:V},{default:t(()=>[d("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Bl=te(Al,[["__scopeId","data-v-2b2448f5"]]);const ue=s=>(se("data-v-aa204787"),s=s(),de(),s),Ll={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Dl={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Rl={class:"button-group"},El={class:"input-group"},jl=ue(()=>a("label",null,"CAN ID通讯号:",-1)),Tl={class:"input-group"},zl=ue(()=>a("label",null,"单元编号:",-1)),Kl={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Gl={class:"button-group"},Fl={class:"input-group"},Jl=ue(()=>a("label",null,"CAN ID通讯号:",-1)),Hl={class:"input-group"},Xl=ue(()=>a("label",null,"单元编号:",-1)),ql={class:"input-group"},Yl=ue(()=>a("label",null,"伺服类型:",-1)),Wl={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ql={class:"button-group"},Zl={class:"input-group"},ea=ue(()=>a("label",null,"CAN ID通讯号:",-1)),la={class:"input-group"},aa=ue(()=>a("label",null,"单元编号:",-1)),ta={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},oa={class:"button-group"},na={class:"input-group"},ua=ue(()=>a("label",null,"CAN ID通讯号:",-1)),sa={class:"input-group"},da=ue(()=>a("label",null,"单元编号:",-1)),ia={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ra={class:"button-group"},_a={class:"input-group"},ca=ue(()=>a("label",null,"CAN ID通讯号:",-1)),pa={class:"input-group"},va=ue(()=>a("label",null,"单元编号:",-1)),ma={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ha={class:"button-group"},fa={class:"input-group"},ya=ue(()=>a("label",null,"CAN ID通讯号:",-1)),ga={class:"input-group"},ba=ue(()=>a("label",null,"单元编号:",-1)),wa={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},xa={class:"button-group"},Va={class:"input-group"},ka=ue(()=>a("label",null,"CAN ID通讯号:",-1)),$a={class:"input-group"},Ca=ue(()=>a("label",null,"单元编号:",-1)),Ua={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ia={class:"button-group"},Na={class:"input-group"},Sa=ue(()=>a("label",null,"CAN ID通讯号:",-1)),Ma={class:"input-group"},Oa=ue(()=>a("label",null,"单元编号:",-1)),Pa={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Aa={class:"button-group"},Ba={class:"input-group"},La=ue(()=>a("label",null,"CAN ID通讯号:",-1)),Da={class:"input-group"},Ra=ue(()=>a("label",null,"单元编号:",-1)),Ea={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ja={class:"button-group"},Ta={class:"input-group"},za=ue(()=>a("label",null,"CAN ID通讯号:",-1)),Ka={class:"input-group"},Ga=ue(()=>a("label",null,"单元编号:",-1)),Fa={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ja={class:"button-group"},Ha={class:"input-group"},Xa=ue(()=>a("label",null,"CAN ID通讯号:",-1)),qa={class:"input-group"},Ya=ue(()=>a("label",null,"单元编号:",-1)),Wa={__name:"index",setup(s){const x=()=>{n.value.CanMan.canport.push({canpos:[],canopenpos:[],canguide:[],canencoder:[],canbattery:[],canbms:[],canrfid:[],canopenencoder:[],cangyro:[],canmanualbox:[],canio:[]})},p=M=>{n.value.CanMan.canport.splice(M,1)},$=M=>{n.value.CanMan.canport[M].canpos.push({canid:2,unitid:0})},V=(M,Q)=>{n.value.CanMan.canport[M].canpos.splice(Q,1)},f=M=>{n.value.CanMan.canport[M].canopenpos.push({canid:2,unitid:0,servotype:1})},U=(M,Q)=>{n.value.CanMan.canport[M].canopenpos.splice(Q,1)},I=M=>{n.value.CanMan.canport[M].canguide.push({canid:2,unitid:0})},_=(M,Q)=>{n.value.CanMan.canport[M].canguide.splice(Q,1)},g=M=>{n.value.CanMan.canport[M].canencoder.push({canid:2,unitid:0})},y=(M,Q)=>{n.value.CanMan.canport[M].canencoder.splice(Q,1)},w=M=>{n.value.CanMan.canport[M].canbattery.push({canid:2,unitid:0})},l=(M,Q)=>{n.value.CanMan.canport[M].canbattery.splice(Q,1)},N=M=>{n.value.CanMan.canport[M].canbms.push({canid:2,unitid:0})},c=(M,Q)=>{n.value.CanMan.canport[M].canbms.splice(Q,1)},m=M=>{n.value.CanMan.canport[M].canrfid.push({canid:2,unitid:0})},A=(M,Q)=>{n.value.CanMan.canport[M].canrfid.splice(Q,1)},T=M=>{n.value.CanMan.canport[M].canopenencoder.push({canid:2,unitid:0})},z=(M,Q)=>{n.value.CanMan.canport[M].canopenencoder.splice(Q,1)},b=M=>{n.value.CanMan.canport[M].cangyro.push({canid:2,unitid:0})},i=(M,Q)=>{n.value.CanMan.canport[M].cangyro.splice(Q,1)},K=M=>{n.value.CanMan.canport[M].canmanualbox.push({canid:2,unitid:0})},W=(M,Q)=>{n.value.CanMan.canport[M].canmanualbox.splice(Q,1)},me=M=>{n.value.CanMan.canport[M].canio.push({canid:2,unitid:0})},le=(M,Q)=>{n.value.CanMan.canport[M].canio.splice(Q,1)};return(M,Q)=>{const D=re,R=ie,F=ve,B=Se,k=ge,q=be,ee=Me;return o(),u(L,null,[e(D,{type:"primary",onClick:x,style:{"margin-left":"1vw"}},{default:t(()=>[d("添加 CAN 端口")]),_:1}),a("div",Ll,[(o(!0),u(L,null,E(C(n).CanMan.canport,(J,G)=>(o(),P(F,{key:G,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",null,[a("strong",null,"CAN "+X(G+1),1),e(D,{style:{"margin-left":"1vw"},type:"danger",onClick:j=>p(G)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),e(ee,null,{default:t(()=>[e(B,{label:"can pos"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>$(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN Pos")]),_:2},1032,["onClick"]),a("div",Dl,[(o(!0),u(L,null,E(J.canpos,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Rl,[e(D,{type:"danger",onClick:S=>V(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",El,[jl,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Tl,[zl,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"can open"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>f(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN Open Pos")]),_:2},1032,["onClick"]),a("div",Kl,[(o(!0),u(L,null,E(J.canopenpos,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Gl,[e(D,{type:"danger",onClick:S=>U(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Fl,[Jl,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Hl,[Xl,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",ql,[Yl,e(q,{modelValue:j.servotype,"onUpdate:modelValue":S=>j.servotype=S,modelModifiers:{number:!0},placeholder:"请选择"},{default:t(()=>[e(k,{label:"Elmo伺服",value:0}),e(k,{label:"步科伺服",value:1}),e(k,{label:"Motec伺服",value:2}),e(k,{label:"AMC伺服",value:3})]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"磁导航"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>I(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN Guide")]),_:2},1032,["onClick"]),a("div",Wl,[(o(!0),u(L,null,E(J.canguide,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Ql,[e(D,{type:"danger",onClick:S=>_(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Zl,[ea,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",la,[aa,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"can编码器"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>g(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN Canencoder")]),_:2},1032,["onClick"]),a("div",ta,[(o(!0),u(L,null,E(J.canencoder,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",oa,[e(D,{type:"danger",onClick:S=>y(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",na,[ua,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",sa,[da,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"can电池"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>w(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN battery")]),_:2},1032,["onClick"]),a("div",ia,[(o(!0),u(L,null,E(J.canbattery,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",ra,[e(D,{type:"danger",onClick:S=>l(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",_a,[ca,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",pa,[va,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"锂电池"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>N(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN BMS")]),_:2},1032,["onClick"]),a("div",ma,[(o(!0),u(L,null,E(J.canbms,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",ha,[e(D,{type:"danger",onClick:S=>c(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",fa,[ya,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",ga,[ba,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"RFID"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>m(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN RFID")]),_:2},1032,["onClick"]),a("div",wa,[(o(!0),u(L,null,E(J.canrfid,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",xa,[e(D,{type:"danger",onClick:S=>A(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Va,[ka,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",$a,[Ca,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"canopen编码器"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>T(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN canopenencoder")]),_:2},1032,["onClick"]),a("div",Ua,[(o(!0),u(L,null,E(J.canopenencoder,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Ia,[e(D,{type:"danger",onClick:S=>z(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Na,[Sa,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ma,[Oa,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"陀螺仪"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>b(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN cangyro")]),_:2},1032,["onClick"]),a("div",Pa,[(o(!0),u(L,null,E(J.cangyro,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Aa,[e(D,{type:"danger",onClick:S=>i(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Ba,[La,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Da,[Ra,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"can手控盒"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>K(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN canmanualbox")]),_:2},1032,["onClick"]),a("div",Ea,[(o(!0),u(L,null,E(J.canmanualbox,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",ja,[e(D,{type:"danger",onClick:S=>W(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Ta,[za,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ka,[Ga,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024),e(B,{label:"can io"},{default:t(()=>[e(F,{class:"input-group"},{default:t(()=>[e(D,{type:"success",onClick:j=>me(G),style:{"margin-bottom":"10px"}},{default:t(()=>[d("添加 CAN io")]),_:2},1032,["onClick"]),a("div",Fa,[(o(!0),u(L,null,E(J.canio,(j,O)=>(o(),P(F,{key:O,class:"sensor-input"},{default:t(()=>[a("div",Ja,[e(D,{type:"danger",onClick:S=>le(G,O),style:{"margin-left":"10px"}},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",Ha,[Xa,e(R,{modelValue:j.canid,"onUpdate:modelValue":S=>j.canid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 CAN ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",qa,[Ya,e(R,{modelValue:j.unitid,"onUpdate:modelValue":S=>j.unitid=S,modelModifiers:{number:!0},type:"number",placeholder:"输入 Unit ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])],64)}}},Qa=te(Wa,[["__scopeId","data-v-aa204787"]]),Za=a("div",{style:{width:"30%",display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.5%"}},[a("h3",null,"⚠️ CAN线")],-1),et=a("br",null,null,-1),lt={__name:"CanLine",setup(s){return r(["1"]),r(!0),r(null),r(null),(x,p)=>(o(),u("div",null,[Za,et,e(Qa)]))}};const at={key:0},tt=a("h4",null,"CAN Pos:",-1),ot={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},nt={key:1},ut=a("h4",null,"CAN Open Pos:",-1),st={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},dt={key:0},it={key:1},rt={key:2},_t={key:3},ct={key:2},pt=a("h4",null,"CAN Guide:",-1),vt={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},mt={key:3},ht=a("h4",null,"CAN Encoder:",-1),ft={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},yt={key:4},gt=a("h4",null,"CAN Battery:",-1),bt={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},wt={key:5},xt=a("h4",null,"CAN RFID:",-1),Vt={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},kt={key:6},$t=a("h4",null,"CAN Manual Box:",-1),Ct={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ut={key:7},It=a("h4",null,"CAN IO:",-1),Nt={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},St={key:8},Mt=a("h4",null,"CAN Gyro:",-1),Ot={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ue={__name:"check",setup(s){return(x,p)=>{const $=ve,V=Se,f=Me;return o(),P(f,null,{default:t(()=>[(o(!0),u(L,null,E(C(n).CanMan.canport,(U,I)=>(o(),P(V,{key:I,label:"CAN Port "+(I+1)},{default:t(()=>[U.canpos.length?(o(),u("div",at,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[tt,a("div",ot,[(o(!0),u(L,null,E(U.canpos,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Pos 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canopenpos.length?(o(),u("div",nt,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[ut,a("div",st,[(o(!0),u(L,null,E(U.canopenpos,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Open Pos 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1),a("p",null,[d("伺服类型: "),_.servotype===0?(o(),u("span",dt,"Elmo伺服")):_.servotype===1?(o(),u("span",it,"步科伺服")):_.servotype===2?(o(),u("span",rt,"Motec伺服")):_.servotype===3?(o(),u("span",_t,"AMC伺服")):H("",!0)])]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canguide.length?(o(),u("div",ct,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[pt,a("div",vt,[(o(!0),u(L,null,E(U.canguide,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Guide 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canencoder.length?(o(),u("div",mt,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[ht,a("div",ft,[(o(!0),u(L,null,E(U.canencoder,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Encoder 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canbattery.length?(o(),u("div",yt,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[gt,a("div",bt,[(o(!0),u(L,null,E(U.canbattery,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Battery 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canrfid.length?(o(),u("div",wt,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[xt,a("div",Vt,[(o(!0),u(L,null,E(U.canrfid,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN RFID 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canmanualbox.length?(o(),u("div",kt,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[$t,a("div",Ct,[(o(!0),u(L,null,E(U.canmanualbox,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Manual Box 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.canio.length?(o(),u("div",Ut,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[It,a("div",Nt,[(o(!0),u(L,null,E(U.canio,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN IO 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0),U.cangyro.length?(o(),u("div",St,[e($,{class:"custom-card","body-style":{padding:"20px"}},{default:t(()=>[Mt,a("div",Ot,[(o(!0),u(L,null,E(U.cangyro,_=>(o(),u("div",{key:_.canid},[e($,{class:"item-card","body-style":{padding:"10px"}},{default:t(()=>[a("p",null,"CAN Gyro 编号: "+X(_.canid),1),a("p",null,"CAN 通讯 ID 号: "+X(_.unitid),1)]),_:2},1024)]))),128))])]),_:2},1024)])):H("",!0)]),_:2},1032,["label"]))),128))]),_:1})}}};const Oe=s=>(se("data-v-e241a1a6"),s=s(),de(),s),Pt={class:"page-container main-view"},At={class:"left"},Bt=Oe(()=>a("hr",{class:"hengxian"},null,-1)),Lt={class:"left"},Dt=Oe(()=>a("hr",{class:"hengxian2"},null,-1)),Rt=Oe(()=>a("h3",null,"⚠️ 通讯",-1)),Et=Oe(()=>a("h5",null,"选择启用串口",-1)),jt=Oe(()=>a("br",null,null,-1)),Tt={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},zt={style:{display:"flex","align-items":"center"}},Kt={style:{"margin-right":"10px"}},Gt=Oe(()=>a("hr",{class:"hengxian3"},null,-1)),Ft={key:0},Jt=Oe(()=>a("hr",{class:"hengxian2"},null,-1)),Ht={__name:"index",setup(s){r(!0);const x=r(!0),p=r(!1),$=r(!1),V=ye(()=>JSON.stringify(n.value,null,2)),f=c=>{n.value.SerialPortMan[`port_${c.key.charAt(3)}`]=c.isChecked},U=()=>{$.value=!0},I=()=>{p.value=!0},_=()=>{ae.value=2},g=ye(()=>{const c=n.value.SerialPortMan;return[{key:"COM1",isChecked:c&&c.port_1!==void 0?c.port_1:!1},{key:"COM2",isChecked:c&&c.port_2!==void 0?c.port_2:!1},{key:"COM3",isChecked:c&&c.port_3!==void 0?c.port_3:!1},{key:"COM4",isChecked:c&&c.port_4!==void 0?c.port_4:!1}]}),y=r(null),w=()=>{ol({method:"post",url:"/api/data/jsoneditor",data:JSON.stringify({data:"agvparam.json",group:"siasun",account:"test",password:"123456"})}).then(m=>{Ce.success("请求成功"),y.value=m.data,n.value=y.value,l()}).catch(m=>{Ce.error("请求失败")}).finally(()=>{})},l=()=>{rl.value.forEach(c=>{n.value.NetMan[c.key]!==void 0&&(c.value=n.value.NetMan[c.key])}),Nl.value=n.value.FuncSet.keys,ml.value[0].value=n.value.version,vl.value[0].value=n.value.Password,n.value.SerialPortMan!==void 0&&(g.value[0].isChecked=n.value.SerialPortMan.port_1,g.value[1].isChecked=n.value.SerialPortMan.port_2,g.value[2].isChecked=n.value.SerialPortMan.port_3,g.value[3].isChecked=n.value.SerialPortMan.port_4),hl.value.forEach(c=>{n.value.MotionParam.common_param[c.key]!==void 0&&(c.value=n.value.MotionParam.common_param[c.key])}),sl.value.speed_level=n.value.MotionParam.auto_param.speed_level,dl.value.speed_level=n.value.MotionParam.manaul_param.speed_level,il.value.speed_level=n.value.MotionParam.manaul_param.turn_radius,n.value.Kinematic.type!==void 0&&(ul.value=n.value.Kinematic.type.toString()),n.value.Kinematic.delay!==void 0&&(ke.value=n.value.Kinematic.delay.need_delay_time,Ge.value=n.value.Kinematic.delay.servoenable_delay_time,Fe.value=n.value.Kinematic.delay.servospeed_delay_time),n.value.Kinematic.drive!==void 0&&(h.value=n.value.Kinematic.drive)},N=c=>{const m=c.target.files[0],A=new FileReader;A.onload=T=>{const z=JSON.parse(T.target.result);n.value=z,l()},A.readAsText(m),Ce.success("导入成功")};return(c,m)=>{const A=re,T=he,z=Se,b=Xe,i=ve,K=Me;return o(),u("div",null,[a("div",Pt,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",At,[e(A,{type:"info",onClick:U},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(T,{modelValue:$.value,"onUpdate:modelValue":m[0]||(m[0]=W=>$.value=W),title:"设备总览",visible:$.value,width:"900px",onClose:m[1]||(m[1]=W=>$.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(A,{type:"info",onClick:I},{default:t(()=>[d(" 查看 ")]),_:1}),e(T,{modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=W=>p.value=W),title:"数据",visible:p.value,onClose:m[3]||(m[3]=W=>p.value=!1),"modal-class":"kk-dialog-class","custom-class":"custom-dialog"},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X(V.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(A,{type:"primary",onClick:w},{default:t(()=>[d(" 从AGV同步参数 ")]),_:1}),e(A,{type:"primary",onClick:_},{default:t(()=>[d("下一步")]),_:1}),d("   "),a("input",{ref:"importInput",type:"file",accept:".json",style:{display:"none"},onChange:N},null,544),e(A,{onClick:m[4]||(m[4]=W=>c.$refs.importInput.click()),type:"success"},{default:t(()=>[d(" 本地导入 ")]),_:1})]),Bt,a("div",Lt,[Dt,Rt,e(K,null,{default:t(()=>[e(z,{label:"网口设置"},{default:t(()=>[e(Bl)]),_:1}),e(z,{label:"串口设置"},{default:t(()=>[Et,jt,a("div",Tt,[(o(!0),u(L,null,E(g.value,(W,me)=>(o(),P(i,{key:W.key,class:"port-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",zt,[a("span",Kt,"⚠️ "+X(W.key)+":",1),e(b,{modelValue:W.isChecked,"onUpdate:modelValue":le=>W.isChecked=le,onChange:le=>f(W)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),_:2},1024))),128))])]),_:1})]),_:1}),Gt,x.value?(o(),u("div",Ft,[e(lt)])):H("",!0)]),Jt]),_:1})])])}}},Xt=te(Ht,[["__scopeId","data-v-e241a1a6"]]);const qt=a("h5",null,"· 手动模式下速度等级对应的速度",-1),Yt=a("br",null,null,-1),Wt={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},Qt={style:{display:"flex","align-items":"center"}},Zt={style:{"margin-right":"10px"}},eo=a("br",null,null,-1),lo=a("h5",null,"· 手动模式下转弯半径",-1),ao=a("br",null,null,-1),to={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},oo={style:{display:"flex","align-items":"center"}},no={style:{"margin-right":"10px"}},uo={__name:"manualparm",setup(s){const x=ye(()=>dl.value.speed_level.map(f=>({value:f})));function p(){n.value.MotionParam.manaul_param.speed_level=x.value.map(f=>f.value),dl.value.speed_level=x.value.map(f=>f.value)}const $=ye(()=>il.value.speed_level.map(f=>({value:f})));function V(){n.value.MotionParam.manaul_param.turn_radius=$.value.map(f=>f.value),il.value.speed_level=$.value.map(f=>f.value)}return(f,U)=>{const I=ie,_=ve;return o(),u(L,null,[qt,Yt,a("div",Wt,[(o(!0),u(L,null,E(x.value,(g,y)=>(o(),P(_,{key:y,class:"speed-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",Qt,[a("span",Zt,"🔶 速度等级 "+X(y+1)+":",1),e(I,{modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,modelModifiers:{number:!0},type:"number",step:"0.1",min:"0.0",max:"1.0",placeholder:"请输入速度",onInput:p,style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))]),eo,lo,ao,a("div",to,[(o(!0),u(L,null,E($.value,(g,y)=>(o(),P(_,{key:y,class:"speed-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",oo,[a("span",no,"🔶 半径等级 "+X(y+1)+":",1),e(I,{modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,modelModifiers:{number:!0},type:"number",step:"0.1",min:"0.0",max:"5.0",placeholder:"请输入速度",onInput:V,style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])],64)}}};const so={__name:"autoparm",setup(s){const x=(p,$)=>{n.value.MotionParam.common_param[$.key]=parseFloat($.value)};return(p,$)=>{const V=Be,f=ie,U=Le;return o(),u("div",null,[e(U,{data:C(hl),style:{width:"100%"},class:"AUTOPARM"},{default:t(()=>[e(V,{prop:"name",label:"🔖 公共参数: "},{default:t(I=>[a("span",null,"🔶"+X(I.row.name),1)]),_:1}),e(V,{prop:"value",label:" "},{default:t(I=>[e(f,{modelValue:I.row.value,"onUpdate:modelValue":_=>I.row.value=_,placeholder:"请选择",style:{width:"100%"},onChange:_=>x(I.$index,I.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}};const io=a("h5",null,"· 自动模式下速度等级对应的速度",-1),ro=a("br",null,null,-1),_o={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},co={style:{display:"flex","align-items":"center"}},po={style:{"margin-right":"10px"}},vo={__name:"commonparm",setup(s){const x=ye(()=>sl.value.speed_level.map($=>({value:$})));function p(){n.value.MotionParam.auto_param.speed_level=x.value.map($=>$.value),sl.value.speed_level=x.value.map($=>$.value)}return($,V)=>{const f=ie,U=ve;return o(),u(L,null,[io,ro,a("div",_o,[(o(!0),u(L,null,E(x.value,(I,_)=>(o(),P(U,{key:_,class:"speed-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",co,[a("span",po,"🔶 速度等级 "+X(_+1)+":",1),e(f,{modelValue:I.value,"onUpdate:modelValue":g=>I.value=g,modelModifiers:{number:!0},type:"number",step:"0.1",min:"0.0",max:"1.0",placeholder:"请输入速度",onInput:p,style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024))),128))])],64)}}},mo=a("br",null,null,-1),ho={key:0},fo={key:0},yo=a("br",null,null,-1),go=a("br",null,null,-1),bo=a("br",null,null,-1),wo={key:1},xo=a("br",null,null,-1),Vo=a("br",null,null,-1),ko=a("br",null,null,-1),$o={key:2},Co=a("br",null,null,-1),Uo=a("br",null,null,-1),Io={key:3},No=a("br",null,null,-1),So=a("br",null,null,-1),Mo=a("br",null,null,-1),Oo={key:4},Po=a("br",null,null,-1),Ze={__name:"IO",props:{wheel:{type:Array,required:!0}},emits:["myEvent"],setup(s,{emit:x}){const p=s,$=r(!1),V=r("子组件数据"),f=r("1"),U=r(!0),I=r(!1),_=r(!1),g=r(!1),y=r(!1),w=r("1"),l=r("1"),N=r("1"),c=r("1"),m=r(""),A=r("");x("myEvent",V.value);const T=()=>{if(p.wheel!==void 0)if(console.log("22222",p.wheel),p.wheel[0]===3||p.wheel[0]===2||p.wheel[0]===5)$.value=!0,f.value=p.wheel[0].toString(),W(),w.value=p.wheel[1].toString(),l.value=p.wheel[2].toString(),N.value=p.wheel[3].toString(),c.value=p.wheel[4].toString();else if(p.wheel[0]===1)$.value=!0,f.value=p.wheel[0].toString(),W(),w.value=p.wheel[2].toString(),l.value=p.wheel[3].toString(),N.value=p.wheel[4].toString();else if(p.wheel[0]===4){$.value=!0,f.value=p.wheel[0].toString(),W();const le=parseInt(p.wheel[3],10);A.value=isNaN(le)?"":le.toString(16),w.value=A.value.toString(),l.value=p.wheel[4].toString()}else p.wheel[0]===0&&($.value=!1,W());else{if(p.wheel.value!==void 0)if(console.log("33333333",p.wheel.value),p.wheel.value[0]===3||p.wheel.value[0]===2||p.wheel.value[0]===5)$.value=!0,f.value=p.wheel.value[0].toString(),W(),w.value=p.wheel.value[1].toString(),l.value=p.wheel.value[2].toString(),N.value=p.wheel.value[3].toString(),c.value=p.wheel.value[4].toString();else if(p.wheel.value[0]===1)$.value=!0,f.value=p.wheel.value[0].toString(),W(),w.value=p.wheel.value[2].toString(),l.value=p.wheel.value[3].toString(),N.value=p.wheel.value[4].toString();else if(p.wheel.value[0]===4){$.value=!0,f.value=p.wheel.value[0].toString(),W();const le=parseInt(p.wheel.value[3],10);A.value=isNaN(le)?"":le.toString(16),w.value=A.value.toString(),l.value=p.wheel.value[4].toString()}else p.wheel.value[0]===0&&($.value=!1,W());$.value=!1}},z=()=>{console.log("3333"),$.value||(p.wheel.value=[0,2,2,2,0]),b()},b=()=>{if(console.log("1111111"),!$.value)p.wheel.value=[0,2,2,2,0];else if(f.value==="3"||f.value==="2"||f.value==="5")p.wheel.value=[parseInt(f.value),parseInt(w.value),parseInt(l.value),parseInt(N.value),parseInt(c.value)];else if(f.value==="1")p.wheel.value=[parseInt(f.value),2,parseInt(w.value),parseInt(l.value),parseInt(N.value)];else if(f.value==="4"){const le=parseInt(w.value,16);m.value=isNaN(le)?"":le.toString(),p.wheel.value=[parseInt(f.value),0,0,parseInt(m.value),parseInt(l.value)]}},i=[{label:"CAN-POS",value:"2"},{label:"CAN-OPEN",value:"3"},{label:"本地IO",value:"1"},{label:"CAN-IO",value:"5"},{label:"GPIO",value:"4"}],K=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],W=()=>{switch(f.value){case"2":U.value=!0,I.value=!1,_.value=!1,g.value=!1,y.value=!1,b();return;case"3":U.value=!1,I.value=!0,_.value=!1,g.value=!1,y.value=!1,b();return;case"1":U.value=!1,I.value=!1,_.value=!0,g.value=!1,y.value=!1,b();return;case"5":U.value=!1,I.value=!1,_.value=!1,g.value=!0,y.value=!1,b();return;case"4":U.value=!1,I.value=!1,_.value=!1,g.value=!1,y.value=!0,b();return}};T();let me=0;return el($e,()=>{const le=Date.now();le-me>=700&&(T(),me=le)}),(le,M)=>{const Q=Xe,D=Ul,R=ge,F=be,B=ie;return o(),u("div",null,[e(Q,{modelValue:$.value,"onUpdate:modelValue":M[0]||(M[0]=k=>$.value=k),onChange:z},{default:t(()=>[d("启用:")]),_:1},8,["modelValue"]),mo,$.value?(o(),u("div",ho,[(o(),u(L,null,E(i,(k,q)=>e(D,{key:q,modelValue:f.value,"onUpdate:modelValue":M[1]||(M[1]=ee=>f.value=ee),label:k.value,onChange:W},{default:t(()=>[a("pre",null,X(k.label),1)]),_:2},1032,["modelValue","label"])),64)),U.value?(o(),u("div",fo,[d(" 远程模块连接到: "),(o(),u(L,null,E(K,(k,q)=>e(D,{key:q,modelValue:w.value,"onUpdate:modelValue":M[2]||(M[2]=ee=>w.value=ee),label:k.value,onChange:W},{default:t(()=>[a("pre",null,X(k.label),1)]),_:2},1032,["modelValue","label"])),64)),yo,d(" CAN-POS模块编号: "),e(F,{modelValue:l.value,"onUpdate:modelValue":M[3]||(M[3]=k=>l.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),go,d(" 模块内输出点编号: "),e(F,{modelValue:N.value,"onUpdate:modelValue":M[4]||(M[4]=k=>N.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),bo,d(" 信号极性: "),e(F,{modelValue:c.value,"onUpdate:modelValue":M[5]||(M[5]=k=>c.value=k),onChange:b},{default:t(()=>[e(R,{label:"输出高电平有效",value:"0"}),e(R,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):H("",!0),I.value?(o(),u("div",wo,[d(" 远程模块连接到: "),(o(),u(L,null,E(K,(k,q)=>e(D,{key:q,modelValue:w.value,"onUpdate:modelValue":M[6]||(M[6]=ee=>w.value=ee),label:k.value,onChange:W},{default:t(()=>[a("pre",null,X(k.label),1)]),_:2},1032,["modelValue","label"])),64)),xo,d(" CAN-OPEN模块编号: "),e(F,{modelValue:l.value,"onUpdate:modelValue":M[7]||(M[7]=k=>l.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Vo,d(" 模块内输出点编号: "),e(F,{modelValue:N.value,"onUpdate:modelValue":M[8]||(M[8]=k=>N.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),ko,d(" 信号极性: "),e(F,{modelValue:c.value,"onUpdate:modelValue":M[9]||(M[9]=k=>c.value=k),onChange:b},{default:t(()=>[e(R,{label:"输出高电平有效",value:"0"}),e(R,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):H("",!0),_.value?(o(),u("div",$o,[d(" 本地IO地址: "),e(B,{modelValue:w.value,"onUpdate:modelValue":M[10]||(M[10]=k=>w.value=k),type:"number",onChange:b},null,8,["modelValue"]),Co,d(" 输出点对应位: "),e(F,{modelValue:l.value,"onUpdate:modelValue":M[11]||(M[11]=k=>l.value=k),onChange:b},{default:t(()=>[e(R,{label:"BIT1",value:"0"}),e(R,{label:"BIT2",value:"1"}),e(R,{label:"BIT3",value:"2"}),e(R,{label:"BIT4",value:"3"}),e(R,{label:"BIT5",value:"4"}),e(R,{label:"BIT6",value:"5"}),e(R,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Uo,d(" 信号极性: "),e(F,{modelValue:N.value,"onUpdate:modelValue":M[12]||(M[12]=k=>N.value=k),onChange:b},{default:t(()=>[e(R,{label:"输出高电平有效",value:"0"}),e(R,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):H("",!0),g.value?(o(),u("div",Io,[d(" 远程模块连接到: "),(o(),u(L,null,E(K,(k,q)=>e(D,{key:q,modelValue:w.value,"onUpdate:modelValue":M[13]||(M[13]=ee=>w.value=ee),label:k.value,onChange:W},{default:t(()=>[a("pre",null,X(k.label),1)]),_:2},1032,["modelValue","label"])),64)),No,d(" CAN-IO模块编号: "),e(F,{modelValue:l.value,"onUpdate:modelValue":M[14]||(M[14]=k=>l.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),So,d(" 模块内输出点编号: "),e(F,{modelValue:N.value,"onUpdate:modelValue":M[15]||(M[15]=k=>N.value=k),onChange:b},{default:t(()=>[e(R,{label:"0",value:"0"}),e(R,{label:"1",value:"1"}),e(R,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Mo,d(" 信号极性: "),e(F,{modelValue:c.value,"onUpdate:modelValue":M[16]||(M[16]=k=>c.value=k),onChange:b},{default:t(()=>[e(R,{label:"输出高电平有效",value:"0"}),e(R,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):H("",!0),y.value?(o(),u("div",Oo,[d(" 输入点对应位: "),e(B,{modelValue:w.value,"onUpdate:modelValue":M[17]||(M[17]=k=>w.value=k),onChange:b},null,8,["modelValue"]),Po,d(" 信号极性: "),e(F,{modelValue:l.value,"onUpdate:modelValue":M[18]||(M[18]=k=>l.value=k),onChange:b},{default:t(()=>[e(R,{label:"输出高电平有效",value:"1"}),e(R,{label:"输出低电平有效",value:"0"})]),_:1},8,["modelValue"])])):H("",!0)])):H("",!0)])}}},_e=r(-1),ce=r(-1);const ll=s=>(se("data-v-ea5f8a5c"),s=s(),de(),s),Ao={slot:"footer",class:"dialog-footer"},Bo=ll(()=>a("br",null,null,-1)),Lo=ll(()=>a("h3",null,"安装方向:",-1)),Do={class:"table-container"},Ro={class:"left-table"},Eo=ll(()=>a("h3",null,"机械参数:",-1)),jo={class:"right-table"},To=ll(()=>a("h3",null,"伺服参数:",-1)),zo={slot:"footer",class:"dialog-footer"},Ko="驱动轮",Go="过热检测",Fo={__name:"wheel",props:{wheel:{type:String,required:!0}},setup(s){r(["驱动内坐标X","驱动内坐标Y","单元距离(m)","电机减速比","最大转速rpm","码盘线数","速度","加速度","最大转角"]),r(["CAN端口号","CAN-OPEN编号"]);const x=r(!1);r(!1),r(!1),r(!1),r(!1);const p=r(!1),$=()=>{p.value=!1},V=()=>{$e.value=!$e.value,p.value=!0},f=()=>{x.value=!0},U=()=>{x.value=!1};return(I,_)=>{const g=re,y=he,w=ge,l=be,N=ie,c=Je,m=He;return o(),u("div",null,[e(g,{type:"primary",onClick:f},{default:t(()=>[d("驱动轮")]),_:1}),e(y,{title:Ko,modelValue:x.value,"onUpdate:modelValue":_[16]||(_[16]=A=>x.value=A),visible:x.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[a("div",null,[e(g,{onClick:V,type:"primary"},{default:t(()=>[d("过热检测")]),_:1}),e(y,{title:Go,modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=A=>p.value=A),visible:p.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[a("div",null,[e(Ze,{wheel:s.wheel.wheel_check},null,8,["wheel"])]),a("div",Ao,[e(g,{onClick:_[0]||(_[0]=A=>p.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(g,{onClick:$},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),d("  ")]),Bo,a("div",null,[Lo,e(l,{modelValue:s.wheel.install_dir,"onUpdate:modelValue":_[2]||(_[2]=A=>s.wheel.install_dir=A)},{default:t(()=>[e(w,{label:"正向",value:0}),e(w,{label:"反向",value:1})]),_:1},8,["modelValue"])]),a("div",null,[a("div",Do,[a("div",Ro,[Eo,e(m,{ref:"form",model:s.wheel,"label-width":"120px"},{default:t(()=>[e(c,{label:"驱动内坐标X",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.wheel_x,"onUpdate:modelValue":_[3]||(_[3]=A=>s.wheel.wheel_x=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"驱动内坐标Y",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.wheel_y,"onUpdate:modelValue":_[4]||(_[4]=A=>s.wheel.wheel_y=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"车轮直径",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.unit_dis,"onUpdate:modelValue":_[5]||(_[5]=A=>s.wheel.axis.unit_dis=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.ratio,"onUpdate:modelValue":_[6]||(_[6]=A=>s.wheel.axis.ratio=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.encoder,"onUpdate:modelValue":_[7]||(_[7]=A=>s.wheel.axis.encoder=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"最大转速",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.max_rpm,"onUpdate:modelValue":_[8]||(_[8]=A=>s.wheel.axis.max_rpm=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(c,{label:"加速度",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.acc_vel,"onUpdate:modelValue":_[9]||(_[9]=A=>s.wheel.axis.acc_vel=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),xe(e(c,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.axis.Target,"onUpdate:modelValue":_[10]||(_[10]=A=>s.wheel.axis.Target=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(_e)===0||C(_e)===1]])]),_:1},8,["model"])]),a("div",jo,[To,e(m,{ref:"form",model:s.wheel,"label-width":"130px"},{default:t(()=>[xe(e(c,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.servo.canport_id,"onUpdate:modelValue":_[11]||(_[11]=A=>s.wheel.servo.canport_id=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(_e)===2||C(_e)===3||C(_e)===4||C(_e)===5]]),xe(e(c,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.servo.can_id,"onUpdate:modelValue":_[12]||(_[12]=A=>s.wheel.servo.can_id=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(_e)===0||C(_e)===1]]),xe(e(c,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.servo.canposunit_id,"onUpdate:modelValue":_[13]||(_[13]=A=>s.wheel.servo.canposunit_id=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(_e)===0||C(_e)===1]]),xe(e(c,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[e(N,{modelValue:s.wheel.servo.canopenunit_id,"onUpdate:modelValue":_[14]||(_[14]=A=>s.wheel.servo.canopenunit_id=A),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(_e)===2||C(_e)===3||C(_e)===4||C(_e)===5]])]),_:1},8,["model"])])])]),a("div",zo,[e(g,{onClick:_[15]||(_[15]=A=>x.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(g,{onClick:U},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Jo=te(Fo,[["__scopeId","data-v-ea5f8a5c"]]);const De=s=>(se("data-v-c196a2af"),s=s(),de(),s),Ho=De(()=>a("h3",null,"安装方向:",-1)),Xo={class:"table-container"},qo={class:"left-table"},Yo=De(()=>a("h3",null,"机械参数:",-1)),Wo={class:"right-table"},Qo=De(()=>a("h3",null,"伺服参数:",-1)),Zo=De(()=>a("h3",null,"舵绝对码盘:",-1)),en={key:0},ln=De(()=>a("h3",null,"舵角校正:",-1)),an=De(()=>a("br",null,null,-1)),tn={slot:"footer",class:"dialog-footer"},on="驱动轮",nn={__name:"steer",props:{steer:{type:String,required:!0}},setup(s){const x=r(!1);r(!1),r(!1),r(!1),r(!1),r(!1);const p=()=>{x.value=!0},$=()=>{x.value=!1};return(V,f)=>{const U=re,I=ge,_=be,g=ie,y=Je,w=He,l=Xe,N=he;return o(),u("div",null,[e(U,{type:"primary",onClick:p},{default:t(()=>[d("转舵机构")]),_:1}),e(N,{title:on,modelValue:x.value,"onUpdate:modelValue":f[19]||(f[19]=c=>x.value=c),visible:x.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[a("div",null,[Ho,e(_,{modelValue:s.steer.install_dir,"onUpdate:modelValue":f[0]||(f[0]=c=>s.steer.install_dir=c)},{default:t(()=>[e(I,{label:"正向",value:0}),e(I,{label:"反向",value:1})]),_:1},8,["modelValue"])]),a("div",null,[a("div",Xo,[a("div",qo,[Yo,e(w,{ref:"form",model:s.steer,"label-width":"120px"},{default:t(()=>[e(y,{label:"单元距离",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.unit_dis,"onUpdate:modelValue":f[1]||(f[1]=c=>s.steer.axis.unit_dis=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.ratio,"onUpdate:modelValue":f[2]||(f[2]=c=>s.steer.axis.ratio=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.encoder,"onUpdate:modelValue":f[3]||(f[3]=c=>s.steer.axis.encoder=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"最大角度",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.max_poserr_limit,"onUpdate:modelValue":f[4]||(f[4]=c=>s.steer.axis.max_poserr_limit=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"角加速度",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.acc_vel,"onUpdate:modelValue":f[5]||(f[5]=c=>s.steer.axis.acc_vel=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"角速度",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.vel,"onUpdate:modelValue":f[6]||(f[6]=c=>s.steer.axis.vel=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),xe(e(y,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.axis.Target,"onUpdate:modelValue":f[7]||(f[7]=c=>s.steer.axis.Target=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(ce)===0||C(ce)===1]])]),_:1},8,["model"])]),a("div",Wo,[Qo,e(w,{ref:"form",model:s.steer,"label-width":"130px"},{default:t(()=>[xe(e(y,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.servo.canport_id,"onUpdate:modelValue":f[8]||(f[8]=c=>s.steer.servo.canport_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(ce)===2||C(ce)===3||C(ce)===4||C(ce)===5]]),xe(e(y,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.servo.can_id,"onUpdate:modelValue":f[9]||(f[9]=c=>s.steer.servo.can_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(ce)===0||C(ce)===1]]),xe(e(y,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.servo.canposunit_id,"onUpdate:modelValue":f[10]||(f[10]=c=>s.steer.servo.canposunit_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(ce)===0||C(ce)===1]]),xe(e(y,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.servo.canopenunit_id,"onUpdate:modelValue":f[11]||(f[11]=c=>s.steer.servo.canopenunit_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[Ve,C(ce)===2||C(ce)===3||C(ce)===4||C(ce)===5]])]),_:1},8,["model"])])]),Zo,e(l,{modelValue:s.steer.use_absolute_encoder,"onUpdate:modelValue":f[12]||(f[12]=c=>s.steer.use_absolute_encoder=c)},{default:t(()=>[d("启用舵绝对码盘")]),_:1},8,["modelValue"]),s.steer.use_absolute_encoder?(o(),u("div",en,[e(w,{ref:"form",model:s.steer,"label-width":"130px"},{default:t(()=>[e(y,{label:"码盘CAN端口号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.absolute_encoder_canport_id,"onUpdate:modelValue":f[13]||(f[13]=c=>s.steer.absolute_encoder_canport_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"码盘模块编号",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.absolute_encoder_unit_id,"onUpdate:modelValue":f[14]||(f[14]=c=>s.steer.absolute_encoder_unit_id=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"码盘最大值",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.absolute_encoder_max,"onUpdate:modelValue":f[15]||(f[15]=c=>s.steer.absolute_encoder_max=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),e(y,{label:"零位码盘值",style:{width:"90%"}},{default:t(()=>[e(g,{modelValue:s.steer.absolute_encoder_zero,"onUpdate:modelValue":f[16]||(f[16]=c=>s.steer.absolute_encoder_zero=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):H("",!0),ln,an,e(w,{ref:"form",model:s.steer,"label-width":"130px"},{default:t(()=>[e(y,{label:"零位索引偏差",style:{width:"45%"}},{default:t(()=>[e(g,{modelValue:s.steer.home_offset,"onUpdate:modelValue":f[17]||(f[17]=c=>s.steer.home_offset=c),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),a("div",tn,[e(U,{onClick:f[18]||(f[18]=c=>x.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(U,{onClick:$},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},un=te(nn,[["__scopeId","data-v-c196a2af"]]);const fe=s=>(se("data-v-ec18eb1e"),s=s(),de(),s),sn=fe(()=>a("br",null,null,-1)),dn=fe(()=>a("br",null,null,-1)),rn=fe(()=>a("br",null,null,-1)),_n=fe(()=>a("h3",null,"安装位置:",-1)),cn=fe(()=>a("br",null,null,-1)),pn=fe(()=>a("br",null,null,-1)),vn=fe(()=>a("h3",null,"驱动类型:",-1)),mn=fe(()=>a("br",null,null,-1)),hn=fe(()=>a("br",null,null,-1)),fn={style:{display:"flex","margin-left":"12%"}},yn={key:0},gn={key:1},bn=fe(()=>a("br",null,null,-1)),wn={slot:"footer",class:"dialog-footer"},xn={slot:"footer",class:"dialog-footer"},Vn={slot:"footer",class:"dialog-footer"},kn=fe(()=>a("br",null,null,-1)),$n=fe(()=>a("br",null,null,-1)),Cn={slot:"footer",class:"dialog-footer"},Un=fe(()=>a("br",null,null,-1)),In="驱动单元",Nn={__name:"selectfive",setup(s){const x=r(!1),p=r(!1),$=r(!1),V=()=>{$e.value=!$e.value,x.value=!0},f=()=>{T(),x.value=!1},U=()=>{$e.value=!$e.value,p.value=!0},I=()=>{T(),p.value=!1},_=()=>{$e.value=!$e.value,$.value=!0},g=()=>{T(),$.value=!1},y=()=>{ce.value=l.value.steer.servo_type},w=()=>{_e.value=l.value.wheel.servo_type},l=r({name:"",install_x:0,install_y:0,use_wheel:!1,use_steer:!1,editingIndex:-1,drive_type:0,wheel:{install_dir:0,servo_type:0,wheel_x:0,wheel_y:0,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},wheel_check:[0,2,2,2,0]},steer:{install_dir:0,servo_type:0,use_absolute_encoder:!1,absolute_encoder_canport_id:0,absolute_encoder_unit_id:0,absolute_encoder_max:16777216,absolute_encoder_zero:16777e3,home_offset:54,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},unclockwise_limit_switch:[2,2,1,0,0],clockwise_limit_switch:[2,2,1,1,0],zero_limit_switch:[2,2,1,2,0]}}),N=r(!1),c=()=>{l.value.name="",l.value.install_x=0,l.value.install_y=0,l.value.use_wheel=!1,l.value.use_steer=!1,l.value.drive_type=0,l.value.steer.home_offset=54,l.value.steer.use_absolute_encoder=!1,l.value.steer.absolute_encoder_canport_id=0,l.value.steer.absolute_encoder_unit_id=0,l.value.steer.absolute_encoder_max=16777216,l.value.steer.absolute_encoder_zero=16777e3,l.value.steer.servo_type=0,l.value.steer.install_dir=0,l.value.steer.unclockwise_limit_switch=[2,2,1,0,0],l.value.steer.clockwise_limit_switch=[2,2,1,1,0],l.value.steer.zero_limit_switch=[2,2,1,2,0],l.value.steer.axis.unit_dis=6.28,l.value.steer.axis.encoder=2500,l.value.steer.axis.max_rpm=0,l.value.steer.axis.Target=0,l.value.steer.axis.max_poserr_limit=0,l.value.steer.axis.vel=1,l.value.steer.axis.acc_vel=.3,l.value.steer.axis.ratio=20,l.value.steer.servo.canport_id=0,l.value.steer.servo.canposunit_id=0,l.value.steer.servo.canopenunit_id=0,l.value.steer.servo.can_id=11,l.value.editingIndex=-1,l.value.wheel.wheel_check=[0,2,2,2,0],l.value.wheel.install_dir=0,l.value.wheel.wheel_x=0,l.value.wheel.wheel_y=0,l.value.wheel.servo_type=0,l.value.wheel.axis.unit_dis=0,l.value.wheel.axis.encoder=2500,l.value.wheel.axis.max_rpm=0,l.value.wheel.axis.Target=0,l.value.wheel.axis.max_poserr_limit=0,l.value.wheel.axis.vel=1,l.value.wheel.axis.acc_vel=.3,l.value.wheel.axis.ratio=20,l.value.wheel.servo.canport_id=0,l.value.wheel.servo.canposunit_id=0,l.value.wheel.servo.canopenunit_id=0,l.value.wheel.servo.can_id=11,console.log(h),N.value=!0},m=b=>{l.value.name=h.value[b].name,l.value.editingIndex=b,l.value.install_x=h.value[b].install_x,l.value.install_y=h.value[b].install_y,l.value.use_wheel=h.value[b].use_wheel,l.value.drive_type=h.value[b].drive_type,l.value.wheel.wheel_check=h.value[b].wheel.wheel_check,l.value.wheel.install_dir=h.value[b].wheel.install_dir,l.value.wheel.wheel_x=h.value[b].wheel.wheel_x,l.value.wheel.wheel_y=h.value[b].wheel.wheel_y,l.value.wheel.axis.unit_dis=h.value[b].wheel.axis.unit_dis,l.value.wheel.axis.encoder=h.value[b].wheel.axis.encoder,l.value.wheel.axis.max_rpm=h.value[b].wheel.axis.max_rpm,l.value.wheel.axis.Target=h.value[b].wheel.axis.Target,l.value.wheel.axis.max_poserr_limit=h.value[b].wheel.axis.max_poserr_limit,l.value.wheel.axis.vel=h.value[b].wheel.axis.vel,l.value.wheel.axis.acc_vel=h.value[b].wheel.axis.acc_vel,l.value.wheel.axis.ratio=h.value[b].wheel.axis.ratio,l.value.wheel.servo.canport_id=h.value[b].wheel.servo.canport_id,l.value.wheel.servo.canposunit_id=h.value[b].wheel.servo.canposunit_id,l.value.wheel.servo.canopenunit_id=h.value[b].wheel.servo.canopenunit_id,l.value.wheel.servo.can_id=h.value[b].wheel.servo.can_id,l.value.steer.axis.unit_dis=h.value[b].steer.axis.unit_dis,l.value.steer.axis.encoder=h.value[b].steer.axis.encoder,l.value.steer.axis.max_rpm=h.value[b].steer.axis.max_rpm,l.value.steer.axis.Target=h.value[b].steer.axis.Target,l.value.steer.axis.max_poserr_limit=h.value[b].steer.axis.max_poserr_limit,l.value.steer.axis.vel=h.value[b].steer.axis.vel,l.value.steer.axis.acc_vel=h.value[b].steer.axis.acc_vel,l.value.steer.axis.ratio=h.value[b].steer.axis.ratio,l.value.steer.servo.canport_id=h.value[b].steer.servo.canport_id,l.value.steer.servo.canposunit_id=h.value[b].steer.servo.canposunit_id,l.value.steer.servo.canopenunit_id=h.value[b].steer.servo.canopenunit_id,l.value.steer.servo.can_id=h.value[b].steer.servo.can_id,l.value.wheel.servo_type=h.value[b].wheel.servo_type,l.value.use_steer=h.value[b].use_steer,l.value.steer.home_offset=h.value[b].steer.home_offset,l.value.steer.use_absolute_encoder=h.value[b].steer.use_absolute_encoder,l.value.steer.absolute_encoder_canport_id=h.value[b].steer.absolute_encoder_canport_id,l.value.steer.absolute_encoder_unit_id=h.value[b].steer.absolute_encoder_unit_id,l.value.steer.absolute_encoder_max=h.value[b].steer.absolute_encoder_max,l.value.steer.absolute_encoder_zero=h.value[b].steer.absolute_encoder_zero,l.value.steer.servo_type=h.value[b].steer.servo_type,l.value.steer.install_dir=h.value[b].steer.install_dir,l.value.steer.unclockwise_limit_switch=h.value[b].steer.unclockwise_limit_switch,console.log("333333,",h.value[b].steer.unclockwise_limit_switch),console.log("2222222,",l.value.steer.unclockwise_limit_switch),l.value.steer.clockwise_limit_switch=h.value[b].steer.clockwise_limit_switch,l.value.steer.zero_limit_switch=h.value[b].steer.zero_limit_switch,_e.value=l.value.wheel.servo_type,ce.value=l.value.steer.servo_type,console.log(h),N.value=!0},A=()=>{if(l.value.name){if(l.value.editingIndex!==-1)h.value[l.value.editingIndex].name=l.value.name,h.value[l.value.editingIndex].install_x=l.value.install_x,h.value[l.value.editingIndex].install_y=l.value.install_y,h.value[l.value.editingIndex].use_wheel=l.value.use_wheel,h.value[l.value.editingIndex].use_steer=l.value.use_steer,h.value[l.value.editingIndex].drive_type=l.value.drive_type,h.value[l.value.editingIndex].wheel.install_dir=l.value.wheel.install_dir,h.value[l.value.editingIndex].wheel.wheel_x=l.value.wheel.wheel_x,h.value[l.value.editingIndex].wheel.wheel_y=l.value.wheel.wheel_y,h.value[l.value.editingIndex].wheel.axis.unit_dis=l.value.wheel.axis.unit_dis,h.value[l.value.editingIndex].wheel.axis.encoder=l.value.wheel.axis.encoder,h.value[l.value.editingIndex].wheel.axis.max_rpm=l.value.wheel.axis.max_rpm,h.value[l.value.editingIndex].wheel.axis.Target=l.value.wheel.axis.Target,h.value[l.value.editingIndex].wheel.axis.max_poserr_limit=l.value.wheel.axis.max_poserr_limit,h.value[l.value.editingIndex].wheel.axis.vel=l.value.wheel.axis.vel,h.value[l.value.editingIndex].wheel.axis.acc_vel=l.value.wheel.axis.acc_vel,h.value[l.value.editingIndex].wheel.axis.ratio=l.value.wheel.axis.ratio,h.value[l.value.editingIndex].wheel.servo.canport_id=l.value.wheel.servo.canport_id,h.value[l.value.editingIndex].wheel.servo.canposunit_id=l.value.wheel.servo.canposunit_id,h.value[l.value.editingIndex].wheel.servo.canopenunit_id=l.value.wheel.servo.canopenunit_id,h.value[l.value.editingIndex].wheel.servo.can_id=l.value.wheel.servo.can_id,h.value[l.value.editingIndex].steer.axis.unit_dis=l.value.steer.axis.unit_dis,h.value[l.value.editingIndex].steer.axis.encoder=l.value.steer.axis.encoder,h.value[l.value.editingIndex].steer.axis.max_rpm=l.value.steer.axis.max_rpm,h.value[l.value.editingIndex].steer.axis.Target=l.value.steer.axis.Target,h.value[l.value.editingIndex].steer.axis.max_poserr_limit=l.value.steer.axis.max_poserr_limit,h.value[l.value.editingIndex].steer.axis.vel=l.value.steer.axis.vel,h.value[l.value.editingIndex].steer.axis.acc_vel=l.value.steer.axis.acc_vel,h.value[l.value.editingIndex].steer.axis.ratio=l.value.steer.axis.ratio,h.value[l.value.editingIndex].steer.servo.canport_id=l.value.steer.servo.canport_id,h.value[l.value.editingIndex].steer.servo.canposunit_id=l.value.steer.servo.canposunit_id,h.value[l.value.editingIndex].steer.servo.canopenunit_id=l.value.steer.servo.canopenunit_id,h.value[l.value.editingIndex].steer.servo.can_id=l.value.steer.servo.can_id,h.value[l.value.editingIndex].wheel.servo_type=l.value.wheel.servo_type,l.value.wheel.wheel_check.value!==void 0&&(h.value[l.value.editingIndex].wheel.wheel_check=l.value.wheel.wheel_check.value),l.value.steer.unclockwise_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.unclockwise_limit_switch=l.value.steer.unclockwise_limit_switch.value,console.log("111111111",h.value[l.value.editingIndex].steer.unclockwise_limit_switch)),l.value.steer.clockwise_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.clockwise_limit_switch=l.value.steer.clockwise_limit_switch.value),l.value.steer.zero_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.zero_limit_switch=l.value.steer.zero_limit_switch.value),h.value[l.value.editingIndex].steer.home_offset=l.value.steer.home_offset,h.value[l.value.editingIndex].steer.use_absolute_encoder=l.value.steer.use_absolute_encoder,h.value[l.value.editingIndex].steer.absolute_encoder_canport_id=l.value.steer.absolute_encoder_canport_id,h.value[l.value.editingIndex].steer.absolute_encoder_unit_id=l.value.steer.absolute_encoder_unit_id,h.value[l.value.editingIndex].steer.absolute_encoder_max=l.value.steer.absolute_encoder_max,h.value[l.value.editingIndex].steer.absolute_encoder_zero=l.value.steer.absolute_encoder_zero,h.value[l.value.editingIndex].steer.servo_type=l.value.steer.servo_type,h.value[l.value.editingIndex].steer.install_dir=l.value.steer.install_dir,n.value.Kinematic.drive=h,console.log(h);else{l.value.wheel.wheel_check.value!==void 0&&(l.value.wheel.wheel_check=l.value.wheel.wheel_check.value),l.value.steer.unclockwise_limit_switch.value!==void 0&&(l.value.steer.unclockwise_limit_switch=l.value.steer.unclockwise_limit_switch.value),l.value.steer.clockwise_limit_switch.value!==void 0&&(l.value.steer.clockwise_limit_switch=l.value.steer.clockwise_limit_switch.value),l.value.steer.zero_limit_switch.value!==void 0&&(l.value.steer.zero_limit_switch=l.value.steer.zero_limit_switch.value);const b={...l.value};h.value.push(JSON.parse(JSON.stringify(b))),n.value.Kinematic.drive=h,console.log(h)}N.value=!1}else Ce.error("请填写完整数据")},T=()=>{l.value.editingIndex!==-1?(h.value[l.value.editingIndex].name=l.value.name,h.value[l.value.editingIndex].install_x=l.value.install_x,h.value[l.value.editingIndex].install_y=l.value.install_y,h.value[l.value.editingIndex].use_wheel=l.value.use_wheel,h.value[l.value.editingIndex].use_steer=l.value.use_steer,h.value[l.value.editingIndex].drive_type=l.value.drive_type,h.value[l.value.editingIndex].wheel.install_dir=l.value.wheel.install_dir,h.value[l.value.editingIndex].wheel.wheel_x=l.value.wheel.wheel_x,h.value[l.value.editingIndex].wheel.wheel_y=l.value.wheel.wheel_y,h.value[l.value.editingIndex].wheel.axis.unit_dis=l.value.wheel.axis.unit_dis,h.value[l.value.editingIndex].wheel.axis.encoder=l.value.wheel.axis.encoder,h.value[l.value.editingIndex].wheel.axis.max_rpm=l.value.wheel.axis.max_rpm,h.value[l.value.editingIndex].wheel.axis.Target=l.value.wheel.axis.Target,h.value[l.value.editingIndex].wheel.axis.max_poserr_limit=l.value.wheel.axis.max_poserr_limit,h.value[l.value.editingIndex].wheel.axis.vel=l.value.wheel.axis.vel,h.value[l.value.editingIndex].wheel.axis.acc_vel=l.value.wheel.axis.acc_vel,h.value[l.value.editingIndex].wheel.axis.ratio=l.value.wheel.axis.ratio,h.value[l.value.editingIndex].wheel.servo.canport_id=l.value.wheel.servo.canport_id,h.value[l.value.editingIndex].wheel.servo.canposunit_id=l.value.wheel.servo.canposunit_id,h.value[l.value.editingIndex].wheel.servo.canopenunit_id=l.value.wheel.servo.canopenunit_id,h.value[l.value.editingIndex].wheel.servo.can_id=l.value.wheel.servo.can_id,h.value[l.value.editingIndex].steer.axis.unit_dis=l.value.steer.axis.unit_dis,h.value[l.value.editingIndex].steer.axis.encoder=l.value.steer.axis.encoder,h.value[l.value.editingIndex].steer.axis.max_rpm=l.value.steer.axis.max_rpm,h.value[l.value.editingIndex].steer.axis.Target=l.value.steer.axis.Target,h.value[l.value.editingIndex].steer.axis.max_poserr_limit=l.value.steer.axis.max_poserr_limit,h.value[l.value.editingIndex].steer.axis.vel=l.value.steer.axis.vel,h.value[l.value.editingIndex].steer.axis.acc_vel=l.value.steer.axis.acc_vel,h.value[l.value.editingIndex].steer.axis.ratio=l.value.steer.axis.ratio,h.value[l.value.editingIndex].steer.servo.canport_id=l.value.steer.servo.canport_id,h.value[l.value.editingIndex].steer.servo.canposunit_id=l.value.steer.servo.canposunit_id,h.value[l.value.editingIndex].steer.servo.canopenunit_id=l.value.steer.servo.canopenunit_id,h.value[l.value.editingIndex].steer.servo.can_id=l.value.steer.servo.can_id,h.value[l.value.editingIndex].wheel.servo_type=l.value.wheel.servo_type,l.value.wheel.wheel_check.value!==void 0&&(h.value[l.value.editingIndex].wheel.wheel_check=l.value.wheel.wheel_check.value),l.value.steer.unclockwise_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.unclockwise_limit_switch=l.value.steer.unclockwise_limit_switch.value,console.log("111111111",h.value[l.value.editingIndex].steer.unclockwise_limit_switch)),l.value.steer.clockwise_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.clockwise_limit_switch=l.value.steer.clockwise_limit_switch.value),l.value.steer.zero_limit_switch.value!==void 0&&(h.value[l.value.editingIndex].steer.zero_limit_switch=l.value.steer.zero_limit_switch.value),h.value[l.value.editingIndex].steer.home_offset=l.value.steer.home_offset,h.value[l.value.editingIndex].steer.use_absolute_encoder=l.value.steer.use_absolute_encoder,h.value[l.value.editingIndex].steer.absolute_encoder_canport_id=l.value.steer.absolute_encoder_canport_id,h.value[l.value.editingIndex].steer.absolute_encoder_unit_id=l.value.steer.absolute_encoder_unit_id,h.value[l.value.editingIndex].steer.absolute_encoder_max=l.value.steer.absolute_encoder_max,h.value[l.value.editingIndex].steer.absolute_encoder_zero=l.value.steer.absolute_encoder_zero,h.value[l.value.editingIndex].steer.servo_type=l.value.steer.servo_type,h.value[l.value.editingIndex].steer.install_dir=l.value.steer.install_dir):(l.value.wheel.wheel_check.value!==void 0&&(l.value.wheel.wheel_check=l.value.wheel.wheel_check.value),l.value.steer.unclockwise_limit_switch.value!==void 0&&(l.value.steer.unclockwise_limit_switch=l.value.steer.unclockwise_limit_switch.value),l.value.steer.clockwise_limit_switch.value!==void 0&&(l.value.steer.clockwise_limit_switch=l.value.steer.clockwise_limit_switch.value),l.value.steer.zero_limit_switch.value!==void 0&&(l.value.steer.zero_limit_switch=l.value.steer.zero_limit_switch.value)),n.value.Kinematic.drive=h},z=b=>{console.log("11111",b),h.value.splice(b,1)};return(b,i)=>{const K=re,W=Be,me=Le,le=ie,M=Je,Q=He,D=ge,R=be,F=Xe,B=he;return o(),u("div",null,[e(me,{data:C(h),style:{width:"100%"},class:"tableDataCrtl"},{default:t(()=>[e(W,{prop:"name",label:"名称"},{default:t(k=>[e(K,{type:"text",onClick:q=>m(k.$index)},{default:t(()=>[d(X(C(h)[k.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),e(W,{label:"驱动类型"},{default:t(k=>[e(K,{type:"text",onClick:q=>m(k.$index)},{default:t(()=>[d(X(C(n).Kinematic.drive[k.$index].drive_type==0?"普通驱动类型":"差速驱动类型"),1)]),_:2},1032,["onClick"])]),_:1}),e(W,{label:"车体坐标X(m)"},{default:t(k=>[d(X(C(n).Kinematic.drive[k.$index].install_x),1)]),_:1}),e(W,{label:"车体坐标Y(m)"},{default:t(k=>[d(X(C(n).Kinematic.drive[k.$index].install_y),1)]),_:1}),e(W,{label:"操作"},{default:t(k=>[e(K,{type:"danger",onClick:q=>z(k.$index)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),sn,e(K,{type:"primary",onClick:c},{default:t(()=>[d("添加驱动单元")]),_:1}),e(B,{title:In,modelValue:N.value,"onUpdate:modelValue":i[15]||(i[15]=k=>N.value=k),visible:N.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[dn,e(Q,{ref:"form",model:l.value,"label-width":"80px"},{default:t(()=>[e(M,{label:"名称"},{default:t(()=>[e(le,{modelValue:l.value.name,"onUpdate:modelValue":i[0]||(i[0]=k=>l.value.name=k),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(Q,{ref:"form",model:l.value,"label-width":"200px"},{default:t(()=>[rn,_n,cn,e(M,{label:"车体坐标系坐标X(m):"},{default:t(()=>[e(le,{modelValue:l.value.install_x,"onUpdate:modelValue":i[1]||(i[1]=k=>l.value.install_x=k),modelModifiers:{number:!0},type:"number",onChange:b.AGVpos},null,8,["modelValue","onChange"])]),_:1}),e(M,{label:"车体坐标系坐标Y(m):"},{default:t(()=>[e(le,{modelValue:l.value.install_y,"onUpdate:modelValue":i[2]||(i[2]=k=>l.value.install_y=k),modelModifiers:{number:!0},type:"number",onChange:b.AGVpos},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model"]),pn,e(Q,{"label-width":"120px"},{default:t(()=>[vn,mn,e(M,{label:"类型:"},{default:t(()=>[e(R,{modelValue:l.value.drive_type,"onUpdate:modelValue":i[3]||(i[3]=k=>l.value.drive_type=k),placeholder:"请选择"},{default:t(()=>[e(D,{label:"普通驱动类型",value:0}),e(D,{label:"差速驱动类型",value:1})]),_:1},8,["modelValue"]),hn]),_:1}),e(M,{label:"安装有驱动轮:"},{default:t(()=>[e(F,{modelValue:l.value.use_wheel,"onUpdate:modelValue":i[4]||(i[4]=k=>l.value.use_wheel=k),onChange:w},{default:t(()=>[d("      ")]),_:1},8,["modelValue"]),d(" 驱动伺服类型   "),e(R,{modelValue:l.value.wheel.servo_type,"onUpdate:modelValue":i[5]||(i[5]=k=>l.value.wheel.servo_type=k),placeholder:"请选择",disabled:!l.value.use_wheel,onChange:w},{default:t(()=>[e(D,{label:"无",value:0}),e(D,{label:"普通MCU",value:1}),e(D,{label:"差速MCU",value:2}),e(D,{label:"SOFT-MCU",value:3}),e(D,{label:"Elmo伺服",value:5}),e(D,{label:"步科伺服",value:4}),e(D,{label:"Motec伺服",value:6}),e(D,{label:"AMC伺服",value:7})]),_:1},8,["modelValue","disabled"])]),_:1}),e(M,{label:"安装有转舵机构:"},{default:t(()=>[e(F,{modelValue:l.value.use_steer,"onUpdate:modelValue":i[6]||(i[6]=k=>l.value.use_steer=k),onChange:y},{default:t(()=>[d("      ")]),_:1},8,["modelValue"]),d(" 驱动伺服类型   "),e(R,{modelValue:l.value.steer.servo_type,"onUpdate:modelValue":i[7]||(i[7]=k=>l.value.steer.servo_type=k),placeholder:"请选择",disabled:!l.value.use_steer,onChange:y},{default:t(()=>[e(D,{label:"无",value:0}),e(D,{label:"普通MCU",value:1}),e(D,{label:"差速MCU",value:2}),e(D,{label:"SOFT-MCU",value:3}),e(D,{label:"Elmo伺服",value:5}),e(D,{label:"步科伺服",value:4}),e(D,{label:"Motec伺服",value:6}),e(D,{label:"AMC伺服",value:7})]),_:1},8,["modelValue","disabled"])]),_:1}),a("div",fn,[l.value.use_wheel?(o(),u("div",yn,[e(Jo,{wheel:l.value.wheel,onChange:T},null,8,["wheel"])])):H("",!0),d("      "),l.value.use_steer?(o(),u("div",gn,[e(un,{steer:l.value.steer,onChange:T},null,8,["steer"]),bn,e(K,{onClick:V,type:"primary"},{default:t(()=>[d("限位开关1")]),_:1}),e(B,{title:"限位开关1",modelValue:x.value,"onUpdate:modelValue":i[9]||(i[9]=k=>x.value=k),visible:x.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[a("div",null,[e(Ze,{wheel:l.value.steer.unclockwise_limit_switch},null,8,["wheel"])]),a("div",wn,[e(K,{onClick:i[8]||(i[8]=k=>x.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(K,{onClick:f},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),d("  "),e(K,{onClick:U,type:"primary"},{default:t(()=>[d("限位开关2")]),_:1}),e(B,{title:"限位开关2",modelValue:p.value,"onUpdate:modelValue":i[11]||(i[11]=k=>p.value=k),visible:p.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[a("div",null,[e(Ze,{wheel:l.value.steer.clockwise_limit_switch},null,8,["wheel"])]),a("div",xn,[e(K,{onClick:i[10]||(i[10]=k=>p.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(K,{onClick:I},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),d("  "),e(K,{onClick:_,type:"primary"},{default:t(()=>[d("零位开关")]),_:1}),e(B,{title:"零位开关",modelValue:$.value,"onUpdate:modelValue":i[13]||(i[13]=k=>$.value=k),visible:$.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[a("div",null,[e(Ze,{wheel:l.value.steer.zero_limit_switch},null,8,["wheel"])]),a("div",Vn,[e(K,{onClick:i[12]||(i[12]=k=>$.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(K,{onClick:g},{default:t(()=>[d("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),d(" "),kn])):H("",!0)])]),_:1}),$n,a("div",Cn,[e(K,{onClick:i[14]||(i[14]=k=>N.value=!1),style:{"margin-left":"75%"}},{default:t(()=>[d("取 消")]),_:1}),e(K,{type:"primary",onClick:A},{default:t(()=>[d("确定")]),_:1})]),Un]),_:1})]),_:1},8,["modelValue","visible"])])}}},Sn=te(Nn,[["__scopeId","data-v-ec18eb1e"]]);const Pe=s=>(se("data-v-f833591c"),s=s(),de(),s),Mn={style:{display:"flex",gap:"20px","flex-wrap":"nowrap"}},On=Pe(()=>a("h3",null,"设置延时时间",-1)),Pn=Pe(()=>a("h3",null,"使能前延时时间",-1)),An=Pe(()=>a("span",null,"前延时时间(ms):",-1)),Bn=Pe(()=>a("h3",null,"给定前延时时间",-1)),Ln=Pe(()=>a("span",null,"给定前延时时间(ms):",-1)),Dn=Pe(()=>a("br",null,null,-1)),Rn=Pe(()=>a("div",null,null,-1)),En={__name:"Kinematic",setup(s){const x=r(!0),p=r(!1),$=r(!1),V=r(!1),f=r(!1),U=()=>{ke.value?(n.value.Kinematic.delay.need_delay_time=!0,n.value.Kinematic.delay.servoenable_delay_time=parseInt(Ge.value),n.value.Kinematic.delay.servospeed_delay_time=parseInt(Fe.value)):(n.value.Kinematic.delay.need_delay_time=!1,n.value.Kinematic.delay.servoenable_delay_time=200,n.value.Kinematic.delay.servospeed_delay_time=200)};return el(ul,()=>{switch(ul.value){case"1":x.value=!0,p.value=!1,$.value=!1,V.value=!1,f.value=!1,n.value.Kinematic.type=1;return;case"2":x.value=!1,p.value=!0,$.value=!1,V.value=!1,f.value=!1,n.value.Kinematic.type=2;return;case"3":x.value=!1,p.value=!1,$.value=!0,V.value=!1,f.value=!1,n.value.Kinematic.type=3;return;case"4":x.value=!1,p.value=!1,$.value=!1,V.value=!0,f.value=!1,n.value.Kinematic.type=4;return;case"5":x.value=!1,p.value=!1,$.value=!1,V.value=!1,f.value=!0,n.value.Kinematic.type=5;return}}),(_,g)=>{const y=Se,w=Xe,l=ve,N=ie,c=Me;return o(),u("div",null,[e(c,null,{default:t(()=>[e(y,{label:"车体"},{default:t(()=>[e(Sn)]),_:1}),e(y,{label:"伺服延时"},{default:t(()=>[a("div",Mn,[e(l,{class:"card",style:{"margin-bottom":"10px"}},{default:t(()=>[On,e(w,{modelValue:C(ke),"onUpdate:modelValue":g[0]||(g[0]=m=>tl(ke)?ke.value=m:null),onChange:U},{default:t(()=>[d(" 轮或舵因伺服响应慢需要设置延时时间 ")]),_:1},8,["modelValue"])]),_:1}),C(ke)?(o(),P(l,{key:0,class:"card",style:{"margin-bottom":"10px"}},{default:t(()=>[Pn,An,e(N,{modelValue:C(Ge),"onUpdate:modelValue":g[1]||(g[1]=m=>tl(Ge)?Ge.value=m:null),disabled:!C(ke),type:"number",style:{width:"10vw"},onChange:U},null,8,["modelValue","disabled"])]),_:1})):H("",!0),C(ke)?(o(),P(l,{key:1,class:"card"},{default:t(()=>[Bn,Ln,e(N,{modelValue:C(Fe),"onUpdate:modelValue":g[2]||(g[2]=m=>tl(Fe)?Fe.value=m:null),disabled:!C(ke),type:"number",style:{width:"10vw"},onChange:U},null,8,["modelValue","disabled"])]),_:1})):H("",!0)])]),_:1})]),_:1}),Dn,Rn])}}},jn=te(En,[["__scopeId","data-v-f833591c"]]);const Ae=s=>(se("data-v-30f16115"),s=s(),de(),s),Tn={class:"page-container main-view"},zn={class:"left"},Kn=Ae(()=>a("hr",{class:"hengxian"},null,-1)),Gn={class:"left"},Fn=Ae(()=>a("hr",{class:"hengxian2"},null,-1)),Jn=Ae(()=>a("h3",null,"⚠️ 车体模型",-1)),Hn={key:0},Xn=Ae(()=>a("hr",{class:"hengxian3"},null,-1)),qn=Ae(()=>a("h3",null,"⚠️ 运行参数",-1)),Yn=Ae(()=>a("br",null,null,-1)),Wn=Ae(()=>a("hr",{class:"hengxian2"},null,-1)),Qn={__name:"wheelmode",setup(s){const x=r(!1),p=()=>{x.value=!0},$=r(!1);r(!0),r(!0);const V=r(!0),f=ye(()=>JSON.stringify(n.value,null,2)),U=()=>{$.value=!0},I=()=>{ae.value=1},_=()=>{ae.value=3};return(g,y)=>{const w=re,l=he,N=Se,c=Me;return o(),u("div",null,[a("div",Tn,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",zn,[e(w,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(l,{modelValue:x.value,"onUpdate:modelValue":y[0]||(y[0]=m=>x.value=m),title:"设备总览",visible:x.value,width:"900px",onClose:y[1]||(y[1]=m=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(w,{type:"info",onClick:U},{default:t(()=>[d(" 查看 ")]),_:1}),e(l,{modelValue:$.value,"onUpdate:modelValue":y[2]||(y[2]=m=>$.value=m),title:"数据",visible:$.value,onClose:y[3]||(y[3]=m=>$.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X(f.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(w,{type:"primary",onClick:I},{default:t(()=>[d("上一步")]),_:1}),e(w,{type:"primary",onClick:_},{default:t(()=>[d("下一步")]),_:1})]),Kn,a("div",Gn,[Fn,Jn,V.value?(o(),u("div",Hn,[e(jn)])):H("",!0),Xn,qn,Yn,e(c,null,{default:t(()=>[e(N,{label:"公共参数"},{default:t(()=>[e(so)]),_:1}),e(N,{label:"手动参数"},{default:t(()=>[e(uo)]),_:1}),e(N,{label:"自动参数"},{default:t(()=>[e(vo)]),_:1})]),_:1})]),Wn]),_:1})])])}}},Zn=te(Qn,[["__scopeId","data-v-30f16115"]]);const qe=s=>(se("data-v-b319fe3d"),s=s(),de(),s),eu={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},lu={class:"input-group"},au=qe(()=>a("label",null,"名称:",-1)),tu={class:"button-values"},ou={class:"input-group"},nu=qe(()=>a("label",null,"IO:",-1)),uu={key:0,class:"input-group"},su=qe(()=>a("label",null,"can路数:",-1)),du={key:1,class:"input-group"},iu={key:0},ru={key:1},_u={class:"input-group"},cu={key:0},pu={key:1},vu=qe(()=>a("br",null,null,-1)),mu={key:2},hu={class:"input-group"},fu=qe(()=>a("label",null,"电平:",-1)),yu={__name:"index",setup(s){const x=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],p=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],$=()=>{n.value.SafetyLoop.Bumper.push({name:"请输入名称",io_input:[2,2,2,2,0]})},V=w=>{n.value.SafetyLoop.Bumper.splice(w,1)},f=w=>{[3,2,5].includes(n.value.SafetyLoop.Bumper[w].io_input[0])||(n.value.SafetyLoop.Bumper[w].io_input[1]=2),[1].includes(n.value.SafetyLoop.Bumper[w].io_input[0])||(n.value.SafetyLoop.Bumper[w].io_input[2]=2,n.value.SafetyLoop.Bumper[w].io_input[3]=2)},U=w=>[3,2,5].includes(n.value.SafetyLoop.Bumper[w].io_input[0]),I=w=>!_(w),_=w=>n.value.SafetyLoop.Bumper[w].io_input[0]===4,g=w=>n.value.SafetyLoop.Bumper[w].io_input[0]===1,y=w=>{const l=parseInt(n.value.SafetyLoop.Bumper[w].io_input[3],16);n.value.SafetyLoop.Bumper[w].io_input[3]=isNaN(l)?2:parseInt(n.value.SafetyLoop.Bumper[w].io_input[3],16)};return(w,l)=>{const N=re,c=ie,m=ge,A=be,T=ve;return o(),u(L,null,[e(N,{type:"primary",onClick:$,style:{"margin-left":"1vw"}},{default:t(()=>[d("添加卡片")]),_:1}),a("div",eu,[(o(!0),u(L,null,E(C(n).SafetyLoop.Bumper,(z,b)=>(o(),P(T,{key:b,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",lu,[au,e(c,{modelValue:z.name,"onUpdate:modelValue":i=>z.name=i,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e(N,{type:"danger",onClick:i=>V(b)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",tu,[a("div",ou,[nu,e(A,{modelValue:z.io_input[0],"onUpdate:modelValue":i=>z.io_input[0]=i,placeholder:"选择类型",onChange:i=>f(b),style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(x,i=>e(m,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),U(b)?(o(),u("div",uu,[su,e(A,{modelValue:z.io_input[1],"onUpdate:modelValue":i=>z.io_input[1]=i,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(p,i=>e(m,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),I(b)?(o(),u("div",du,[g(b)?(o(),u("label",iu,"本地IO地址:")):(o(),u("label",ru,"模块编号:")),g(b)?(o(),P(c,{key:2,modelValue:z.io_input[2],"onUpdate:modelValue":i=>z.io_input[2]=i,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(A,{key:3,modelValue:z.io_input[2],"onUpdate:modelValue":i=>z.io_input[2]=i,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(m,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",_u,[g(b)?(o(),u("label",cu,"输出点对应位:")):_(b)?(o(),u("label",pu,[d("输入点对应位:"),vu,d("自动转化")])):(o(),u("label",mu,"模块内输出点编号:")),g(b)?(o(),P(A,{key:3,modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(i,K)=>K),i=>(o(),P(m,{key:i,label:"bit"+i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):_(b)?(o(),P(c,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,modelModifiers:{number:!0},onChange:i=>y(b)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(A,{key:5,modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(m,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",hu,[fu,e(A,{modelValue:z.io_input[4],"onUpdate:modelValue":i=>z.io_input[4]=i,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(m,{label:"高",value:1}),e(m,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},gu=te(yu,[["__scopeId","data-v-b319fe3d"]]);const al=s=>(se("data-v-63eb732f"),s=s(),de(),s),bu={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},wu={class:"input-group"},xu={class:"button-values"},Vu={class:"input-group"},ku=al(()=>a("label",null,"IO:",-1)),$u={key:0,class:"input-group"},Cu=al(()=>a("label",null,"can路数:",-1)),Uu={key:1,class:"input-group"},Iu={key:0},Nu={key:1},Su={class:"input-group"},Mu={key:0},Ou={key:1},Pu=al(()=>a("br",null,null,-1)),Au={key:2},Bu={class:"input-group"},Lu=al(()=>a("label",null,"电平:",-1)),Du={__name:"index",setup(s){const x=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],p=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],$=()=>{[3,2,5].includes(n.value.SafetyLoop.PowerRelay.io_input[0])||(n.value.SafetyLoop.PowerRelay.io_input[1]=2),[1].includes(n.value.SafetyLoop.PowerRelay.io_input[0])||(n.value.SafetyLoop.PowerRelay.io_input[2]=2,n.value.SafetyLoop.PowerRelay.io_input[3]=2)},V=()=>[3,2,5].includes(n.value.SafetyLoop.PowerRelay.io_input[0]),f=()=>!U(),U=()=>n.value.SafetyLoop.PowerRelay.io_input[0]===4,I=()=>n.value.SafetyLoop.PowerRelay.io_input[0]===1,_=()=>{const g=parseInt(n.value.SafetyLoop.PowerRelay.io_input[3],16);n.value.SafetyLoop.PowerRelay.io_input[3]=isNaN(g)?2:parseInt(n.value.SafetyLoop.PowerRelay.io_input[3],16)};return(g,y)=>{const w=ge,l=be,N=ie,c=ve;return o(),u("div",bu,[e(c,{class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",wu,[a("strong",null,X(C(n).SafetyLoop.PowerRelay.name),1)]),a("div",xu,[a("div",Vu,[ku,e(l,{modelValue:C(n).SafetyLoop.PowerRelay.io_input[0],"onUpdate:modelValue":y[0]||(y[0]=m=>C(n).SafetyLoop.PowerRelay.io_input[0]=m),placeholder:"选择类型",onChange:$,style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(x,m=>e(w,{key:m.value,label:m.label,value:m.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),V()?(o(),u("div",$u,[Cu,e(l,{modelValue:C(n).SafetyLoop.PowerRelay.io_input[1],"onUpdate:modelValue":y[1]||(y[1]=m=>C(n).SafetyLoop.PowerRelay.io_input[1]=m),placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(p,m=>e(w,{key:m.value,label:m.label,value:m.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])):H("",!0),f()?(o(),u("div",Uu,[I()?(o(),u("label",Iu,"本地IO地址:")):(o(),u("label",Nu,"模块编号:")),I()?(o(),P(N,{key:2,modelValue:C(n).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":y[2]||(y[2]=m=>C(n).SafetyLoop.PowerRelay.io_input[2]=m),modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])):(o(),P(l,{key:3,modelValue:C(n).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":y[3]||(y[3]=m=>C(n).SafetyLoop.PowerRelay.io_input[2]=m),placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(m,A)=>A+1),m=>(o(),P(w,{key:m,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))])):H("",!0),a("div",Su,[I()?(o(),u("label",Mu,"输出点对应位:")):U()?(o(),u("label",Ou,[d("输入点对应位:"),Pu,d("自动转化")])):(o(),u("label",Au,"模块内输出点编号:")),I()?(o(),P(l,{key:3,modelValue:C(n).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":y[4]||(y[4]=m=>C(n).SafetyLoop.PowerRelay.io_input[3]=m),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(m,A)=>A+1),m=>(o(),P(w,{key:m,label:"bit"+m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):U()?(o(),P(N,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:C(n).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":y[5]||(y[5]=m=>C(n).SafetyLoop.PowerRelay.io_input[3]=m),modelModifiers:{number:!0},onChange:_},null,8,["modelValue"])):(o(),P(l,{key:5,modelValue:C(n).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":y[6]||(y[6]=m=>C(n).SafetyLoop.PowerRelay.io_input[3]=m),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(m,A)=>A+1),m=>(o(),P(w,{key:m,label:m,value:m},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]),a("div",Bu,[Lu,e(l,{modelValue:C(n).SafetyLoop.PowerRelay.io_input[4],"onUpdate:modelValue":y[7]||(y[7]=m=>C(n).SafetyLoop.PowerRelay.io_input[4]=m),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(w,{label:"高",value:1}),e(w,{label:"低",value:0})]),_:1},8,["modelValue"])])])]),_:1})])}}},Ru=te(Du,[["__scopeId","data-v-63eb732f"]]);const Re=s=>(se("data-v-2c69850f"),s=s(),de(),s),Eu={style:{display:"flex",gap:"20px","flex-wrap":"wrap"}},ju={class:"button-values"},Tu={class:"input-group"},zu=Re(()=>a("label",null,"IO:",-1)),Ku={key:0,class:"input-group"},Gu=Re(()=>a("label",null,"can路数:",-1)),Fu={key:1,class:"input-group"},Ju={key:0},Hu={key:1},Xu={class:"input-group"},qu={key:0},Yu={key:1},Wu=Re(()=>a("br",null,null,-1)),Qu={key:2},Zu={class:"input-group"},es=Re(()=>a("label",null,"电平:",-1)),ls={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},as=Re(()=>a("h4",null,"类型",-1)),ts=Re(()=>a("h4",null,"Modbus 类型",-1)),os={__name:"index",setup(s){const x=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],p=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],$=y=>{switch(y){case"startBtn":return"启动按钮";case"manualSwt":return"手动";case"autoSwt":return"自动";case"brakeBtn":return"抱闸";case"emgBtn":return"急停";default:return y}},V=y=>{console.log("1111",y);const w=parseInt(n.value.Panel.Button[y][3],16);n.value.Panel.Button[y][3]=isNaN(w)?2:parseInt(n.value.Panel.Button[y][3],16)},f=y=>{[1,2,4].includes(n.value.Panel.Button[y][0])||(n.value.Panel.Button[y][1]=2),[3].includes(n.value.Panel.Button[y][0])||(n.value.Panel.Button[y][2]=2,n.value.Panel.Button[y][3]=2)},U=y=>[3,2,5].includes(n.value.Panel.Button[y][0]),I=y=>!_(y),_=y=>n.value.Panel.Button[y][0]===4,g=y=>n.value.Panel.Button[y][0]===1;return(y,w)=>{const l=ge,N=be,c=ie,m=ve,A=Se,T=Me;return o(),P(T,null,{default:t(()=>[e(A,{label:"开关设置"},{default:t(()=>[a("div",Eu,[(o(!0),u(L,null,E(C(n).Panel.Button,(z,b)=>(o(),P(m,{key:b,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("h4",null,X($(b)),1),a("div",ju,[a("div",Tu,[zu,e(N,{modelValue:C(n).Panel.Button[b][0],"onUpdate:modelValue":i=>C(n).Panel.Button[b][0]=i,placeholder:"选择类型",onChange:i=>f(b),style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(x,i=>e(l,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),U(b)?(o(),u("div",Ku,[Gu,e(N,{modelValue:C(n).Panel.Button[b][1],"onUpdate:modelValue":i=>C(n).Panel.Button[b][1]=i,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(p,i=>e(l,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),I(b)?(o(),u("div",Fu,[g(b)?(o(),u("label",Ju,"本地IO地址:")):(o(),u("label",Hu,"模块编号:")),g(b)?(o(),P(c,{key:2,modelValue:C(n).Panel.Button[b][2],"onUpdate:modelValue":i=>C(n).Panel.Button[b][2]=i,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(N,{key:3,modelValue:C(n).Panel.Button[b][2],"onUpdate:modelValue":i=>C(n).Panel.Button[b][2]=i,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(l,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",Xu,[g(b)?(o(),u("label",qu,"输出点对应位:")):_(b)?(o(),u("label",Yu,[d("输入点对应位:"),Wu,d("自动转化")])):(o(),u("label",Qu,"模块内输出点编号:")),g(b)?(o(),P(N,{key:3,modelValue:C(n).Panel.Button[b][3],"onUpdate:modelValue":i=>C(n).Panel.Button[b][3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(i,K)=>K),i=>(o(),P(l,{key:i,label:"bit"+i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):_(b)?(o(),P(c,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:C(n).Panel.Button[b][3],"onUpdate:modelValue":i=>C(n).Panel.Button[b][3]=i,modelModifiers:{number:!0},onChange:i=>V(b)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(N,{key:5,modelValue:C(n).Panel.Button[b][3],"onUpdate:modelValue":i=>C(n).Panel.Button[b][3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(l,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",Zu,[es,e(N,{modelValue:C(n).Panel.Button[b][4],"onUpdate:modelValue":i=>C(n).Panel.Button[b][4]=i,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(l,{label:"高",value:1}),e(l,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])]),_:1}),e(A,{label:"屏幕"},{default:t(()=>[a("div",ls,[e(m,{"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[as,e(N,{modelValue:C(n).Panel.Display.type,"onUpdate:modelValue":w[0]||(w[0]=z=>C(n).Panel.Display.type=z),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(l,{label:"无屏幕",value:0}),e(l,{label:"modus屏幕",value:1}),e(l,{label:"数码管",value:2})]),_:1},8,["modelValue"])]),_:1}),C(n).Panel.Display.type===1?(o(),P(m,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[ts,e(N,{modelValue:C(n).Panel.Display.modbus.type,"onUpdate:modelValue":w[1]||(w[1]=z=>C(n).Panel.Display.modbus.type=z),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(l,{label:"网口屏幕",value:"TCP"}),e(l,{label:"串口屏幕",value:"RTU"})]),_:1},8,["modelValue"])]),_:1})):H("",!0)])]),_:1})]),_:1})}}},ns=te(os,[["__scopeId","data-v-2c69850f"]]);r(!1);r({name:"",value:[1,1,1,1,1,1],editingIndex:-1});r(!1);r({name:"",value:[1,1,1,1,1,1],editingIndex:-1});const Ye=s=>(se("data-v-7b7cdc98"),s=s(),de(),s),us={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ss={class:"input-group"},ds=Ye(()=>a("label",null,"名称:",-1)),is={class:"button-values"},rs={class:"input-group"},_s=Ye(()=>a("label",null,"IO:",-1)),cs={key:0,class:"input-group"},ps=Ye(()=>a("label",null,"can路数:",-1)),vs={key:1,class:"input-group"},ms={key:0},hs={key:1},fs={class:"input-group"},ys={key:0},gs={key:1},bs=Ye(()=>a("br",null,null,-1)),ws={key:2},xs={class:"input-group"},Vs=Ye(()=>a("label",null,"电平:",-1)),ks={__name:"index",setup(s){const x=[{label:"CAN-POS",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],p=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],$=()=>{n.value.SafetyLoop.Emg.push({name:"请输入名称",io_input:[2,2,2,2,0]})},V=w=>{n.value.SafetyLoop.Emg.splice(w,1)},f=w=>{[3,2,5].includes(n.value.SafetyLoop.Emg[w].io_input[0])||(n.value.SafetyLoop.Emg[w].io_input[1]=2),[1].includes(n.value.SafetyLoop.Emg[w].io_input[0])||(n.value.SafetyLoop.Emg[w].io_input[2]=2,n.value.SafetyLoop.Emg[w].io_input[3]=2)},U=w=>[3,2,5].includes(n.value.SafetyLoop.Emg[w].io_input[0]),I=w=>!_(w),_=w=>n.value.SafetyLoop.Emg[w].io_input[0]===4,g=w=>n.value.SafetyLoop.Emg[w].io_input[0]===1,y=w=>{const l=parseInt(n.value.SafetyLoop.Emg[w].io_input[3],16);n.value.SafetyLoop.Emg[w].io_input[3]=isNaN(l)?2:parseInt(n.value.SafetyLoop.Emg[w].io_input[3],16)};return(w,l)=>{const N=re,c=ie,m=ge,A=be,T=ve;return o(),u(L,null,[e(N,{type:"primary",onClick:$,style:{"margin-left":"1vw"}},{default:t(()=>[d("添加卡片")]),_:1}),a("div",us,[(o(!0),u(L,null,E(C(n).SafetyLoop.Emg,(z,b)=>(o(),P(T,{key:b,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",ss,[ds,e(c,{modelValue:z.name,"onUpdate:modelValue":i=>z.name=i,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e(N,{type:"danger",onClick:i=>V(b)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",is,[a("div",rs,[_s,e(A,{modelValue:z.io_input[0],"onUpdate:modelValue":i=>z.io_input[0]=i,placeholder:"选择类型",onChange:i=>f(b),style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(x,i=>e(m,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),U(b)?(o(),u("div",cs,[ps,e(A,{modelValue:z.io_input[1],"onUpdate:modelValue":i=>z.io_input[1]=i,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(p,i=>e(m,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),I(b)?(o(),u("div",vs,[g(b)?(o(),u("label",ms,"本地IO地址:")):(o(),u("label",hs,"模块编号:")),g(b)?(o(),P(c,{key:2,modelValue:z.io_input[2],"onUpdate:modelValue":i=>z.io_input[2]=i,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(A,{key:3,modelValue:z.io_input[2],"onUpdate:modelValue":i=>z.io_input[2]=i,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(m,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",fs,[g(b)?(o(),u("label",ys,"输出点对应位:")):_(b)?(o(),u("label",gs,[d("输入点对应位:"),bs,d("自动转化")])):(o(),u("label",ws,"模块内输出点编号:")),g(b)?(o(),P(A,{key:3,modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(i,K)=>K),i=>(o(),P(m,{key:i,label:"bit"+i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):_(b)?(o(),P(c,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,modelModifiers:{number:!0},onChange:i=>y(b)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(A,{key:5,modelValue:z.io_input[3],"onUpdate:modelValue":i=>z.io_input[3]=i,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(i,K)=>K),i=>(o(),P(m,{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",xs,[Vs,e(A,{modelValue:z.io_input[4],"onUpdate:modelValue":i=>z.io_input[4]=i,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(m,{label:"高",value:1}),e(m,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},$s=te(ks,[["__scopeId","data-v-7b7cdc98"]]);const Cs={class:"flex-container"},Us={class:"battery-info"},Is={__name:"Better",setup(s){const x=p=>{switch(p){case"normal_percent":return"正常电量";case"low_percent":return"低电量";case"lower_percent":return"较低电量";default:return p}};return(p,$)=>{const V=ie,f=ve;return o(),u("div",Cs,[(o(!0),u(L,null,E(C(n).Battery,(U,I)=>(o(),P(f,{class:"battery-card",key:I},{default:t(()=>[a("h3",null,X(x(I)),1),a("div",Us,[e(V,{modelValue:C(n).Battery[I],"onUpdate:modelValue":_=>C(n).Battery[I]=_,modelModifiers:{number:!0},min:0,max:100,type:"number",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),a("p",null,X(C(n).Battery[I])+"%",1)])]),_:2},1024))),128))])}}},Ns=te(Is,[["__scopeId","data-v-e2278816"]]);const oe=s=>(se("data-v-6af71411"),s=s(),de(),s),Ss={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Ms={key:0},Os={class:"input-group"},Ps=oe(()=>a("label",null,"名称:",-1)),As={class:"input-group"},Bs=oe(()=>a("label",null,"类型:",-1)),Ls={key:0},Ds={class:"input-group"},Rs=oe(()=>a("label",null,"IO类型:",-1)),Es={style:{display:"flex","flex-wrap":"wrap",gap:"10px","margin-top":"10px"}},js={class:"button-values"},Ts={class:"input-group"},zs=oe(()=>a("label",null,"IO:",-1)),Ks={key:0,class:"input-group"},Gs=oe(()=>a("label",null,"can路数:",-1)),Fs={key:1,class:"input-group"},Js={key:0},Hs={key:1},Xs={class:"input-group"},qs={key:0},Ys={key:1},Ws=oe(()=>a("br",null,null,-1)),Qs={key:2},Zs={class:"input-group"},ed=oe(()=>a("label",null,"电平:",-1)),ld={style:{display:"flex","flex-wrap":"wrap",gap:"10px","margin-top":"10px"}},ad=oe(()=>a("strong",null,"近:",-1)),td={class:"button-values"},od={class:"input-group"},nd=oe(()=>a("label",null,"IO:",-1)),ud={key:0,class:"input-group"},sd=oe(()=>a("label",null,"can路数:",-1)),dd={key:1,class:"input-group"},id={key:0},rd={key:1},_d={class:"input-group"},cd={key:0},pd={key:1},vd=oe(()=>a("br",null,null,-1)),md={key:2},hd={class:"input-group"},fd=oe(()=>a("label",null,"电平:",-1)),yd=oe(()=>a("strong",null,"中:",-1)),gd={class:"button-values"},bd={class:"input-group"},wd=oe(()=>a("label",null,"IO:",-1)),xd={key:0,class:"input-group"},Vd=oe(()=>a("label",null,"can路数:",-1)),kd={key:1,class:"input-group"},$d={key:0},Cd={key:1},Ud={class:"input-group"},Id={key:0},Nd={key:1},Sd=oe(()=>a("br",null,null,-1)),Md={key:2},Od={class:"input-group"},Pd=oe(()=>a("label",null,"电平:",-1)),Ad=oe(()=>a("strong",null,"远:",-1)),Bd={class:"button-values"},Ld={class:"input-group"},Dd=oe(()=>a("label",null,"IO:",-1)),Rd={key:0,class:"input-group"},Ed=oe(()=>a("label",null,"can路数:",-1)),jd={key:1,class:"input-group"},Td={key:0},zd={key:1},Kd={class:"input-group"},Gd={key:0},Fd={key:1},Jd=oe(()=>a("br",null,null,-1)),Hd={key:2},Xd={class:"input-group"},qd=oe(()=>a("label",null,"电平:",-1)),Yd={key:1},Wd={class:"input-group"},Qd=oe(()=>a("label",null,"IP地址:",-1)),Zd={class:"input-group"},ei=oe(()=>a("label",null,"端口:",-1)),li={key:1},ai={class:"input-group"},ti=oe(()=>a("label",null,"名称:",-1)),oi=oe(()=>a("br",null,null,-1)),ni={__name:"index",setup(s){const x=r({}),p=B=>{x.value[B]=!x.value[B]},$=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],V=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],f=()=>{n.value.SafetyLoop.Pls.push({name:"请输入名称",type:0,config:{io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}})},U=B=>{n.value.SafetyLoop.Pls.splice(B,1)},I=B=>{const k=n.value.SafetyLoop.Pls[B];k.type===0?k.config={io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}:k.type===1&&(k.config.net={ip:"192.168.3.101",port:8002},k.config.io={type:0,area:[],near:[0,0,0,0,0],center:[0,0,0,0,0],far:[0,0,0,0,0]})},_=B=>{n.value.SafetyLoop.Pls[B].config.io.area.push({area_output:[0,0,0,0,0]})},g=(B,k)=>{n.value.SafetyLoop.Pls[B].config.io.area.splice(k,1)},y=B=>[3,2,5].includes(n.value.SafetyLoop.Pls[B].config.io.near[0]),w=B=>[3,2,5].includes(n.value.SafetyLoop.Pls[B].config.io.center[0]),l=B=>[3,2,5].includes(n.value.SafetyLoop.Pls[B].config.io.far[0]),N=(B,k)=>[3,2,5].includes(n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[0]),c=(B,k)=>!b(B),m=(B,k)=>n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[0]===4,A=(B,k)=>n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[0]===1,T=(B,k)=>{const q=parseInt(n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[3],16);n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[3]=isNaN(q)?2:parseInt(n.value.SafetyLoop.Pls[B].config.io.area[k].area_output[3],16)},z=B=>!b(B),b=B=>n.value.SafetyLoop.Pls[B].config.io.near[0]===4,i=B=>!K(B),K=B=>n.value.SafetyLoop.Pls[B].config.io.center[0]===4,W=B=>!me(B),me=B=>n.value.SafetyLoop.Pls[B].config.io.far[0]===4,le=B=>n.value.SafetyLoop.Pls[B].config.io.near[0]===1,M=B=>n.value.SafetyLoop.Pls[B].config.io.center[0]===1,Q=B=>n.value.SafetyLoop.Pls[B].config.io.far[0]===1,D=B=>{const k=parseInt(n.value.SafetyLoop.Pls[B].config.io.near[3],16);n.value.SafetyLoop.Pls[B].config.io.near[3]=isNaN(k)?2:parseInt(n.value.SafetyLoop.Pls[B].config.io.near[3],16)},R=B=>{const k=parseInt(n.value.SafetyLoop.Pls[B].config.io.center[3],16);n.value.SafetyLoop.Pls[B].config.io.center[3]=isNaN(k)?2:parseInt(n.value.SafetyLoop.Pls[B].config.io.center[3],16)},F=B=>{const k=parseInt(n.value.SafetyLoop.Pls[B].config.io.far[3],16);n.value.SafetyLoop.Pls[B].config.io.far[3]=isNaN(k)?2:parseInt(n.value.SafetyLoop.Pls[B].config.io.far[3],16)};return(B,k)=>{const q=re,ee=ie,J=ge,G=be,j=ve;return o(),u(L,null,[e(q,{type:"primary",onClick:f,style:{"margin-left":"1vw"}},{default:t(()=>[d("添加卡片")]),_:1}),a("div",Ss,[(o(!0),u(L,null,E(C(n).SafetyLoop.Pls,(O,S)=>(o(),P(j,{key:S,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[x.value[S]?(o(),u("div",Ms,[a("div",Os,[Ps,e(ee,{modelValue:O.name,"onUpdate:modelValue":v=>O.name=v,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e(q,{type:"danger",onClick:v=>U(S)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",As,[Bs,e(G,{modelValue:O.type,"onUpdate:modelValue":v=>O.type=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"},onChange:v=>I(S)},{default:t(()=>[e(J,{label:"IO",value:0}),e(J,{label:"网口",value:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),O.type===0?(o(),u("div",Ls,[a("div",Ds,[Rs,e(G,{modelValue:O.config.io.type,"onUpdate:modelValue":v=>O.config.io.type=v,placeholder:"选择IO类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(J,{label:"正常类型",value:1}),e(J,{label:"互斥类型",value:2}),e(J,{label:"单点切区",value:3}),e(J,{label:"多点切区",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),e(j,null,{default:t(()=>[e(q,{type:"success",onClick:v=>_(S),style:{"margin-top":"10px"}},{default:t(()=>[d("添加切区")]),_:2},1032,["onClick"]),a("div",Es,[(o(!0),u(L,null,E(O.config.io.area,(v,Z)=>(o(),u("div",{key:Z,class:"input-group"},[e(j,{style:{flex:"1","min-width":"150px",padding:"10px"}},{default:t(()=>[a("label",null,"切区 "+X(Z+1)+":",1),e(q,{type:"danger",onClick:Y=>g(S,Z)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"]),a("div",js,[a("div",Ts,[zs,e(G,{modelValue:v.area_output[0],"onUpdate:modelValue":Y=>v.area_output[0]=Y,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E($,Y=>e(J,{key:Y.value,label:Y.label,value:Y.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),N(S,Z)?(o(),u("div",Ks,[Gs,e(G,{modelValue:v.area_output[1],"onUpdate:modelValue":Y=>v.area_output[1]=Y,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(V,Y=>e(J,{key:Y.value,label:Y.label,value:Y.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),c(S,Z)?(o(),u("div",Fs,[A(S,Z)?(o(),u("label",Js,"本地IO地址:")):(o(),u("label",Hs,"模块编号:")),A(S,Z)?(o(),P(ee,{key:2,modelValue:v.area_output[2],"onUpdate:modelValue":Y=>v.area_output[2]=Y,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(G,{key:3,modelValue:v.area_output[2],"onUpdate:modelValue":Y=>v.area_output[2]=Y,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(Y,Ne)=>Ne),Y=>(o(),P(J,{key:Y,label:Y,value:Y},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",Xs,[A(S,Z)?(o(),u("label",qs,"输出点对应位:")):m(S,Z)?(o(),u("label",Ys,[d("输入点对应位:"),Ws,d("自动转化")])):(o(),u("label",Qs,"模块内输出点编号:")),A(S,Z)?(o(),P(G,{key:3,modelValue:v.area_output[3],"onUpdate:modelValue":Y=>v.area_output[3]=Y,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(Y,Ne)=>Ne),Y=>(o(),P(J,{key:Y,label:"bit"+Y,value:Y},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):m(S,Z)?(o(),P(ee,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:v.area_output[3],"onUpdate:modelValue":Y=>v.area_output[3]=Y,modelModifiers:{number:!0},onChange:Y=>T(S,Z)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(G,{key:5,modelValue:v.area_output[3],"onUpdate:modelValue":Y=>v.area_output[3]=Y,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(Y,Ne)=>Ne),Y=>(o(),P(J,{key:Y,label:Y,value:Y},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",Zs,[ed,e(G,{modelValue:v.area_output[4],"onUpdate:modelValue":Y=>v.area_output[4]=Y,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(J,{label:"高",value:1}),e(J,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)]))),128))])]),_:2},1024),a("div",ld,[e(j,{class:"plscard"},{default:t(()=>[ad,a("div",td,[a("div",od,[nd,e(G,{modelValue:O.config.io.near[0],"onUpdate:modelValue":v=>O.config.io.near[0]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E($,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),y(S)?(o(),u("div",ud,[sd,e(G,{modelValue:O.config.io.near[1],"onUpdate:modelValue":v=>O.config.io.near[1]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(V,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),z(S)?(o(),u("div",dd,[le(S)?(o(),u("label",id,"本地IO地址:")):(o(),u("label",rd,"模块编号:")),le(S)?(o(),P(ee,{key:2,modelValue:O.config.io.near[2],"onUpdate:modelValue":v=>O.config.io.near[2]=v,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(G,{key:3,modelValue:O.config.io.near[2],"onUpdate:modelValue":v=>O.config.io.near[2]=v,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",_d,[le(S)?(o(),u("label",cd,"输出点对应位:")):b(S)?(o(),u("label",pd,[d("输入点对应位:"),vd,d("自动转化")])):(o(),u("label",md,"模块内输出点编号:")),le(S)?(o(),P(G,{key:3,modelValue:O.config.io.near[3],"onUpdate:modelValue":v=>O.config.io.near[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:"bit"+v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):b(S)?(o(),P(ee,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:O.config.io.near[3],"onUpdate:modelValue":v=>O.config.io.near[3]=v,modelModifiers:{number:!0},onChange:v=>D(S)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(G,{key:5,modelValue:O.config.io.near[3],"onUpdate:modelValue":v=>O.config.io.near[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",hd,[fd,e(G,{modelValue:O.config.io.near[4],"onUpdate:modelValue":v=>O.config.io.near[4]=v,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(J,{label:"高",value:1}),e(J,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),e(j,{class:"plscard"},{default:t(()=>[yd,a("div",gd,[a("div",bd,[wd,e(G,{modelValue:O.config.io.center[0],"onUpdate:modelValue":v=>O.config.io.center[0]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E($,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),w(S)?(o(),u("div",xd,[Vd,e(G,{modelValue:O.config.io.center[1],"onUpdate:modelValue":v=>O.config.io.center[1]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(V,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),i(S)?(o(),u("div",kd,[M(S)?(o(),u("label",$d,"本地IO地址:")):(o(),u("label",Cd,"模块编号:")),M(S)?(o(),P(ee,{key:2,modelValue:O.config.io.center[2],"onUpdate:modelValue":v=>O.config.io.center[2]=v,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(G,{key:3,modelValue:O.config.io.center[2],"onUpdate:modelValue":v=>O.config.io.center[2]=v,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",Ud,[M(S)?(o(),u("label",Id,"输出点对应位:")):K(S)?(o(),u("label",Nd,[d("输入点对应位:"),Sd,d("自动转化")])):(o(),u("label",Md,"模块内输出点编号:")),M(S)?(o(),P(G,{key:3,modelValue:O.config.io.center[3],"onUpdate:modelValue":v=>O.config.io.center[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:"bit"+v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):K(S)?(o(),P(ee,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:O.config.io.center[3],"onUpdate:modelValue":v=>O.config.io.center[3]=v,modelModifiers:{number:!0},onChange:v=>R(S)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(G,{key:5,modelValue:O.config.io.center[3],"onUpdate:modelValue":v=>O.config.io.center[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",Od,[Pd,e(G,{modelValue:O.config.io.center[4],"onUpdate:modelValue":v=>O.config.io.center[4]=v,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(J,{label:"高",value:1}),e(J,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),e(j,{class:"plscard"},{default:t(()=>[Ad,a("div",Bd,[a("div",Ld,[Dd,e(G,{modelValue:O.config.io.far[0],"onUpdate:modelValue":v=>O.config.io.far[0]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E($,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),l(S)?(o(),u("div",Rd,[Ed,e(G,{modelValue:O.config.io.far[1],"onUpdate:modelValue":v=>O.config.io.far[1]=v,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(),u(L,null,E(V,v=>e(J,{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):H("",!0),W(S)?(o(),u("div",jd,[Q(S)?(o(),u("label",Td,"本地IO地址:")):(o(),u("label",zd,"模块编号:")),Q(S)?(o(),P(ee,{key:2,modelValue:O.config.io.far[2],"onUpdate:modelValue":v=>O.config.io.far[2]=v,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),P(G,{key:3,modelValue:O.config.io.far[2],"onUpdate:modelValue":v=>O.config.io.far[2]=v,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):H("",!0),a("div",Kd,[Q(S)?(o(),u("label",Gd,"输出点对应位:")):me(S)?(o(),u("label",Fd,[d("输入点对应位:"),Jd,d("自动转化")])):(o(),u("label",Hd,"模块内输出点编号:")),Q(S)?(o(),P(G,{key:3,modelValue:O.config.io.far[3],"onUpdate:modelValue":v=>O.config.io.far[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:10},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:"bit"+v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):me(S)?(o(),P(ee,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:O.config.io.far[3],"onUpdate:modelValue":v=>O.config.io.far[3]=v,modelModifiers:{number:!0},onChange:v=>F(S)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(o(),P(G,{key:5,modelValue:O.config.io.far[3],"onUpdate:modelValue":v=>O.config.io.far[3]=v,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[(o(!0),u(L,null,E(Array.from({length:100},(v,Z)=>Z),v=>(o(),P(J,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),a("div",Xd,[qd,e(G,{modelValue:O.config.io.far[4],"onUpdate:modelValue":v=>O.config.io.far[4]=v,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:t(()=>[e(J,{label:"高",value:1}),e(J,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)])])):O.type===1?(o(),u("div",Yd,[a("div",Wd,[Qd,e(ee,{modelValue:O.config.net.ip,"onUpdate:modelValue":v=>O.config.net.ip=v,placeholder:"输入IP地址",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Zd,[ei,e(ee,{modelValue:O.config.net.port,"onUpdate:modelValue":v=>O.config.net.port=v,modelModifiers:{number:!0},placeholder:"输入端口",type:"number",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])])):H("",!0)])):(o(),u("div",li,[a("div",ai,[ti,e(ee,{modelValue:O.name,"onUpdate:modelValue":v=>O.name=v,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e(q,{type:"danger",onClick:v=>U(S)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])])])),oi,e(q,{onClick:v=>p(S)},{default:t(()=>[d("展开/折叠")]),_:2},1032,["onClick"])]),_:2},1024))),128))])],64)}}},ui=te(ni,[["__scopeId","data-v-6af71411"]]);const Ee=s=>(se("data-v-691c9272"),s=s(),de(),s),si={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},di=Ee(()=>a("h4",null,"手控盒类型",-1)),ii=Ee(()=>a("h4",null,"无线",-1)),ri=Ee(()=>a("br",null,null,-1)),_i=Ee(()=>a("br",null,null,-1)),ci=Ee(()=>a("h4",null,"串口",-1)),pi=Ee(()=>a("h4",null,"网口",-1)),vi={__name:"index",setup(s){return(x,p)=>{const $=ge,V=be,f=ve,U=ie;return o(),u("div",si,[e(f,{"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[di,e(V,{modelValue:C(n).ManCtrlDevice.type,"onUpdate:modelValue":p[0]||(p[0]=I=>C(n).ManCtrlDevice.type=I),placeholder:"",style:{"margin-right":"10px",width:"10vw"}},{default:t(()=>[e($,{label:"com手控盒",value:1}),e($,{label:"can手控盒",value:2})]),_:1},8,["modelValue"])]),_:1}),e(f,{"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[ii,ri,d(" ip: "),e(U,{modelValue:C(n).ManCtrlDevice.remoteDevice.ip,"onUpdate:modelValue":p[1]||(p[1]=I=>C(n).ManCtrlDevice.remoteDevice.ip=I),placeholder:"",type:"string",style:{width:"15vw"}},null,8,["modelValue"]),_i,d(" 端口: "),e(U,{modelValue:C(n).ManCtrlDevice.remoteDevice.port,"onUpdate:modelValue":p[2]||(p[2]=I=>C(n).ManCtrlDevice.remoteDevice.port=I),modelModifiers:{number:!0},placeholder:"",type:"number",style:{width:"15vw"}},null,8,["modelValue"])]),_:1}),C(n).ManCtrlDevice.type===1?(o(),P(f,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[ci,e(U,{modelValue:C(n).ManCtrlDevice.com.com_id,"onUpdate:modelValue":p[3]||(p[3]=I=>C(n).ManCtrlDevice.com.com_id=I),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):H("",!0),C(n).ManCtrlDevice.type===2?(o(),P(f,{key:1,"body-style":{padding:"20px"},class:"button-card"},{default:t(()=>[pi,e(U,{modelValue:C(n).ManCtrlDevice.can.can_id,"onUpdate:modelValue":p[4]||(p[4]=I=>C(n).ManCtrlDevice.can.can_id=I),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):H("",!0)])}}},mi=te(vi,[["__scopeId","data-v-691c9272"]]);const pe=s=>(se("data-v-92cf6098"),s=s(),de(),s),hi={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},fi={class:"input-group"},yi=pe(()=>a("label",null,"名称:",-1)),gi={class:"input-group"},bi=pe(()=>a("label",null,"类型:",-1)),wi={key:0},xi=pe(()=>a("h4",null,"传感器配置:",-1)),Vi={class:"input-group"},ki=pe(()=>a("label",null,"X 限制:",-1)),$i={class:"input-group"},Ci=pe(()=>a("label",null,"角度限制:",-1)),Ui={class:"input-group"},Ii=pe(()=>a("label",null,"死算距离:",-1)),Ni={class:"input-group"},Si=pe(()=>a("label",null,"高级死算距离:",-1)),Mi={class:"input-group"},Oi=pe(()=>a("label",null,"传感器类型:",-1)),Pi={class:"input-group"},Ai=pe(()=>a("label",null,"方向:",-1)),Bi={class:"input-group"},Li=pe(()=>a("label",null,"分辨率:",-1)),Di={class:"input-group"},Ri=pe(()=>a("label",null,"CAN 端口 ID:",-1)),Ei={class:"input-group"},ji=pe(()=>a("label",null,"单元 ID:",-1)),Ti={class:"input-group"},zi=pe(()=>a("label",null,"X 安装位置:",-1)),Ki={class:"input-group"},Gi=pe(()=>a("label",null,"Y 安装位置:",-1)),Fi={class:"input-group"},Ji=pe(()=>a("label",null,"X 安装位置:",-1)),Hi={class:"input-group"},Xi=pe(()=>a("label",null,"Y 安装位置:",-1)),qi={__name:"index",setup(s){const x=()=>{n.value.NavSys.push({name:"请输入名称",type:1,sensor:[{x_limit:.1,thita_limit:.174,deadReckoningDist:.3,highLevel_deadReckoningDist:.1}]})},p=U=>{n.value.NavSys.splice(U,1)},$=U=>{const I=n.value.NavSys[U].type===1?{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}:{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0};n.value.NavSys[U].sensor.push(I)},V=(U,I)=>{n.value.NavSys[U].sensor.splice(I,1)},f=U=>{U.type===1?U.sensor=[{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}]:U.type===2?U.sensor=[{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0}]:U.sensor=[{x_install:0,y_install:0}]};return(U,I)=>{const _=re,g=ie,y=ge,w=be,l=ve;return o(),u(L,null,[e(_,{type:"primary",onClick:x,style:{"margin-left":"1vw"}},{default:t(()=>[d("添加卡片")]),_:1}),a("div",hi,[(o(!0),u(L,null,E(C(n).NavSys,(N,c)=>(o(),P(l,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:t(()=>[a("div",fi,[yi,e(g,{modelValue:N.name,"onUpdate:modelValue":m=>N.name=m,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),e(_,{type:"danger",onClick:m=>p(c)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),a("div",gi,[bi,e(w,{modelValue:N.type,"onUpdate:modelValue":m=>N.type=m,onChange:m=>f(N),placeholder:"选择类型",style:{width:"150px","margin-right":"10px"}},{default:t(()=>[e(y,{label:"轮廓导航",value:1}),e(y,{label:"磁导航",value:2}),e(y,{label:"惯性导航",value:3}),e(y,{label:"二维码导航",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),N.sensor?(o(),u("div",wi,[xi,(o(!0),u(L,null,E(N.sensor,(m,A)=>(o(),u("div",{key:A,class:"sensor-group"},[N.type===1?(o(),P(l,{key:0},{default:t(()=>[a("div",Vi,[ki,e(g,{modelValue:m.x_limit,"onUpdate:modelValue":T=>m.x_limit=T,placeholder:"输入 X 限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",$i,[Ci,e(g,{modelValue:m.thita_limit,"onUpdate:modelValue":T=>m.thita_limit=T,placeholder:"输入角度限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ui,[Ii,e(g,{modelValue:m.deadReckoningDist,"onUpdate:modelValue":T=>m.deadReckoningDist=T,placeholder:"输入死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ni,[Si,e(g,{modelValue:m.highLevel_deadReckoningDist,"onUpdate:modelValue":T=>m.highLevel_deadReckoningDist=T,placeholder:"输入高级死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),e(_,{type:"danger",onClick:T=>V(c,A)},{default:t(()=>[d("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):N.type===2?(o(),P(l,{key:1},{default:t(()=>[a("div",Mi,[Oi,e(g,{modelValue:m.type,"onUpdate:modelValue":T=>m.type=T,placeholder:"输入传感器类型",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Pi,[Ai,e(g,{modelValue:m.dir,"onUpdate:modelValue":T=>m.dir=T,placeholder:"输入方向",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Bi,[Li,e(g,{modelValue:m.resolution,"onUpdate:modelValue":T=>m.resolution=T,placeholder:"输入分辨率",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Di,[Ri,e(g,{modelValue:m.canport_id,"onUpdate:modelValue":T=>m.canport_id=T,placeholder:"输入 CAN 端口 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ei,[ji,e(g,{modelValue:m.unit_id,"onUpdate:modelValue":T=>m.unit_id=T,placeholder:"输入单元 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ti,[zi,e(g,{modelValue:m.x_install,"onUpdate:modelValue":T=>m.x_install=T,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Ki,[Gi,e(g,{modelValue:m.y_install,"onUpdate:modelValue":T=>m.y_install=T,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),e(_,{type:"danger",onClick:T=>V(c,A)},{default:t(()=>[d("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):N.type===3||N.type===4?(o(),P(l,{key:2},{default:t(()=>[a("div",Fi,[Ji,e(g,{modelValue:m.x_install,"onUpdate:modelValue":T=>m.x_install=T,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Hi,[Xi,e(g,{modelValue:m.y_install,"onUpdate:modelValue":T=>m.y_install=T,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),e(_,{type:"danger",onClick:T=>V(c,A)},{default:t(()=>[d("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):H("",!0)]))),128)),e(_,{type:"success",onClick:m=>$(c)},{default:t(()=>[d("添加传感器")]),_:2},1032,["onClick"])])):H("",!0)]),_:2},1024))),128))])],64)}}},Yi=te(qi,[["__scopeId","data-v-92cf6098"]]);r(!0);r({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0});const je=s=>(se("data-v-85504a28"),s=s(),de(),s),Wi={class:"page-container main-view"},Qi={class:"left"},Zi=je(()=>a("hr",{class:"hengxian"},null,-1)),er={class:"left"},lr=je(()=>a("hr",{class:"hengxian2"},null,-1)),ar=je(()=>a("h3",null,"⚠️ 面板:",-1)),tr=je(()=>a("br",null,null,-1)),or=je(()=>a("hr",{class:"hengxian3"},null,-1)),nr=je(()=>a("hr",{class:"hengxian2"},null,-1)),ur={__name:"electrion",setup(s){const x=r(!1),p=()=>{x.value=!0},$=ye(()=>JSON.stringify(n.value,null,2));r(!0),r(!0),r(!0),r(!0);const V=r(!1);r(!0),r(!0),r(!0);const f=()=>{V.value=!0},U=()=>{ae.value=2},I=()=>{ae.value=5};return(_,g)=>{const y=re,w=he;return o(),u("div",null,[a("div",Wi,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",Qi,[e(y,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(w,{modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=l=>x.value=l),title:"设备总览",visible:x.value,width:"900px",onClose:g[1]||(g[1]=l=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"info",onClick:f},{default:t(()=>[d(" 查看 ")]),_:1}),e(w,{modelValue:V.value,"onUpdate:modelValue":g[2]||(g[2]=l=>V.value=l),title:"数据",visible:V.value,onClose:g[3]||(g[3]=l=>V.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X($.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"primary",onClick:U},{default:t(()=>[d("上一步")]),_:1}),e(y,{type:"primary",onClick:I},{default:t(()=>[d("下一步")]),_:1})]),Zi,a("div",er,[lr,ar,tr,e(ns),or]),nr]),_:1})])])}}},sr=te(ur,[["__scopeId","data-v-85504a28"]]);const We=s=>(se("data-v-64e89d16"),s=s(),de(),s),dr={class:"page-container main-view"},ir={class:"left"},rr=We(()=>a("hr",{class:"hengxian"},null,-1)),_r={class:"left"},cr=We(()=>a("hr",{class:"hengxian2"},null,-1)),pr=We(()=>a("h3",null,"⚠️ 安全回路:",-1)),vr=We(()=>a("br",null,null,-1)),mr=We(()=>a("hr",{class:"hengxian2"},null,-1)),hr={__name:"PLS",setup(s){const x=r(!1),p=()=>{x.value=!0},$=ye(()=>JSON.stringify(n.value,null,2));r(!0),r(!0),r(!0),r(!0);const V=r(!1);r(!0),r(!0),r(!0);const f=()=>{V.value=!0},U=()=>{ae.value=3},I=()=>{ae.value=6};return(_,g)=>{const y=re,w=he,l=Se,N=Me;return o(),u("div",null,[a("div",dr,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",ir,[e(y,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(w,{modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=c=>x.value=c),title:"设备总览",visible:x.value,width:"900px",onClose:g[1]||(g[1]=c=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"info",onClick:f},{default:t(()=>[d(" 查看 ")]),_:1}),e(w,{modelValue:V.value,"onUpdate:modelValue":g[2]||(g[2]=c=>V.value=c),title:"数据",visible:V.value,onClose:g[3]||(g[3]=c=>V.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X($.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"primary",onClick:U},{default:t(()=>[d("上一步")]),_:1}),e(y,{type:"primary",onClick:I},{default:t(()=>[d("下一步")]),_:1})]),rr,a("div",_r,[cr,pr,vr,e(N,null,{default:t(()=>[e(l,{label:"PLS设置"},{default:t(()=>[e(ui)]),_:1}),e(l,{label:"保险杠"},{default:t(()=>[e(gu)]),_:1}),e(l,{label:"继电器"},{default:t(()=>[e(Ru)]),_:1}),e(l,{label:"急停"},{default:t(()=>[e($s)]),_:1})]),_:1})]),mr]),_:1})])])}}},fr=te(hr,[["__scopeId","data-v-64e89d16"]]);const Te=s=>(se("data-v-fb040de8"),s=s(),de(),s),yr={class:"page-container main-view"},gr={class:"left"},br=Te(()=>a("hr",{class:"hengxian"},null,-1)),wr={class:"left"},xr=Te(()=>a("hr",{class:"hengxian2"},null,-1)),Vr=Te(()=>a("h3",null,"⚠️ 电池指示器:",-1)),kr=Te(()=>a("br",null,null,-1)),$r=Te(()=>a("hr",{class:"hengxian3"},null,-1)),Cr=Te(()=>a("hr",{class:"hengxian2"},null,-1)),Ur={__name:"batter",setup(s){const x=r(!1),p=()=>{x.value=!0},$=ye(()=>JSON.stringify(n.value,null,2));r(!0),r(!0),r(!0),r(!0);const V=r(!1);r(!0),r(!0),r(!0);const f=()=>{V.value=!0},U=()=>{ae.value=5},I=()=>{ae.value=7};return(_,g)=>{const y=re,w=he;return o(),u("div",null,[a("div",yr,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",gr,[e(y,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(w,{modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=l=>x.value=l),title:"设备总览",visible:x.value,width:"900px",onClose:g[1]||(g[1]=l=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"info",onClick:f},{default:t(()=>[d(" 查看 ")]),_:1}),e(w,{modelValue:V.value,"onUpdate:modelValue":g[2]||(g[2]=l=>V.value=l),title:"数据",visible:V.value,onClose:g[3]||(g[3]=l=>V.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X($.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"primary",onClick:U},{default:t(()=>[d("上一步")]),_:1}),e(y,{type:"primary",onClick:I},{default:t(()=>[d("下一步")]),_:1})]),br,a("div",wr,[xr,Vr,kr,e(Ns),$r]),Cr]),_:1})])])}}},Ir=te(Ur,[["__scopeId","data-v-fb040de8"]]);const Ie=s=>(se("data-v-ee1f2a73"),s=s(),de(),s),Nr={class:"page-container main-view"},Sr={class:"left"},Mr=Ie(()=>a("hr",{class:"hengxian"},null,-1)),Or={class:"left"},Pr=Ie(()=>a("hr",{class:"hengxian2"},null,-1)),Ar=Ie(()=>a("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),Br=Ie(()=>a("br",null,null,-1)),Lr=Ie(()=>a("br",null,null,-1)),Dr={key:0},Rr=Ie(()=>a("br",null,null,-1)),Er=Ie(()=>a("hr",{class:"hengxian3"},null,-1)),jr=Ie(()=>a("hr",{class:"hengxian2"},null,-1)),Tr={__name:"manual",setup(s){const x=r(!1),p=()=>{x.value=!0},$=ye(()=>JSON.stringify(n.value,null,2));r(!0),r(!0),r(!0),r(!0);const V=r(!1);r(!0);const f=r(!0);r(!0);const U=()=>{V.value=!0},I=()=>{ae.value=6},_=()=>{ae.value=8};return(g,y)=>{const w=re,l=he;return o(),u("div",null,[a("div",Nr,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",Sr,[e(w,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(l,{modelValue:x.value,"onUpdate:modelValue":y[0]||(y[0]=N=>x.value=N),title:"设备总览",visible:x.value,width:"900px",onClose:y[1]||(y[1]=N=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(w,{type:"info",onClick:U},{default:t(()=>[d(" 查看 ")]),_:1}),e(l,{modelValue:V.value,"onUpdate:modelValue":y[2]||(y[2]=N=>V.value=N),title:"数据",visible:V.value,onClose:y[3]||(y[3]=N=>V.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X($.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(w,{type:"primary",onClick:I},{default:t(()=>[d("上一步")]),_:1}),e(w,{type:"primary",onClick:_},{default:t(()=>[d("下一步")]),_:1})]),Mr,a("div",Or,[Pr,Ar,Br,Lr,f.value?(o(),u("div",Dr,[e(mi),Rr])):H("",!0),Er]),jr]),_:1})])])}}},zr=te(Tr,[["__scopeId","data-v-ee1f2a73"]]);const Qe=s=>(se("data-v-22d04f51"),s=s(),de(),s),Kr={class:"page-container main-view"},Gr={class:"left"},Fr=Qe(()=>a("hr",{class:"hengxian"},null,-1)),Jr={class:"left"},Hr=Qe(()=>a("hr",{class:"hengxian2"},null,-1)),Xr=Qe(()=>a("h3",null,"⚠️ 导航:",-1)),qr=Qe(()=>a("br",null,null,-1)),Yr=Qe(()=>a("hr",{class:"hengxian2"},null,-1)),Wr={__name:"nav",setup(s){const x=r(!1),p=()=>{x.value=!0},$=ye(()=>JSON.stringify(n.value,null,2));r(!0),r(!0),r(!0),r(!0);const V=r(!1);r(!0),r(!0),r(!0);const f=()=>{V.value=!0},U=()=>{ae.value=7},I=()=>{ae.value=4};return(_,g)=>{const y=re,w=he;return o(),u("div",null,[a("div",Kr,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",Gr,[e(y,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(w,{modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=l=>x.value=l),title:"设备总览",visible:x.value,width:"900px",onClose:g[1]||(g[1]=l=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"info",onClick:f},{default:t(()=>[d(" 查看 ")]),_:1}),e(w,{modelValue:V.value,"onUpdate:modelValue":g[2]||(g[2]=l=>V.value=l),title:"数据",visible:V.value,onClose:g[3]||(g[3]=l=>V.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X($.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(y,{type:"primary",onClick:U},{default:t(()=>[d("上一步")]),_:1}),e(y,{type:"primary",onClick:I},{default:t(()=>[d("下一步")]),_:1})]),Fr,a("div",Jr,[Hr,Xr,qr,e(Yi)]),Yr]),_:1})])])}}},Qr=te(Wr,[["__scopeId","data-v-22d04f51"]]);const Zr=s=>(se("data-v-e960aabc"),s=s(),de(),s),e_=Zr(()=>a("br",null,null,-1)),l_={slot:"footer",class:"dialog-footer"},a_="添加数据",t_={__name:"function",setup(s){let x=r({ch_key:"",des:"",en_key:"",value:!1});const p=r(!1),$=(I,_)=>{const g=n.value.FuncSet.keys.find(y=>y.en_key===_.en_key);g&&(g.value=_.value)},V=()=>{p.value=!0},f=()=>{if(x.value.ch_key&&x.value.en_key&&x.value.des){const I={...x.value};n.value.FuncSet.keys.push(I),console.log("11111",I),p.value=!1}else Ce.error("请填写完整数据")},U=I=>{const _=n.value.FuncSet.keys.findIndex(y=>y.en_key===I.en_key);_!==-1&&n.value.FuncSet.keys.splice(_,1);const g=n.value.FuncSet.keys.indexOf(I);g!==-1&&n.value.FuncSet.keys.splice(g,1)};return(I,_)=>{const g=Be,y=Il,w=re,l=Le,N=ie,c=Je,m=He,A=he;return o(),u("div",null,[e(l,{data:C(n).FuncSet.keys,style:{width:"100%"},class:"functioncDate"},{default:t(()=>[e(g,{prop:"ch_key",label:"⚠️ 功能定制"}),e(g,{prop:"des",label:"说明"}),e(g,{prop:"en_key",label:"英文名"}),e(g,{prop:"value",label:"是否启用"},{default:t(T=>[e(y,{modelValue:T.row.value,"onUpdate:modelValue":z=>T.row.value=z,"active-value":!0,"inactive-value":!1,onChange:z=>$(T.$index,T.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(g,{label:"操作"},{default:t(T=>[e(w,{type:"danger",onClick:z=>U(T.row)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e_,e(w,{type:"primary",onClick:V},{default:t(()=>[d("添加新数据")]),_:1}),e(A,{title:a_,modelValue:p.value,"onUpdate:modelValue":_[5]||(_[5]=T=>p.value=T),visible:p.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog",style:{height:"40%"}},{default:t(()=>[e(m,{ref:"form",model:C(x),"label-width":"80px"},{default:t(()=>[e(c,{label:"名称"},{default:t(()=>[e(N,{modelValue:C(x).ch_key,"onUpdate:modelValue":_[0]||(_[0]=T=>C(x).ch_key=T),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(c,{label:"说明"},{default:t(()=>[e(N,{modelValue:C(x).des,"onUpdate:modelValue":_[1]||(_[1]=T=>C(x).des=T),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(c,{label:"英文名"},{default:t(()=>[e(N,{modelValue:C(x).en_key,"onUpdate:modelValue":_[2]||(_[2]=T=>C(x).en_key=T),placeholder:"en_key值"},null,8,["modelValue"])]),_:1}),e(c,{label:"是否启用"},{default:t(()=>[e(y,{modelValue:C(x).value,"onUpdate:modelValue":_[3]||(_[3]=T=>C(x).value=T),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",l_,[e(w,{onClick:_[4]||(_[4]=T=>p.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(w,{type:"primary",onClick:f},{default:t(()=>[d("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},o_=te(t_,[["__scopeId","data-v-e960aabc"]]);const n_={__name:"index",setup(s){const x=(p,$)=>{n.value.Password=$.value};return(p,$)=>{const V=Be,f=ie,U=Le;return o(),u("div",null,[e(U,{data:C(vl),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(V,{prop:"name",label:"⚠️ 用户权限 "}),e(V,{prop:"value",label:" "},{default:t(I=>[e(f,{modelValue:I.row.value,"onUpdate:modelValue":_=>I.row.value=_,placeholder:"密码",style:{width:"100%"},onChange:_=>x(I.$index,I.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},u_=te(n_,[["__scopeId","data-v-ed94ebc8"]]);const s_={__name:"index",setup(s){const x=(p,$)=>{n.value.version=$.value};return(p,$)=>{const V=Be,f=ie,U=Le;return o(),u("div",null,[e(U,{data:C(ml),style:{width:"100%"},class:"UserPermissions"},{default:t(()=>[e(V,{prop:"name",label:"⚠️ 版本号 "}),e(V,{prop:"value",label:" "},{default:t(I=>[e(f,{modelValue:I.row.value,"onUpdate:modelValue":_=>I.row.value=_,placeholder:"版本号",style:{width:"100%"},onChange:_=>x(I.$index,I.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},d_=te(s_,[["__scopeId","data-v-300d20f4"]]);const ze=s=>(se("data-v-dcdc72d4"),s=s(),de(),s),i_={class:"page-container main-view"},r_={class:"left"},__=ze(()=>a("hr",{class:"hengxian"},null,-1)),c_={class:"left"},p_=ze(()=>a("h2",null,"⚠️ 用户配置：",-1)),v_=ze(()=>a("hr",{class:"hengxian2"},null,-1)),m_=ze(()=>a("hr",{class:"hengxian3"},null,-1)),h_=ze(()=>a("hr",{class:"hengxian3"},null,-1)),f_={key:0},y_=ze(()=>a("hr",{class:"hengxian2"},null,-1)),g_={__name:"userparm",setup(s){const x=r(!1),p=()=>{x.value=!0},$=r(!1),V=r(!0),f=ye(()=>JSON.stringify(n.value,null,2)),U=()=>{$.value=!0},I=()=>{ae.value=8},_=()=>{ae.value=1},g=()=>{let w={data:{file:"agvparam.json",value:n.value},group:"siasun",account:"test",password:"123456"};console.log(w),ol({method:"post",url:"/api/ctrl/jsoneditor",data:JSON.stringify(w)}).then(l=>{Ce.success("请求成功");var N={type:"syncParm",data:!0};console.log(JSON.stringify(N)),ol({method:"post",url:"/api/ctrl/manualdata",data:JSON.stringify(N)}).then(c=>{Ce.success("同步参数")}).catch(c=>{}).finally(()=>{})}).catch(l=>{Ce.error("请求失败")}).finally(()=>{})},y=()=>{const w=JSON.stringify(n.value),l=new Blob([w],{type:"application/json"}),N=window.URL.createObjectURL(l),c=document.createElement("a");c.href=N,c.download="agvparam.json",document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(N),document.body.removeChild(c)};return(w,l)=>{const N=re,c=he;return o(),u("div",null,[a("div",i_,[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("div",r_,[e(N,{type:"info",onClick:p},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(c,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=m=>x.value=m),title:"设备总览",visible:x.value,width:"900px",onClose:l[1]||(l[1]=m=>x.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[e(Ue)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(N,{type:"info",onClick:U},{default:t(()=>[d(" 查看 ")]),_:1}),e(c,{modelValue:$.value,"onUpdate:modelValue":l[2]||(l[2]=m=>$.value=m),title:"数据",visible:$.value,onClose:l[3]||(l[3]=m=>$.value=!1)},{default:t(()=>[e(ne,{height:"100%",showUpBt:!0},{default:t(()=>[a("pre",null,X(f.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),d("   "),e(N,{type:"primary",onClick:I},{default:t(()=>[d("上一步")]),_:1}),e(N,{type:"primary",onClick:_},{default:t(()=>[d("返回")]),_:1}),e(N,{type:"success",onClick:g},{default:t(()=>[d("同步到AGV")]),_:1}),e(N,{type:"success",onClick:y},{default:t(()=>[d("导出到本地")]),_:1})]),__,a("div",c_,[p_,d(" 配置用户参数，功能等： "),v_,e(d_),m_,e(u_),h_,V.value?(o(),u("div",f_,[e(o_)])):H("",!0)]),y_]),_:1})])])}}},b_=te(g_,[["__scopeId","data-v-dcdc72d4"]]),w_={key:0},x_={key:1},V_={key:2},k_={key:3},$_={key:4},C_={key:5},U_={key:6},I_={key:7},N_={__name:"mainn",setup(s){return(x,p)=>C(ae)===1?(o(),u("div",w_,[e(Xt)])):C(ae)===2?(o(),u("div",x_,[e(Zn)])):C(ae)===3?(o(),u("div",V_,[e(sr)])):C(ae)===4?(o(),u("div",k_,[e(b_)])):C(ae)===5?(o(),u("div",$_,[e(fr)])):C(ae)===6?(o(),u("div",C_,[e(Ir)])):C(ae)===7?(o(),u("div",U_,[e(zr)])):C(ae)===8?(o(),u("div",I_,[e(Qr)])):H("",!0)}};const S_={__name:"index",setup(s,{expose:x}){const p=r(!1),$=()=>{p.value=!p.value,console.log("11111",p.value),p.value?ae.value=1:ae.value=0};return x({handleMouseClickwheel:f=>{{const U=[f.getObjectByName("screen2"),f.getObjectByName("Material_14车体4-41-106"),f.getObjectByName("Material_17车体4-41-109"),f.getObjectByName("Material_14车体4-41-97"),f.getObjectByName("Material_18车体4-41-110"),f.getObjectByName("Material_7车体4-41-103"),f.getObjectByName("Material_14车体4-41-92"),f.getObjectByName("Material_17车体4-41-103")],I=nl.intersectObjects([f]);I.length>0&&(console.log("modelname1111:",I[0].object.name),U.forEach(_=>{_.name===I[0].object.name&&(p.value=!0,ae.value=3)}))}}}),(f,U)=>{const I=re;return o(),u(L,null,[a("div",{class:_l(["drawer",{open:p.value}])},[e(N_)],2),e(I,{class:_l(["toggle-button",{open:p.value}]),onClick:$},{default:t(()=>[d(X(p.value?"×":"参数"),1)]),_:1},8,["class"])],64)}}},cl=te(S_,[["__scopeId","data-v-ca6f13a9"]]);const M_={class:"home"},O_=500,pl=500,P_={__name:"index",setup(s){const x=new kl;let p,$,V,f=r(null);x.load("./main/v.glb",D=>{V=D.scene,m.add(V),V.position.set(0,0,0),W()},D=>{console.log(D.loaded/D.total*100+"% loaded")},D=>{console.error("Error loading model:",D)});const U=new Ke(16777215,1);U.position.set(0,0,10);const I=new Ke(16777215,1);I.position.set(0,0,-10);const _=new Ke(16777215,1);_.position.set(10,0,0);const g=new Ke(16777215,1);g.position.set(-10,0,0);const y=new Ke(16777215,1);y.position.set(0,10,0);const w=new gl({antialias:!0});w.setSize(window.innerWidth,window.innerHeight),w.setClearColor(3);const l=()=>{w.render(m,A),p&&p.update(),requestAnimationFrame(l)},N=()=>{A.aspect=window.innerWidth/window.innerHeight,A.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)},c=new bl,m=new wl,A=new xl(75,window.innerWidth/window.innerHeight,.1,1e3);A.position.set(-2,1,2);const T=r(null),z={},b=new Map,i=(D,R)=>{const F=A.position.clone(),B=performance.now(),k=()=>{const q=performance.now()-B,ee=Math.min(q/R,1);A.position.lerpVectors(F,D,ee),ee<1&&requestAnimationFrame(k)};requestAnimationFrame(k)};function K(D,R,F,B){D.length<=0||(D.forEach(k=>{k.children.length>0&&k.children.forEach(q=>{q.material&&(b.has(q)||b.set(q,q.material.color.clone()))})}),ae.value===R?(i(F,1e3),D.forEach(k=>{k.children.length>0&&k.children.forEach(q=>{if(q.material)if(console.log("Material found in child:",q.material),B)q.material.color.set(16711680);else{const ee=b.get(q);ee?q.material.color.copy(ee):console.warn("Original color not found for child:",q)}else console.warn("Child does not have material:",q)}),k.material?B?k.material.color.setHex(16711680):k.material.color.setHex(8421504):console.warn("Component does not have material:",k),me(k)})):D.forEach(k=>{le(k.name),k.children.length>0&&k.children.forEach(q=>{q.material&&q.material.color.copy(b.get(q))}),k.material&&k.material.color.setHex(8421504)}))}const W=()=>{if(!V)return;const D=[V.getObjectByName("Material_16车体4-41-98"),V.getObjectByName("Material_3车体4-41-99")];console.log("manuals:",D),K(D,7,new we(-1,.8,0),!1);const R=[V.getObjectByName("Material_1车体4-41-8")];K(R,6,new we(.1,-.3,-1.2),!1),K([V],4,new we(-2,1,2),!1);const B=n.value.CanMan.canport.length>0,k=[V.getObjectByName("COMPOUND001_30"),V.getObjectByName("COMPOUND001_27"),V.getObjectByName("COMPOUND001_26"),V.getObjectByName("COMPOUND_10"),V.getObjectByName("COMPOUND_9"),V.getObjectByName("COMPOUND_8"),V.getObjectByName("COMPOUND_7"),V.getObjectByName("COMPOUND_6"),V.getObjectByName("COMPOUND_5"),V.getObjectByName("COMPOUND001_135"),V.getObjectByName("COMPOUND002_14"),V.getObjectByName("COMPOUND003_7"),V.getObjectByName("COMPOUND003_12"),V.getObjectByName("COMPOUND002_9"),V.getObjectByName("COMPOUND005_11")];K(k,1,new we(.1,-.3,1.2),!B);const q=n.value.Kinematic.drive.length>0,ee=[V.getObjectByName("leftwheel"),V.getObjectByName("rightwheel")];K(ee,2,new we(1,.2,1),!q);const J=[V.getObjectByName("screen2"),V.getObjectByName("Material_14车体4-41-106"),V.getObjectByName("Material_17车体4-41-109"),V.getObjectByName("Material_14车体4-41-97"),V.getObjectByName("Material_18车体4-41-110"),V.getObjectByName("Material_7车体4-41-103"),V.getObjectByName("Material_14车体4-41-92"),V.getObjectByName("Material_17车体4-41-103")];K(J,3,new we(-1,.8,0),!1);const G=[V.getObjectByName("Material_28车体4-41-135")],j=n.value.NavSys.length>0;K(G,8,new we(-1,.3,0),!j);const O=[V.getObjectByName("sickQ4"),V.getObjectByName("sickQ2"),V.getObjectByName("laser7")],S=n.value.SafetyLoop.Pls.length>0;K(O,5,new we(1.2,.5,.2),!S);const v=[V.getObjectByName("Material_24车体4-41-123"),V.getObjectByName("Material_24车体4-41-122")],Z=n.value.SafetyLoop.Bumper.length>0;K(v,5,new we(1.2,.5,.2),!Z);const Y=[V.getObjectByName("Material_23车体4-41-119"),V.getObjectByName("Material_23车体4-41-117")],Ne=n.value.SafetyLoop.Emg.length>0;K(Y,5,new we(1.2,.5,.2),!Ne)},me=D=>{const R=D.name;if(z[R]||(z[R]={blinking:!1,timeout:null}),z[R].blinking)return;z[R].blinking=!0;const F=()=>{D.visible=!D.visible,z[R].timeout=setTimeout(F,O_)};F()},le=D=>{if(z[D]&&z[D].blinking){clearTimeout(z[D].timeout),z[D].blinking=!1;const R=V.getObjectByName(D);R&&(R.visible=!0)}};el(ae,D=>{W()}),el(n.value,()=>{W()});const M=D=>{c.x=D.clientX/window.innerWidth*2-1,c.y=-(D.clientY/window.innerHeight)*2+1,nl.setFromCamera(c,A),V!==void 0&&nl.intersectObjects([V]).length>0},Q=()=>{};return Cl(()=>{window.addEventListener("resize",N),window.addEventListener("mousemove",M),window.addEventListener("mouseout",Q),window.addEventListener("click",()=>{T.value.handleMouseClickwheel(V)}),f.value.appendChild(w.domElement),$=new Vl(pl,pl),$.material.opacity=.8,$.material.transparent=!0,m.add($),p=new $l(A,w.domElement),p.enablePan=!1,p.mouseButtons.RIGHT=null,p.update(),m.add(U),m.add(I),m.add(_),m.add(g),m.add(y),l()}),(D,R)=>(o(),u("div",M_,[a("div",{class:"canvas-container",ref_key:"canvasDom",ref:f},[e(cl),e(cl,{ref_key:"wheelRef",ref:T},null,512)],512)]))}},rc=te(P_,[["__scopeId","data-v-0544a720"]]);export{rc as default};
