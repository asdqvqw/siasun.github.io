import{o as y,c as $,bH as C,by as S,bl as e,a as l,aC as Je,F as L,aV as I,b as d,f as w,m as t,bc as n,l as j,n as ol,g as U,aK as Te,_ as Le,p as Ne,q as De,aY as sl,at as al,bx as il,cv as H}from"./index-e3c3ccff.js";import{D as Q,b as ul,S as rl,P as cl,W as _l,G as dl,A as we,V as P,M as z,L as Ee,B as Fe,a as qe,E as ne,Q as oe,c as R,d as ml}from"./three.module-b20bde78.js";import{G as fl,O as vl}from"./GLTFLoader-710f8df6.js";import{D as pl}from"./DRACOLoader-36a830fc.js";import{i as V,s as F,b as q,c as Y,e as s,p as o,a as Pe,f as xe,N as gl,g as bl,h as hl,j as Re,k as wl,l as xl,m as kl,n as yl,o as $l,q as Il,r as Cl,t as Sl,u as Vl,v as Jl,w as se,x as El,y as Ae,z as Oe,A as Fl,B as ql,C as Ml,D as Tl,E as Ll,F as Nl,G as Dl,H as Pl,I as Rl,J as Al,K as Ol,L as Bl,M as Be,O as Xl,P as Gl,Q as jl,R as Me,S as zl,T as Yl,U as Ul,V as Zl,W as Hl,X as Ql,Y as Wl,Z as Kl,_ as W,$ as et,a0 as ee,a1 as le,a2 as ae,d as lt}from"./sharedata-a356727b.js";import{E as A}from"./el-dialog-e69e6c9f.js";import{i as Xe}from"./index-c13506ae.js";import tt from"./bbb_Aqw-08391549.js";const nt=["disabled","title"],ot=["disabled","title"],st=["disabled"],at={__name:"contorl",setup(k){const c=()=>{Y.value=!Y.value,Y.value?controls.enabled=!1:controls.enabled=!0},r=()=>{s.value=0,o.value=[],o.value=Pe.concat()},v=()=>{q.value=!q.value},g=()=>{if(F.value){const p=o.value[s.value].logJson.event.name;for(;o.value[s.value].logJson.event.name===p&&!(s.value===o.value.length-1||s.value===0);)s.value++;xe.value=1,F.value=!1}};return(p,a)=>(y(),$(L,null,[C(l("div",null,[l("button",{disabled:e(F),onClick:v,class:Je({playbuttonstyle:e(q),stopbuttonstyle:!e(q)}),title:e(q)?"æ’­æ”¾":e(F)?"è¯·å¤„ç†äº‹ä»¶":"æš‚åœ"},null,10,nt)],512),[[S,!e(V)]]),C(l("div",null,[l("button",{disabled:!e(F),onClick:g,class:"eventbuttonstyle",title:e(F)?"äº‹ä»¶è·³è¿‡":"æ— äº‹ä»¶"},null,8,ot)],512),[[S,!e(V)]]),C(l("div",null,[l("button",{disabled:e(F),onClick:r,class:"replaybuttonstyle",title:"é‡æ’­"},null,8,st)],512),[[S,!e(V)]]),C(l("div",null,[l("button",{onClick:c,class:Je({genbuttonstyle:e(Y),bugenbuttonstyle:!e(Y)}),title:"é•œå¤´è·Ÿéš"},null,2)],512),[[S,!e(V)]])],64))}};const it=l("br",null,null,-1),ut=l("br",null,null,-1),rt=l("br",null,null,-1),ct=l("br",null,null,-1),_t=l("br",null,null,-1),dt=l("br",null,null,-1),mt=l("br",null,null,-1),ft=l("br",null,null,-1),vt=l("br",null,null,-1),pt=l("br",null,null,-1),gt=l("br",null,null,-1),bt=l("br",null,null,-1),ht=l("br",null,null,-1),wt=l("br",null,null,-1),xt=l("br",null,null,-1),kt=l("br",null,null,-1),yt=l("br",null,null,-1),$t=l("br",null,null,-1),It={__name:"Contral_Net",setup(k){const c=I(!1),r=()=>{c.value=!0};return(v,g)=>{const p=j,a=A;return y(),$(L,null,[C(d(p,{class:"EXButton",onClick:r},{default:w(()=>[t("æ§åˆ¶å°")]),_:1},512),[[S,!e(V)]]),d(a,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=m=>c.value=m),title:"æ§åˆ¶å°","custom-class":"custom-dialog",modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[t(" å¼€å§‹èŠ‚ç‚¹ï¼š"+n(e(gl)),1),it,t(" ç›®æ ‡èŠ‚ç‚¹ï¼š"+n(e(bl)),1),ut,rt,t(" å½“å‰è¿›åº¦é‡ï¼š"+n(e(hl)),1),ct,t(" æ§åˆ¶å°è®¾ç½®é€Ÿåº¦ï¼š"+n(e(Re)),1),_t,dt,t(" è´§ç‰©çŠ¶æ€ï¼š"+n(e(wl)),1),mt,t(" å·¥ä½œçŠ¶æ€ï¼š"+n(e(xl)),1),ft,vt,t(" 1çº§æ•…éšœç :"+n(e(kl)),1),pt,t(" 2çº§æ•…éšœç :"+n(e(yl)),1),gt,bt,t(" ç”µæ± çŠ¶æ€ï¼š"+n(e($l)),1),ht,t(" ä»»åŠ¡çŠ¶æ€ï¼š"+n(e(Il)),1),wt,t(" ä»»åŠ¡å·ï¼š"+n(e(Cl)),1),xt,t(" åŠ¨ä½œkeyï¼š"+n(e(Sl)),1),kt,t(" heading:"+n(e(Vl)),1),yt,t(" åŠ¨ä½œç :"+n(e(Jl)),1),$t]),_:1},8,["modelValue"])],64)}}};const Ct=l("br",null,null,-1),St=l("br",null,null,-1),Vt=l("br",null,null,-1),Jt=l("br",null,null,-1),Et=l("br",null,null,-1),Ft={__name:"Info_box",setup(k){let c="AGVçŠ¶æ€";return(r,v)=>e(se)?(y(),$("div",{key:0,class:"info-text",style:ol({left:e(Ae)+"px",top:e(Oe)+"px"})},[t(n(e(c)),1),Ct,t(" æ—¶é—´ï¼š"+n(e(o)[e(s)].logDateTime),1),St,t(" è½¦ä½“è½¯ä»¶ç‰ˆæœ¬ï¼š"+n(e(o)[0].logJson.nAgvVersion),1),Vt,t(" è½¦å·ï¼š"+n(e(o)[0].logJson.nAgvNum),1),Jt,t(" æ¨¡å¼ï¼š"+n(e(El)),1),Et],4)):U("",!0)}};const qt={key:0},Mt=l("br",null,null,-1),Tt=l("br",null,null,-1),Lt=l("br",null,null,-1),Nt=l("br",null,null,-1),Dt=l("br",null,null,-1),Pt=l("br",null,null,-1),Rt=l("br",null,null,-1),At={key:1},Ot=l("br",null,null,-1),Bt=l("br",null,null,-1),Xt=l("br",null,null,-1),Gt=l("br",null,null,-1),jt=l("br",null,null,-1),zt=l("br",null,null,-1),Yt=l("br",null,null,-1),Ut=l("br",null,null,-1),Zt=l("br",null,null,-1),Ht=l("br",null,null,-1),Qt=l("br",null,null,-1),Wt=l("br",null,null,-1),Kt=l("br",null,null,-1),en=l("br",null,null,-1),ln=l("br",null,null,-1),tn=l("br",null,null,-1),nn=l("br",null,null,-1),on=l("br",null,null,-1),sn=l("br",null,null,-1),an=l("br",null,null,-1),un=l("br",null,null,-1),rn=l("br",null,null,-1),cn=l("br",null,null,-1),_n=l("br",null,null,-1),dn=l("br",null,null,-1),mn=l("br",null,null,-1),fn=l("br",null,null,-1),vn=l("br",null,null,-1),pn=l("br",null,null,-1),gn=l("br",null,null,-1),bn=l("br",null,null,-1),hn=l("br",null,null,-1),wn=l("br",null,null,-1),xn=l("br",null,null,-1),kn=l("br",null,null,-1),yn=l("br",null,null,-1),$n=l("br",null,null,-1),In=l("br",null,null,-1),Cn=l("br",null,null,-1),Sn=l("br",null,null,-1),Vn=l("br",null,null,-1),Jn=l("br",null,null,-1),En=l("br",null,null,-1),Fn=l("br",null,null,-1),qn={__name:"AGV_device",setup(k){const c=I(!1),r=()=>{c.value=!0};return(v,g)=>{const p=j,a=A;return y(),$(L,null,[C(d(p,{class:"EXButtonDEV",onClick:r},{default:w(()=>[t("è½¦ä½“è®¾å¤‡")]),_:1},512),[[S,!e(V)]]),d(a,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=m=>c.value=m),title:"è½¦ä½“è®¾å¤‡","custom-class":"custom-dialog",modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[e(o)[0].agvType===0?(y(),$("div",qt,[t(" è½¬ç›˜çºµå‘å¼€å…³ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.turn_axis.bZero?"ğŸ”´":"ğŸŸ¢"),1),Mt,t(" è½¬ç›˜æ¨ªå‘å¼€å…³ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.turn_axis.bLevel?"ğŸ”´":"ğŸŸ¢"),1),Tt,t(" è½¬ç›˜ä½ç½®:"+n(e(o)[e(s)].trunpan.toFixed(3)),1),Lt,Nt,t(" ä¸¾å‡é«˜ä½å¼€å…³ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.lifter_axis.bTop?"ğŸ”´":"ğŸŸ¢"),1),Dt,t(" ä¸¾å‡é›¶ä½å¼€å…³ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.lifter_axis.bBottom?"ğŸ”´":"ğŸŸ¢"),1),Pt,t(" ä¸¾å‡ä½ç½®ï¼š"+n(e(o)[e(s)].lifter.toFixed(3)),1),Rt])):U("",!0),e(o)[0].agvType===1&&e(o)[e(s)].logJson.equipmentInfo.rack.push!==void 0?(y(),$("div",At,[t(" å‰ä¸¾å‡ä¸Šé™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.turn_axis.bLevel?"ğŸ”´":"ğŸŸ¢"),1),Ot,t(" å‰ä¸¾å‡ä¸‹é™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.turn_axis.fAxisSpeed?"ğŸ”´":"ğŸŸ¢"),1),Bt,t(" å‰ä¸¾å‡é›¶ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.turn_axis.bZero?"ğŸ”´":"ğŸŸ¢"),1),Xt,t(" å‰ä¸¾å‡ä½ç½®:"+n(e(o)[e(s)].trunpan.toFixed(3)),1),Gt,jt,t(" åä¸¾å‡ä¸Šé™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.lifter_axis.bTop?"ğŸ”´":"ğŸŸ¢"),1),zt,t(" åä¸¾å‡ä¸‹é™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.lifter_axis.bBottom?"ğŸ”´":"ğŸŸ¢"),1),Yt,t(" åä¸¾å‡é›¶ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.lifter_axis.fAxisSpeed?"ğŸ”´":"ğŸŸ¢"),1),Ut,t(" åä¸¾å‡ä½ç½®ï¼š"+n(e(o)[e(s)].lifter.toFixed(3)),1),Zt,Ht,t(" å‰æ¨æ‹‰ä¸Šé™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.FPullerSwtPos?"ğŸ”´":"ğŸŸ¢"),1),Qt,t(" å‰æ¨æ‹‰ä¸‹é™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.FPullerSwtNag?"ğŸ”´":"ğŸŸ¢"),1),Wt,t(" å‰æ¨æ‹‰é›¶ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.FPullerSwtZero?"ğŸ”´":"ğŸŸ¢"),1),Kt,t(" å‰æ¨æ‹‰ä½ç½®ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.FPullerSwtposition.toFixed(3)),1),en,ln,t(" åæ¨æ‹‰ä¸Šé™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.RPullerSwtPos?"ğŸ”´":"ğŸŸ¢"),1),tn,t(" åæ¨æ‹‰ä¸‹é™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.RPullerSwtNag?"ğŸ”´":"ğŸŸ¢"),1),nn,t(" åæ¨æ‹‰é›¶ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.RPullerSwtZero?"ğŸ”´":"ğŸŸ¢"),1),on,t(" åæ¨æ‹‰ä½ç½®ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.push.RPullerSwtposition.toFixed(3)),1),sn,an,t(" æ•´ä½“ä¸Šé™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.all.CarrierSwtPos?"ğŸ”´":"ğŸŸ¢"),1),un,t(" æ•´ä½“ä¸‹é™ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.all.CarrierSwtNag?"ğŸ”´":"ğŸŸ¢"),1),rn,t(" æ•´ä½“é›¶ä½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.all.CarrierSwtZero?"ğŸ”´":"ğŸŸ¢"),1),cn,t(" æ•´ä½“ä½ç½®ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.all.CarrierSwtposition.toFixed(3)),1),_n,dn,t(" å‰æ»¡å·è´§ç‰©æ£€æµ‹ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.FLifterSwtCargoFull?"ğŸ”´":"ğŸŸ¢"),1),mn,t(" å‰ç©ºå·è´§ç‰©æ£€æµ‹ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.FLifterSwtCargoEmpty?"ğŸ”´":"ğŸŸ¢"),1),fn,t(" åæ»¡å·è´§ç‰©æ£€æµ‹ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.RLifterSwtCargoFull?"ğŸ”´":"ğŸŸ¢"),1),vn,t(" åç©ºå·è´§ç‰©æ£€æµ‹ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.RLifterSwtCargoEmpty?"ğŸ”´":"ğŸŸ¢"),1),pn,gn,t(" å‰æ»¡å·åè½½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.FLifterSwtPianzaiFull?"ğŸ”´":"ğŸŸ¢"),1),bn,t(" å‰ç©ºå·åè½½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.FLifterSwtPianzaiEmpty?"ğŸ”´":"ğŸŸ¢"),1),hn,t(" åæ»¡å·åè½½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.RLifterSwtPianzaiFull?"ğŸ”´":"ğŸŸ¢"),1),wn,t(" åç©ºå·åè½½ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.RLifterSwtPianzaiEmpty?"ğŸ”´":"ğŸŸ¢"),1),xn,t(" åŒæ­¥å¼€å…³ï¼š"+n(e(o)[e(s)].logJson.equipmentInfo.rack.LifterCentrePosition?"ğŸ”´":"ğŸŸ¢"),1),kn])):U("",!0),yn,t(" å½“å‰è®¾å¤‡çŠ¶æ€ï¼š"+n(e(Fl)),1),$n,t(" å½“å‰è®¾å¤‡ä»»åŠ¡å·ï¼š"+n(e(ql)),1),In,t(" å½“å‰è®¾å¤‡ä»»åŠ¡çŠ¶æ€ï¼š"+n(e(Ml)),1),Cn,t(" å½“å‰è®¾å¤‡æ•…éšœç : Â "+n(e(Tl)),1),Sn,t(" å½“å‰è®¾å¤‡åŠ¨ä½œæ­¥éª¤: "+n(e(Ll)),1),Vn,t(" å½“å‰åŠ¨ä½œè½´id: "+n(),1),Jn,t(" å½“å‰åŠ¨ä½œè½´ä½ç½®: "+n(),1),En,t(" å½“å‰åŠ¨ä½œè½´å¼€å…³çŠ¶æ€: "+n(),1),Fn]),_:1},8,["modelValue"])],64)}}};const Mn=l("br",null,null,-1),Tn=l("br",null,null,-1),Ln=l("br",null,null,-1),Nn=l("br",null,null,-1),Dn=l("br",null,null,-1),Pn=l("br",null,null,-1),Rn=l("br",null,null,-1),An=l("br",null,null,-1),On=l("br",null,null,-1),Bn=l("br",null,null,-1),Xn=l("br",null,null,-1),Gn=l("br",null,null,-1),jn=l("br",null,null,-1),zn={__name:"AGV_Nav",setup(k){const c=I(!1),r=()=>{c.value=!0},v=()=>{const g=document.getElementById("main1"),p=Xe(g),a=[{value:Math.round(Math.random()*1e3),name:"å ç”¨ä¸€"},{value:Math.round(Math.random()*1e3),name:"å ç”¨äºŒ"},{value:Math.round(Math.random()*1e3),name:"å ç”¨ä¸‰"},{value:Math.round(Math.random()*1e3),name:"å ç”¨å››"},{value:Math.round(Math.random()*1e3),name:"å ç”¨äº”"}],m={title:{text:"å ç”¨",textStyle:{color:"black"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:a.map(h=>h.name)},series:[{name:"æµ‹è¯•æ•°æ®",type:"pie",radius:"50%",center:["50%","50%"],data:a,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};setInterval(()=>{a.forEach(h=>{h.value=Math.round(Math.random()*1e3)}),p.setOption({series:[{data:a}]})},1e3),p.setOption(m)};return(g,p)=>{const a=j,m=A;return y(),$(L,null,[C(d(a,{class:"EXButtonNAV",onClick:r},{default:w(()=>[t("å¯¼èˆª")]),_:1},512),[[S,!e(V)]]),d(m,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=h=>c.value=h),title:"å¯¼èˆª","custom-class":"custom-dialog",onOpened:v,modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[t(" å¯¼èˆªè½¯ä»¶ç‰ˆæœ¬ï¼š"+n(e(Nl)),1),Mn,t(" å¯¼èˆªç¯å¢ƒæ¨¡å‹ç‰ˆæœ¬ï¼š"+n(e(Dl)),1),Tn,Ln,t(" ç›®æ ‡ä½ç½®:"+n(e(Pl))+" ",1),Nn,t(" å½“å‰ä½ç½®ï¼š"+n(e(Rl)),1),Dn,t(" ç†è®ºä½ç½®ï¼š"+n(e(Al)),1),Pn,Rn,t(" å·¦å³åå·®ï¼š"+n(e(Ol)),1),An,t(" è§’åº¦åå·®ï¼š"+n((e(Bl)*180/Math.PI).toFixed(3)),1),On,Bn,t(" å‘é€é€Ÿåº¦ï¼š"+n(),1),Xn,t(" å‘é€èˆµè§’ï¼š"+n(),1),Gn,jn]),_:1},8,["modelValue"])],64)}}},Ge={__name:"Ele_chart",setup(k){const c=I(null),r=(()=>{let a=new Date,m=[],h=5;for(;h--;)m.unshift(a.toLocaleTimeString().replace(/^\D*/,"")),a=new Date(+a-500);return m})(),v=(()=>{let a=[],m=5;for(;m--;)a.push(Math.round(Math.random()*1e3));return a})(),g=(()=>{let a=[],m=5;for(;m--;)a.push(Math.round(Math.random()*1e3));return a})();let p={title:{text:"è½¦é€Ÿ",textStyle:{color:"white"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["bar","line","stack"]},restore:{},saveAsImage:{}},bottom:10},xAxis:{type:"category",data:r,boundaryGap:!0},yAxis:{type:"value"},series:[{data:v,type:"line",name:"å®é™…",color:"green",markPoint:{data:[{type:"max",name:"æœ€å¤§å€¼"},{type:"min",name:"æœ€å°å€¼"}]},markLine:{data:[{type:"average",name:"å¹³å‡å€¼"}]}},{data:g,name:"ç†è®º",type:"line",color:"yellow",markPoint:{data:[{type:"max",name:"æœ€å¤§å€¼"},{type:"min",name:"æœ€å°å€¼"}]},markLine:{data:[{type:"average",name:"å¹³å‡å€¼"}]}}]};return Te(()=>{const a=Xe(c.value);setInterval(()=>{let m=(Be.value*1e3).toFixed(2),h=new Date().toLocaleTimeString().replace(/^\D*/,"");r.shift(),r.push(h),v.shift(),v.push(m),g.shift(),g.push(Re.value),a.setOption({xAxis:[{data:r}],series:[{data:v},{data:g}]})},400),a.setOption(p)}),(a,m)=>(y(),$("div",{class:"chart",id:"main2",style:{width:450+"px",height:200+"px"},ref_key:"main2",ref:c},null,512))}};const b=k=>(Ne("data-v-ddf5eefb"),k=k(),De(),k),Yn=b(()=>l("br",null,null,-1)),Un=b(()=>l("br",null,null,-1)),Zn=b(()=>l("br",null,null,-1)),Hn=b(()=>l("br",null,null,-1)),Qn=b(()=>l("br",null,null,-1)),Wn=b(()=>l("br",null,null,-1)),Kn=b(()=>l("br",null,null,-1)),eo=b(()=>l("br",null,null,-1)),lo=b(()=>l("br",null,null,-1)),to=b(()=>l("br",null,null,-1)),no=b(()=>l("br",null,null,-1)),oo=b(()=>l("br",null,null,-1)),so=b(()=>l("br",null,null,-1)),ao=b(()=>l("br",null,null,-1)),io=b(()=>l("br",null,null,-1)),uo=b(()=>l("br",null,null,-1)),ro=b(()=>l("br",null,null,-1)),co=b(()=>l("br",null,null,-1)),_o=b(()=>l("br",null,null,-1)),mo=b(()=>l("br",null,null,-1)),fo=b(()=>l("br",null,null,-1)),vo=b(()=>l("br",null,null,-1)),po=b(()=>l("br",null,null,-1)),go=b(()=>l("br",null,null,-1)),bo=b(()=>l("br",null,null,-1)),ho=b(()=>l("br",null,null,-1)),wo=b(()=>l("br",null,null,-1)),xo={__name:"AGV_ELE",setup(k){const c=I(!1),r=()=>{c.value=!0},v=()=>{W.value<et.value-1?W.value++:W.value=0,console.log(W.value),Me.value="é©±åŠ¨è½´"+W.value.toString(),ee(),le()};return(g,p)=>{const a=j,m=A;return y(),$(L,null,[C(d(a,{class:"EXButtonELE",onClick:r},{default:w(()=>[t("ç”µå™¨æ¨¡å—")]),_:1},512),[[S,!e(V)]]),d(m,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=h=>c.value=h),title:"ç”µå™¨æ¨¡å—","custom-class":"custom-dialog",modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[t(" ä¿é™©æ çŠ¶æ€ï¼š"+n(e(Xl)),1),Yn,t(" æ€¥åœè§¦å‘ï¼š"+n(e(Gl)),1),Un,t(" plsçŠ¶æ€ï¼š"+n(e(jl)),1),Zn,Hn,t(" äºŒç»´ç :"),Qn,t(" x:"+n(e(o)[e(s)].logJson.electricalModule.sensor.camera.fx.toFixed(4)),1),Wn,t(" y:"+n(e(o)[e(s)].logJson.electricalModule.sensor.camera.fy.toFixed(4)),1),Kn,t(" è§’åº¦:"+n(e(o)[e(s)].logJson.electricalModule.sensor.camera.fthita.toFixed(4)),1),eo,lo,t(" ç”µé‡ç™¾åˆ†æ¯”ï¼š"+n(e(o)[e(s)].logJson.electricalModule.sensor.battmetr.fCapPercent.toFixed(2)),1),to,t(" ç”µæ± çŠ¶æ€ï¼š"+n(e(o)[e(s)].logJson.electricalModule.sensor.battmetr.sState),1),no,oo,t(" ç£å¯¼èˆªåå·®1:"+n(e(o)[e(s)].logJson.electricalModule.sensor.magnetic.fDev[0]),1),so,t(" ç£å¯¼èˆªåå·®2:"+n(e(o)[e(s)].logJson.electricalModule.sensor.magnetic.fDev[1]),1),ao,t(" ç£å¯¼èˆªçŠ¶æ€:"+n(e(o)[e(s)].logJson.electricalModule.sensor.magnetic.sGrade),1),io,uo,t(" æƒ¯å¯¼ï¼š"+n(),1),ro,t(" åˆ‡æ¢é©±åŠ¨å•å…ƒï¼š"),d(a,{class:"buttonstyle",onClick:v},{default:w(()=>[t(n(e(Me)),1)]),_:1}),co,t(" è½®ä¼ºæœå®é™…é€Ÿåº¦ï¼š"+n(e(Be)),1),_o,t(" è½®ä¼ºæœçŠ¶æ€ç ï¼š"+n(e(zl)),1),mo,t(" è½®ä¼ºæœé”™è¯¯ç ï¼š"+n(e(Yl)),1),fo,t(" èˆµä¼ºæœå®é™…ä½ç½®ï¼š"+n(e(Ul)),1),vo,t(" èˆµä¼ºæœçŠ¶æ€ç ï¼š"+n(e(Zl)),1),po,t(" èˆµä¼ºæœé”™è¯¯ç ï¼š"+n(e(Hl)),1),go,t(" èˆµé™ä½å¼€å…³ï¼š"+n(e(Ql)),1),bo,t(" èˆµé™ä½å¼€å…³ï¼š"+n(e(Wl)),1),ho,t(" èˆµé›¶ä½å¼€å…³ï¼š"+n(e(Kl)),1),wo,d(Ge)]),_:1},8,["modelValue"])],64)}}},ko=Le(xo,[["__scopeId","data-v-ddf5eefb"]]);const yo=l("br",null,null,-1),$o=l("br",null,null,-1),Io=l("br",null,null,-1),Co=l("br",null,null,-1),So={__name:"event",setup(k){I(0);const c=I(!1),r=()=>{c.value=!0};return(v,g)=>{const p=j,a=A;return y(),$(L,null,[C(d(p,{class:"EVENTButton",onClick:r},{default:w(()=>[t("äº‹ä»¶ä¿¡æ¯")]),_:1},512),[[S,!v.importflag]]),d(a,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=m=>c.value=m),title:"äº‹ä»¶ä¿¡æ¯","custom-class":"custom-dialog",modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[t(" å‘é€æ—¶é—´ï¼š"+n(e(o)[e(s)].logDateTime),1),yo,t(" äº‹ä»¶ï¼š"+n(e(o)[e(s)].logJson.event.name),1),$o,t(" åŸå› ï¼š"+n(e(o)[e(s)].logJson.event.detail),1),Io,t(" AGVå»ºè®®:"+n(e(o)[e(s)].logJson.event.advise),1),Co]),_:1},8,["modelValue"])],64)}}};const Vo=l("br",null,null,-1),Jo={key:0,class:"parsedItemsdata"},Eo={key:0},Fo={__name:"statistics",setup(k){const c=I(!1);let r=I(0);const v=()=>{c.value=!0},g=I(!1),p=()=>{console.log("11111",o.value),g.value=!0},a=()=>{r.value>0&&r.value--},m=()=>{r.value<o.value[s.value].parsedItems.length-1&&r.value++};return(h,O)=>{const B=j,X=A;return y(),$(L,null,[C(d(B,{class:"EXButtonstatistics",onClick:v},{default:w(()=>[t("ç»Ÿè®¡")]),_:1},512),[[S,!e(V)]]),d(X,{title:"ç»Ÿè®¡",modelValue:c.value,"onUpdate:modelValue":O[0]||(O[0]=M=>c.value=M),"custom-class":"custom-dialog",style:{width:"80%",height:"70%"},modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[d(tt)]),_:1},8,["modelValue"]),C(d(B,{class:"EXButtonreseve",onClick:p},{default:w(()=>[t("é¢„ç•™")]),_:1},512),[[S,!e(V)]]),d(X,{title:"é¢„ç•™",modelValue:g.value,"onUpdate:modelValue":O[1]||(O[1]=M=>g.value=M),"custom-class":"custom-dialog",modal:!1,draggable:"","close-on-click-modal":!1,"modal-class":"kk-dialog-class"},{default:w(()=>[d(B,{onClick:a},{default:w(()=>[t("ï¼œ")]),_:1}),d(B,{onClick:m},{default:w(()=>[t("ï¼")]),_:1}),Vo,e(o)[e(s)].parsedItems?(y(),$("div",Jo,[e(o)[e(s)].parsedItems[e(r)]!==void 0?(y(),$("div",Eo,[l("h2",null,n(e(o)[e(s)].parsedItems[e(r)].itemName),1),(y(!0),$(L,null,sl(e(o)[e(s)].parsedItems[e(r)].itemObject,(M,f)=>(y(),$("div",{key:f},n(f)+": "+n(M),1))),128))])):U("",!0)])):U("",!0)]),_:1},8,["modelValue"])],64)}}},qo=l("br",null,null,-1),Mo=l("br",null,null,-1),To=l("br",null,null,-1),Lo={__name:"screen_info",setup(k,{expose:c}){const r=I(!1),v=I(!1);return c({handleMouseClick:p=>{const a=ae.intersectObjects([p]);a.length>0&&(console.log("modelname:",a[0].object.name),a[0].object.name==="screen"||a[0].object.name==="screen1"||a[0].object.name==="screen2"||a[0].object.name==="screen3"||a[0].object.name==="screen4"?(v.value=!0,r.value=!0):(r.value=!1,v.value=!1))}}),(p,a)=>{const m=A;return y(),$(L,null,[d(m,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=h=>v.value=h),title:"å±å¹•2","custom-class":"custom-dialog2",onOpened:p.openDialog,modal:!1},{default:w(()=>[d(Ge)]),_:1},8,["modelValue","onOpened"]),d(m,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=h=>r.value=h),title:"å±å¹•","custom-class":"custom-dialog3",modal:!1},{default:w(()=>[t(" å±å¹•å‹å·:è¿ªæ–‡å±å¹•"),qo,t(" é€šè®¯ç±»å‹:ä¸²å£é€šè®¯"),Mo,t(" æ‰‹æ§è®¾å¤‡ä¿¡æ¯:æ— "),To]),_:1},8,["modelValue"])],64)}}},No=l("br",null,null,-1),Do=l("br",null,null,-1),Po=l("br",null,null,-1),Ro=l("br",null,null,-1),Ao=l("br",null,null,-1),Oo=l("br",null,null,-1),Bo=l("br",null,null,-1),Xo=l("br",null,null,-1),Go=l("br",null,null,-1),jo=l("br",null,null,-1),zo=l("br",null,null,-1),Yo=l("br",null,null,-1),Uo={__name:"wheel_info",setup(k,{expose:c}){const r=I(!1),v=I(!1);return c({handleMouseClickwheel:p=>{const a=ae.intersectObjects([p]);a.length>0&&(a[0].object.name==="rightwheel"||a[0].object.name==="rightwheel1"||a[0].object.name==="rightwheel2"?r.value=!0:r.value=!1,a[0].object.name==="leftwheel"||a[0].object.name==="leftwheel1"||a[0].object.name==="leftwheel2"?v.value=!0:v.value=!1)}}),(p,a)=>{const m=A;return y(),$(L,null,[d(m,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=h=>r.value=h),title:"å³è½®","custom-class":"custom-dialog3",modal:!1},{default:w(()=>[t(" é©±åŠ¨å†…åæ ‡X:"+n(),1),No,t(" é©±åŠ¨å†…åæ ‡Y:"+n(),1),Do,t(" ç”µæœºå‡é€Ÿæ¯”:"+n(),1),Po,t(" è½¦è½®ç›´å¾„:"+n(),1),Ro,t(" ç ç›˜çº¿æŸ:"+n(),1),Ao,t(" æœ€å¤§è½¬é€Ÿ:"+n(),1),Oo]),_:1},8,["modelValue"]),d(m,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=h=>v.value=h),title:"å·¦è½®","custom-class":"custom-dialog2",modal:!1},{default:w(()=>[t(" é©±åŠ¨å†…åæ ‡X:"+n(),1),Bo,t(" é©±åŠ¨å†…åæ ‡Y:"+n(),1),Xo,t(" ç”µæœºå‡é€Ÿæ¯”:"+n(),1),Go,t(" è½¦è½®ç›´å¾„:"+n(),1),jo,t(" ç ç›˜çº¿æŸ:"+n(),1),zo,t(" æœ€å¤§è½¬é€Ÿ:"+n(),1),Yo]),_:1},8,["modelValue"])],64)}}};const Zo=k=>(Ne("data-v-3c5cd802"),k=k(),De(),k),Ho={class:"home"},Qo={class:"choose"},Wo=Zo(()=>l("div",{class:"choose-title"},"æ§åˆ¶ï¼š",-1)),Ko={class:"file-upload"},es={class:"logprocess"},ls=["disabled","max"],ts=["disabled","title"],ns=["disabled","title"],os={key:0},K=500,ss={__name:"index",setup(k){const c=I(null),r=I(null),v=new fl,g=new pl;g.setDecoderPath("https://asdqvqw.github.io/whwtest.github.io/draco/"),v.setDRACOLoader(g);const p=I(0),a=new Q(16777215,1);a.position.set(0,0,10);const m=new Q(16777215,1);m.position.set(0,0,-10);const h=new Q(16777215,1);h.position.set(10,0,0);const O=new Q(16777215,1);O.position.set(-10,0,0);const B=new Q(16777215,1);B.position.set(0,10,0);let X,M,f,ke=I(null),je=7;const ie=new ul,J=new rl,G=new cl(75,window.innerWidth/window.innerHeight,.1,1e3);G.position.set(0,2,6);const ze=i=>{const u=i.target.files[0],_=new FileReader;_.onload=E=>{const N=String(E.target.result);Ye(N)},_.readAsText(u)},Ye=i=>{H.success("å¼€å§‹å¯¼å…¥æ•°æ®...");const u=i.split("[INFO | ");for(let _=1;_<u.length;_++){const E=u[_],N=E.indexOf("]"),T=E.substring(0,N).trim(),Z=E.substring(N+3).trim(),x=JSON.parse(Z),D=x.navInfo.fRealX.toFixed(3),Ie=x.navInfo.fRealY.toFixed(3),Ce=0,Se=(x.navInfo.fRealThita*180/Math.PI).toFixed(3);let me="",fe="";x.equipmentInfo.rack!==void 0&&(me=x.equipmentInfo.rack.turn_axis.fAxisPosition/1e3,fe=x.equipmentInfo.rack.lifter_axis.fAxisPosition);let ve="";x.uAgvType!==void 0&&(ve=x.uAgvType);let pe=[];if(x.item!==void 0){const ll=x.item;for(const be of ll){const tl=be.name;let Ve={};for(const he in be)if(he!=="name"){const nl=be[he];Ve[he]=nl}pe.push({itemName:tl,itemObject:Ve})}}let ge="";x.statistics!==void 0&&(ge=x.statistics),o.value.push({logDateTime:T,logJson:x,realx:D,realy:Ie,realthita:Se,realz:Ce,agvType:ve,parsedItems:pe,trunpan:me,lifter:fe,StatisticsData:ge}),Pe.push({logDateTime:T,logJson:x,realx:D,realy:Ie,realthita:Se,realz:Ce,agvType:ve,parsedItems:pe,trunpan:me,lifter:fe,StatisticsData:ge})}H.success("å¼€å§‹å¯¼å…¥æ¨¡å‹..."),lt.parsedLogData_b=o.value,p.value=o.value.length-1,o.value[0].agvType===0?(v.load("./main/test.glb",_=>{f=_.scene,f.rotation.set(0,z.degToRad(90),0),J.add(f),$e(),ce(),de()},_=>{console.log(_.loaded/_.total*100+"% loaded")},_=>{console.error("Error loading model:",_)}),H.success("å¯¼å…¥å®Œæˆ")):o.value[0].agvType===1?(v.load("./main/v.glb",_=>{f=_.scene,f.rotation.set(0,z.degToRad(90),0),J.add(f),ye(),ce(),de()},_=>{console.log(_.loaded/_.total*100+"% loaded")},_=>{console.error("Error loading model:",_)}),H.success("å¯¼å…¥å®Œæˆ")):H.error("æ²¡æœ‰åŒ¹é…æ¨¡å‹"),V.value=!1,Ue()},Ue=()=>{const i=new Ee({color:255,linewidth:1}),u=o.value.map(D=>new P(D.realx,D.realz,-D.realy)),_=new Fe().setFromPoints(u);let E=new qe(_,i);const N=new Ee({color:16711680,linewidth:1}),T=o.value.map(D=>new P(D.logJson.tcInfo.iDevX/1e3,0,-D.logJson.tcInfo.iDevY/1e3)),Z=new Fe().setFromPoints(T);let x=new qe(Z,N);s.value=0,J.add(E),J.add(x),re()},Ze=()=>{if(f&&s.value>0){s.value--;const i=o.value[s.value];f.position.set(i.realx,0,-i.realy);const u=new ne(0,z.degToRad(o.value[s.value-1].realthita),0,"XYZ"),_=new oe().setFromEuler(u);f.setRotationFromQuaternion(_),ee(),le()}},He=()=>{if(f&&q.value&&s.value>0){s.value--;const i=o.value[s.value];f.position.set(i.realx,0,-i.realy);const u=new ne(0,z.degToRad(o.value[s.value-1].realthita),0,"XYZ"),_=new oe().setFromEuler(u);f.setRotationFromQuaternion(_),ee(),le()}},Qe=()=>{if(f&&q.value&&s.value<o.value.length-1){s.value++;const i=o.value[s.value];f.position.set(i.realx,0,-i.realy);const u=new ne(0,z.degToRad(o.value[s.value+1].realthita),0,"XYZ"),_=new oe().setFromEuler(u);f.setRotationFromQuaternion(_),ee(),le()}},We=i=>{ie.x=i.clientX/window.innerWidth*2-1,ie.y=-(i.clientY/window.innerHeight)*2+1,ae.setFromCamera(ie,G),f!==void 0&&(ae.intersectObjects([f]).length>0?(Ae.value=i.clientX+10,Oe.value=i.clientY+10,se.value=!0):se.value=!1)},Ke=()=>{se.value=!1},te=new _l({antialias:!0});te.setSize(window.innerWidth,window.innerHeight);const el=()=>{if(f&&!q.value&&!F.value&&o.value[s.value]&&o.value[s.value+1]){s.value++;const i=o.value[s.value];f.position.set(i.realx,0,-i.realy);const u=new ne(0,z.degToRad(o.value[s.value].realthita),0,"XYZ"),_=new oe().setFromEuler(u);f.setRotationFromQuaternion(_),ee(),le(),o.value[s.value].logJson.nAgvState===3&&o.value[s.value].logJson.event.name!==""&&(xe.value=2,F.value=!0)}};let ue=0;const re=()=>{ue++,ue>=je&&(el(),ue=0),Y.value&&f&&(G.position.copy(f.position),G.position.y+=6,G.lookAt(f.position)),te.render(J,G),X&&X.update(),requestAnimationFrame(re)},ye=()=>{f.traverse(i=>{i.name==="upDown"&&(i.position.y=o.value[s.value].lifter*1e3),i.name==="leftwheel"&&(i.rotation.z+=o.value[s.value].logJson.electricalModule.kinematic.drive[0].wheel.fServoSpeed.toFixed(5)*.5),i.name==="rightwheel"&&(i.rotation.z+=o.value[s.value].logJson.electricalModule.kinematic.drive[1].wheel.fServoSpeed.toFixed(5)*.5)}),requestAnimationFrame(ye)},$e=()=>{f.traverse(i=>{if(i.name==="upDown"&&(i.rotation.y=o.value[s.value].trunpan.toFixed(2),i.position.y=o.value[s.value].lifter+1e3),i.name==="leftwheel"&&(i.rotation.z+=o.value[s.value].logJson.electricalModule.kinematic.drive[0].wheel.fServoSpeed.toFixed(5)*.5),i.name==="rightwheel"&&(i.rotation.z+=o.value[s.value].logJson.electricalModule.kinematic.drive[1].wheel.fServoSpeed.toFixed(5)*.5),i.name==="turnnei")if(o.value[s.value].logJson.equipmentInfo.rack.turn_axis.bLevel){const u=new R({color:16711680});i.material=u}else{const u=new R({color:65280});i.material=u}if(i.name==="turnwai")if(o.value[s.value].logJson.equipmentInfo.rack.turn_axis.bZero){const u=new R({color:16711680});i.material=u}else{const u=new R({color:65280});i.material=u}if(i.name==="liftertop")if(o.value[s.value].logJson.equipmentInfo.rack.lifter_axis.bTop){const u=new R({color:16711680});i.material=u}else{const u=new R({color:65280});i.material=u}if(i.name==="lifterbuttom")if(o.value[s.value].logJson.equipmentInfo.rack.lifter_axis.bBottom){const u=new R({color:16711680});i.material=u}else{const u=new R({color:65280});i.material=u}}),requestAnimationFrame($e)},ce=()=>{f.traverse(i=>{if(i.name==="screen2"){const u=Math.random()*16777215;i.material.color.setHex(u)}}),setTimeout(ce,200)};let _e=1;const de=()=>{const u={1:{on:65280,off:16777215},2:{on:16711680,off:16777215}}[xe.value],_=u.on,E=u.off,N=(T,Z)=>{T.traverse(x=>{x instanceof ml&&(x.material.color.clone(),x.material.color.set(Z))})};f.traverse(T=>{T.name==="light"&&(_e===1?N(T,_):N(T,E))}),_e=1-_e,setTimeout(de,500)};return Te(()=>{window.addEventListener("mousemove",We),window.addEventListener("mouseout",Ke),window.addEventListener("click",()=>{c.value.handleMouseClick(f)}),window.addEventListener("click",()=>{r.value.handleMouseClickwheel(f)}),ke.value.appendChild(te.domElement),M=new dl(K,K),M.material.opacity=.3,M.material.transparent=!0,J.add(M);const i=new we(new P(1,0,0),new P(0,0,0),K/2,16711680),u=new we(new P(0,0,0),new P(0,0,0),K/2,65280),_=new we(new P(0,0,-1),new P(0,0,0),K/2,255);J.add(i,u,_),X=new vl(G,te.domElement),X.update(),J.add(a),J.add(m),J.add(h),J.add(O),J.add(B),re()}),(i,u)=>{const _=j;return y(),$("div",Ho,[l("div",{class:"canvas-container",ref_key:"canvasDom",ref:ke},null,512),l("div",Qo,[Wo,C(l("div",Ko,[l("input",{ref:"importInput",type:"file",accept:".log",style:{display:"none"},onChange:ze},null,544),d(_,{onClick:u[0]||(u[0]=E=>i.$refs.importInput.click()),class:"buttonstyle"},{default:w(()=>[t(" å¯¼å…¥ ")]),_:1})],512),[[S,e(V)]]),C(l("div",es,[t(" å›æ”¾è¿›åº¦:"+n(e(F)?"è¯·å¤„ç†äº‹ä»¶":e(o)[e(s)]===void 0?"":e(o)[e(s)].logDateTime)+" ",1),C(l("input",{disabled:e(F),type:"range",style:{width:"100%"},"onUpdate:modelValue":u[1]||(u[1]=E=>al(s)?s.value=E:null),min:"0",max:p.value,step:"1",onChange:Ze},null,40,ls),[[il,e(s)]])],512),[[S,!e(V)]]),d(at),C(l("div",null,[l("button",{disabled:!e(q)||e(s)===e(o).length+1,onClick:He,class:"next2playbuttonstyle",title:e(q)?"ä¸Šä¸€æ­¥":"è¯·æš‚åœ"},null,8,ts),l("button",{disabled:!e(q)||e(s)===e(o).length-1,onClick:Qe,class:"nextplaybuttonstyle",title:e(q)?"ä¸‹ä¸€æ­¥":"è¯·æš‚åœ"},null,8,ns)],512),[[S,!e(V)]]),d(Ft)]),d(qn),d(ko),e(F)?(y(),$("div",os,[d(So)])):U("",!0),d(Fo),d(zn),d(Lo,{ref_key:"screenRef",ref:c},null,512),d(Uo,{ref_key:"wheelRef",ref:r},null,512),d(It)])}}},fs=Le(ss,[["__scopeId","data-v-3c5cd802"]]);export{fs as default};
