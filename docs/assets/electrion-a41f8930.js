import{_ as K,o as e,c as u,b as t,f as d,m as b,a as l,F as y,aY as v,e as i,g as E,bl as m,l as de,E as z,p as H,q as W,bc as oe,aV as F,Q as xe}from"./index-bf9c25ed.js";import{E as ye,a as ve,_ as we}from"./check-067733ca.js";import{E as Ue}from"./el-dialog-486a7c46.js";import{j as a}from"./commondata-29612e59.js";import{E as Z}from"./el-card-455b5d51.js";import"./el-tag-73ba4ae8.js";import{E as ee,a as le}from"./el-select-d934825e.js";import"./el-scrollbar-90dc6b8e.js";import"./el-popper-401dfcfd.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 */import{_ as me}from"./DefinScrollbar-bc8882a5.js";import"./strings-e290ffad.js";import"./index-91ce8e36.js";import"./isEqual-4a3f5552.js";import"./Uint8Array-18db29ae.js";import"./debounce-a237023a.js";/* empty css                                                                       */const se=V=>(H("data-v-4f74f6f2"),V=V(),W(),V),$e={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},ke={class:"input-group"},Ce=se(()=>l("label",null,"名称:",-1)),Pe={class:"button-values"},Se={class:"input-group"},Le=se(()=>l("label",null,"IO:",-1)),Ie={key:0,class:"input-group"},Ne=se(()=>l("label",null,"can路数:",-1)),Oe={key:1,class:"input-group"},Ae={key:0},Be={key:1},Re={class:"input-group"},Me={key:0},De={key:1},Ee=se(()=>l("br",null,null,-1)),Ge={key:2},Te={class:"input-group"},Xe=se(()=>l("label",null,"电平:",-1)),Ye={__name:"index",setup(V){const G=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],N=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],X=()=>{a.value.SafetyLoop.Bumper.push({name:"请输入名称",io_input:[2,2,2,2,0]})},O=p=>{a.value.SafetyLoop.Bumper.splice(p,1)},Y=p=>{[3,2,5].includes(a.value.SafetyLoop.Bumper[p].io_input[0])||(a.value.SafetyLoop.Bumper[p].io_input[1]=2),[1].includes(a.value.SafetyLoop.Bumper[p].io_input[0])||(a.value.SafetyLoop.Bumper[p].io_input[2]=2,a.value.SafetyLoop.Bumper[p].io_input[3]=2)},P=p=>[3,2,5].includes(a.value.SafetyLoop.Bumper[p].io_input[0]),$=p=>!A(p),A=p=>a.value.SafetyLoop.Bumper[p].io_input[0]===4,k=p=>a.value.SafetyLoop.Bumper[p].io_input[0]===1,_=p=>{const C=parseInt(a.value.SafetyLoop.Bumper[p].io_input[3],16);a.value.SafetyLoop.Bumper[p].io_input[3]=isNaN(C)?2:parseInt(a.value.SafetyLoop.Bumper[p].io_input[3],16)};return(p,C)=>{const w=de,D=z,s=ee,L=le,U=Z;return e(),u(y,null,[t(w,{type:"primary",onClick:X,style:{"margin-left":"1vw"}},{default:d(()=>[b("添加卡片")]),_:1}),l("div",$e,[(e(!0),u(y,null,v(m(a).SafetyLoop.Bumper,(g,c)=>(e(),i(U,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[l("div",ke,[Ce,t(D,{modelValue:g.name,"onUpdate:modelValue":n=>g.name=n,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(w,{type:"danger",onClick:n=>O(c)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"])]),l("div",Pe,[l("div",Se,[Le,t(L,{modelValue:g.io_input[0],"onUpdate:modelValue":n=>g.io_input[0]=n,placeholder:"选择类型",onChange:n=>Y(c),style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(G,n=>t(s,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),P(c)?(e(),u("div",Ie,[Ne,t(L,{modelValue:g.io_input[1],"onUpdate:modelValue":n=>g.io_input[1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(N,n=>t(s,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),$(c)?(e(),u("div",Oe,[k(c)?(e(),u("label",Ae,"本地IO地址:")):(e(),u("label",Be,"模块编号:")),k(c)?(e(),i(D,{key:2,modelValue:g.io_input[2],"onUpdate:modelValue":n=>g.io_input[2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(L,{key:3,modelValue:g.io_input[2],"onUpdate:modelValue":n=>g.io_input[2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(s,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",Re,[k(c)?(e(),u("label",Me,"输出点对应位:")):A(c)?(e(),u("label",De,[b("输入点对应位:"),Ee,b("自动转化")])):(e(),u("label",Ge,"模块内输出点编号:")),k(c)?(e(),i(L,{key:3,modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(n,T)=>T),n=>(e(),i(s,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):A(c)?(e(),i(D,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,modelModifiers:{number:!0},onChange:n=>_(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(L,{key:5,modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(s,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Te,[Xe,t(L,{modelValue:g.io_input[4],"onUpdate:modelValue":n=>g.io_input[4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(s,{label:"高",value:1}),t(s,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},je=K(Ye,[["__scopeId","data-v-4f74f6f2"]]);const ce=V=>(H("data-v-e539376d"),V=V(),W(),V),Fe={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Je={class:"input-group"},qe={class:"button-values"},Ke={class:"input-group"},Qe=ce(()=>l("label",null,"IO:",-1)),ze={key:0,class:"input-group"},He=ce(()=>l("label",null,"can路数:",-1)),We={key:1,class:"input-group"},Ze={key:0},el={key:1},ll={class:"input-group"},tl={key:0},ol={key:1},al=ce(()=>l("br",null,null,-1)),nl={key:2},ul={class:"input-group"},dl=ce(()=>l("label",null,"电平:",-1)),sl={__name:"index",setup(V){const G=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],N=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],X=()=>{[3,2,5].includes(a.value.SafetyLoop.PowerRelay.io_input[0])||(a.value.SafetyLoop.PowerRelay.io_input[1]=2),[1].includes(a.value.SafetyLoop.PowerRelay.io_input[0])||(a.value.SafetyLoop.PowerRelay.io_input[2]=2,a.value.SafetyLoop.PowerRelay.io_input[3]=2)},O=()=>[3,2,5].includes(a.value.SafetyLoop.PowerRelay.io_input[0]),Y=()=>!P(),P=()=>a.value.SafetyLoop.PowerRelay.io_input[0]===4,$=()=>a.value.SafetyLoop.PowerRelay.io_input[0]===1,A=()=>{const k=parseInt(a.value.SafetyLoop.PowerRelay.io_input[3],16);a.value.SafetyLoop.PowerRelay.io_input[3]=isNaN(k)?2:parseInt(a.value.SafetyLoop.PowerRelay.io_input[3],16)};return(k,_)=>{const p=ee,C=le,w=z,D=Z;return e(),u("div",Fe,[t(D,{class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[l("div",Je,[l("strong",null,oe(m(a).SafetyLoop.PowerRelay.name),1)]),l("div",qe,[l("div",Ke,[Qe,t(C,{modelValue:m(a).SafetyLoop.PowerRelay.io_input[0],"onUpdate:modelValue":_[0]||(_[0]=s=>m(a).SafetyLoop.PowerRelay.io_input[0]=s),placeholder:"选择类型",onChange:X,style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(G,s=>t(p,{key:s.value,label:s.label,value:s.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),O()?(e(),u("div",ze,[He,t(C,{modelValue:m(a).SafetyLoop.PowerRelay.io_input[1],"onUpdate:modelValue":_[1]||(_[1]=s=>m(a).SafetyLoop.PowerRelay.io_input[1]=s),placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(N,s=>t(p,{key:s.value,label:s.label,value:s.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])):E("",!0),Y()?(e(),u("div",We,[$()?(e(),u("label",Ze,"本地IO地址:")):(e(),u("label",el,"模块编号:")),$()?(e(),i(w,{key:2,modelValue:m(a).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":_[2]||(_[2]=s=>m(a).SafetyLoop.PowerRelay.io_input[2]=s),modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])):(e(),i(C,{key:3,modelValue:m(a).SafetyLoop.PowerRelay.io_input[2],"onUpdate:modelValue":_[3]||(_[3]=s=>m(a).SafetyLoop.PowerRelay.io_input[2]=s),placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(s,L)=>L+1),s=>(e(),i(p,{key:s,label:s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))])):E("",!0),l("div",ll,[$()?(e(),u("label",tl,"输出点对应位:")):P()?(e(),u("label",ol,[b("输入点对应位:"),al,b("自动转化")])):(e(),u("label",nl,"模块内输出点编号:")),$()?(e(),i(C,{key:3,modelValue:m(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[4]||(_[4]=s=>m(a).SafetyLoop.PowerRelay.io_input[3]=s),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(s,L)=>L+1),s=>(e(),i(p,{key:s,label:"bit"+s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):P()?(e(),i(w,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:m(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[5]||(_[5]=s=>m(a).SafetyLoop.PowerRelay.io_input[3]=s),modelModifiers:{number:!0},onChange:A},null,8,["modelValue"])):(e(),i(C,{key:5,modelValue:m(a).SafetyLoop.PowerRelay.io_input[3],"onUpdate:modelValue":_[6]||(_[6]=s=>m(a).SafetyLoop.PowerRelay.io_input[3]=s),placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(s,L)=>L+1),s=>(e(),i(p,{key:s,label:s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))]),l("div",ul,[dl,t(C,{modelValue:m(a).SafetyLoop.PowerRelay.io_input[4],"onUpdate:modelValue":_[7]||(_[7]=s=>m(a).SafetyLoop.PowerRelay.io_input[4]=s),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(p,{label:"高",value:1}),t(p,{label:"低",value:0})]),_:1},8,["modelValue"])])])]),_:1})])}}},il=K(sl,[["__scopeId","data-v-e539376d"]]);const ae=V=>(H("data-v-9978827b"),V=V(),W(),V),pl={style:{display:"flex",gap:"20px","flex-wrap":"nowrap"}},rl={class:"button-values"},_l={class:"input-group"},cl=ae(()=>l("label",null,"IO:",-1)),hl={key:0,class:"input-group"},ml=ae(()=>l("label",null,"can路数:",-1)),yl={key:1,class:"input-group"},vl={key:0},gl={key:1},fl={class:"input-group"},bl={key:0},Vl={key:1},xl=ae(()=>l("br",null,null,-1)),wl={key:2},Ul={class:"input-group"},$l=ae(()=>l("label",null,"电平:",-1)),kl={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},Cl=ae(()=>l("h4",null,"类型",-1)),Pl=ae(()=>l("h4",null,"Modbus 类型",-1)),Sl={__name:"index",setup(V){const G=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],N=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],X=_=>{switch(_){case"startBtn":return"启动按钮";case"manualSwt":return"手动";case"autoSwt":return"自动";case"stopBtn":return"抱闸";default:return _}},O=_=>{console.log("1111",_);const p=parseInt(a.value.Panel.Button[_][3],16);a.value.Panel.Button[_][3]=isNaN(p)?2:parseInt(a.value.Panel.Button[_][3],16)},Y=_=>{[1,2,4].includes(a.value.Panel.Button[_][0])||(a.value.Panel.Button[_][1]=2),[3].includes(a.value.Panel.Button[_][0])||(a.value.Panel.Button[_][2]=2,a.value.Panel.Button[_][3]=2)},P=_=>[3,2,5].includes(a.value.Panel.Button[_][0]),$=_=>!A(_),A=_=>a.value.Panel.Button[_][0]===4,k=_=>a.value.Panel.Button[_][0]===1;return(_,p)=>{const C=ee,w=le,D=z,s=Z,L=ye,U=ve;return e(),i(U,null,{default:d(()=>[t(L,{label:"开关设置"},{default:d(()=>[l("div",pl,[(e(!0),u(y,null,v(m(a).Panel.Button,(g,c)=>(e(),i(s,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[l("h4",null,oe(X(c)),1),l("div",rl,[l("div",_l,[cl,t(w,{modelValue:m(a).Panel.Button[c][0],"onUpdate:modelValue":n=>m(a).Panel.Button[c][0]=n,placeholder:"选择类型",onChange:n=>Y(c),style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(G,n=>t(C,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),P(c)?(e(),u("div",hl,[ml,t(w,{modelValue:m(a).Panel.Button[c][1],"onUpdate:modelValue":n=>m(a).Panel.Button[c][1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(N,n=>t(C,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),$(c)?(e(),u("div",yl,[k(c)?(e(),u("label",vl,"本地IO地址:")):(e(),u("label",gl,"模块编号:")),k(c)?(e(),i(D,{key:2,modelValue:m(a).Panel.Button[c][2],"onUpdate:modelValue":n=>m(a).Panel.Button[c][2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(w,{key:3,modelValue:m(a).Panel.Button[c][2],"onUpdate:modelValue":n=>m(a).Panel.Button[c][2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(C,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",fl,[k(c)?(e(),u("label",bl,"输出点对应位:")):A(c)?(e(),u("label",Vl,[b("输入点对应位:"),xl,b("自动转化")])):(e(),u("label",wl,"模块内输出点编号:")),k(c)?(e(),i(w,{key:3,modelValue:m(a).Panel.Button[c][3],"onUpdate:modelValue":n=>m(a).Panel.Button[c][3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(n,T)=>T),n=>(e(),i(C,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):A(c)?(e(),i(D,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:m(a).Panel.Button[c][3],"onUpdate:modelValue":n=>m(a).Panel.Button[c][3]=n,modelModifiers:{number:!0},onChange:n=>O(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(w,{key:5,modelValue:m(a).Panel.Button[c][3],"onUpdate:modelValue":n=>m(a).Panel.Button[c][3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(C,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Ul,[$l,t(w,{modelValue:m(a).Panel.Button[c][4],"onUpdate:modelValue":n=>m(a).Panel.Button[c][4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(C,{label:"高",value:1}),t(C,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])]),_:1}),t(L,{label:"屏幕"},{default:d(()=>[l("div",kl,[t(s,{"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Cl,t(w,{modelValue:m(a).Panel.Display.type,"onUpdate:modelValue":p[0]||(p[0]=g=>m(a).Panel.Display.type=g),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(C,{label:"无屏幕",value:0}),t(C,{label:"modus屏幕",value:1}),t(C,{label:"数码管",value:2})]),_:1},8,["modelValue"])]),_:1}),m(a).Panel.Display.type===1?(e(),i(s,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Pl,t(w,{modelValue:m(a).Panel.Display.modbus.type,"onUpdate:modelValue":p[1]||(p[1]=g=>m(a).Panel.Display.modbus.type=g),placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(C,{label:"网口屏幕",value:"TCP"}),t(C,{label:"串口屏幕",value:"RTU"})]),_:1},8,["modelValue"])]),_:1})):E("",!0)])]),_:1})]),_:1})}}},Ll=K(Sl,[["__scopeId","data-v-9978827b"]]);F(!1);F({name:"",value:[1,1,1,1,1,1],editingIndex:-1});F(!1);F({name:"",value:[1,1,1,1,1,1],editingIndex:-1});const ie=V=>(H("data-v-ab148fb7"),V=V(),W(),V),Il={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Nl={class:"input-group"},Ol=ie(()=>l("label",null,"名称:",-1)),Al={class:"button-values"},Bl={class:"input-group"},Rl=ie(()=>l("label",null,"IO:",-1)),Ml={key:0,class:"input-group"},Dl=ie(()=>l("label",null,"can路数:",-1)),El={key:1,class:"input-group"},Gl={key:0},Tl={key:1},Xl={class:"input-group"},Yl={key:0},jl={key:1},Fl=ie(()=>l("br",null,null,-1)),Jl={key:2},ql={class:"input-group"},Kl=ie(()=>l("label",null,"电平:",-1)),Ql={__name:"index",setup(V){const G=[{label:"CAN-POS",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],N=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],X=()=>{a.value.SafetyLoop.Emg.push({name:"请输入名称",io_input:[2,2,2,2,0]})},O=p=>{a.value.SafetyLoop.Emg.splice(p,1)},Y=p=>{[3,2,5].includes(a.value.SafetyLoop.Emg[p].io_input[0])||(a.value.SafetyLoop.Emg[p].io_input[1]=2),[1].includes(a.value.SafetyLoop.Emg[p].io_input[0])||(a.value.SafetyLoop.Emg[p].io_input[2]=2,a.value.SafetyLoop.Emg[p].io_input[3]=2)},P=p=>[3,2,5].includes(a.value.SafetyLoop.Emg[p].io_input[0]),$=p=>!A(p),A=p=>a.value.SafetyLoop.Emg[p].io_input[0]===4,k=p=>a.value.SafetyLoop.Emg[p].io_input[0]===1,_=p=>{const C=parseInt(a.value.SafetyLoop.Emg[p].io_input[3],16);a.value.SafetyLoop.Emg[p].io_input[3]=isNaN(C)?2:parseInt(a.value.SafetyLoop.Emg[p].io_input[3],16)};return(p,C)=>{const w=de,D=z,s=ee,L=le,U=Z;return e(),u(y,null,[t(w,{type:"primary",onClick:X,style:{"margin-left":"1vw"}},{default:d(()=>[b("添加卡片")]),_:1}),l("div",Il,[(e(!0),u(y,null,v(m(a).SafetyLoop.Emg,(g,c)=>(e(),i(U,{key:c,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[l("div",Nl,[Ol,t(D,{modelValue:g.name,"onUpdate:modelValue":n=>g.name=n,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(w,{type:"danger",onClick:n=>O(c)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"])]),l("div",Al,[l("div",Bl,[Rl,t(L,{modelValue:g.io_input[0],"onUpdate:modelValue":n=>g.io_input[0]=n,placeholder:"选择类型",onChange:n=>Y(c),style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(G,n=>t(s,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),P(c)?(e(),u("div",Ml,[Dl,t(L,{modelValue:g.io_input[1],"onUpdate:modelValue":n=>g.io_input[1]=n,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(N,n=>t(s,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),$(c)?(e(),u("div",El,[k(c)?(e(),u("label",Gl,"本地IO地址:")):(e(),u("label",Tl,"模块编号:")),k(c)?(e(),i(D,{key:2,modelValue:g.io_input[2],"onUpdate:modelValue":n=>g.io_input[2]=n,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(L,{key:3,modelValue:g.io_input[2],"onUpdate:modelValue":n=>g.io_input[2]=n,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(s,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",Xl,[k(c)?(e(),u("label",Yl,"输出点对应位:")):A(c)?(e(),u("label",jl,[b("输入点对应位:"),Fl,b("自动转化")])):(e(),u("label",Jl,"模块内输出点编号:")),k(c)?(e(),i(L,{key:3,modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(n,T)=>T),n=>(e(),i(s,{key:n,label:"bit"+n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):A(c)?(e(),i(D,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,modelModifiers:{number:!0},onChange:n=>_(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(L,{key:5,modelValue:g.io_input[3],"onUpdate:modelValue":n=>g.io_input[3]=n,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(n,T)=>T),n=>(e(),i(s,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",ql,[Kl,t(L,{modelValue:g.io_input[4],"onUpdate:modelValue":n=>g.io_input[4]=n,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(s,{label:"高",value:1}),t(s,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024))),128))])],64)}}},zl=K(Ql,[["__scopeId","data-v-ab148fb7"]]);const Hl={class:"flex-container"},Wl={class:"battery-info"},Zl={__name:"Better",setup(V){const G=N=>{switch(N){case"normal_percent":return"正常电量";case"low_percent":return"低电量";case"lower_percent":return"较低电量";default:return N}};return(N,X)=>{const O=z,Y=Z;return e(),u("div",Hl,[(e(!0),u(y,null,v(m(a).Battery,(P,$)=>(e(),i(Y,{class:"battery-card",key:$},{default:d(()=>[l("h3",null,oe(G($)),1),l("div",Wl,[t(O,{modelValue:m(a).Battery[$],"onUpdate:modelValue":A=>m(a).Battery[$]=A,modelModifiers:{number:!0},min:0,max:100,type:"number",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),l("p",null,oe(m(a).Battery[$])+"%",1)])]),_:2},1024))),128))])}}},et=K(Zl,[["__scopeId","data-v-7c3dfd76"]]);const R=V=>(H("data-v-899b1f1b"),V=V(),W(),V),lt={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},tt={key:0},ot={class:"input-group"},at=R(()=>l("label",null,"名称:",-1)),nt={class:"input-group"},ut=R(()=>l("label",null,"类型:",-1)),dt={key:0},st={class:"input-group"},it=R(()=>l("label",null,"IO类型:",-1)),pt={style:{display:"flex","flex-wrap":"wrap",gap:"10px","margin-top":"10px"}},rt={class:"button-values"},_t={class:"input-group"},ct=R(()=>l("label",null,"IO:",-1)),ht={key:0,class:"input-group"},mt=R(()=>l("label",null,"can路数:",-1)),yt={key:1,class:"input-group"},vt={key:0},gt={key:1},ft={class:"input-group"},bt={key:0},Vt={key:1},xt=R(()=>l("br",null,null,-1)),wt={key:2},Ut={class:"input-group"},$t=R(()=>l("label",null,"电平:",-1)),kt={style:{display:"flex",gap:"20px","flex-wrap":"nowrap","margin-top":"2%"}},Ct=R(()=>l("strong",null,"近:",-1)),Pt={class:"button-values"},St={class:"input-group"},Lt=R(()=>l("label",null,"IO:",-1)),It={key:0,class:"input-group"},Nt=R(()=>l("label",null,"can路数:",-1)),Ot={key:1,class:"input-group"},At={key:0},Bt={key:1},Rt={class:"input-group"},Mt={key:0},Dt={key:1},Et=R(()=>l("br",null,null,-1)),Gt={key:2},Tt={class:"input-group"},Xt=R(()=>l("label",null,"电平:",-1)),Yt=R(()=>l("strong",null,"中:",-1)),jt={class:"button-values"},Ft={class:"input-group"},Jt=R(()=>l("label",null,"IO:",-1)),qt={key:0,class:"input-group"},Kt=R(()=>l("label",null,"can路数:",-1)),Qt={key:1,class:"input-group"},zt={key:0},Ht={key:1},Wt={class:"input-group"},Zt={key:0},eo={key:1},lo=R(()=>l("br",null,null,-1)),to={key:2},oo={class:"input-group"},ao=R(()=>l("label",null,"电平:",-1)),no=R(()=>l("strong",null,"远:",-1)),uo={class:"button-values"},so={class:"input-group"},io=R(()=>l("label",null,"IO:",-1)),po={key:0,class:"input-group"},ro=R(()=>l("label",null,"can路数:",-1)),_o={key:1,class:"input-group"},co={key:0},ho={key:1},mo={class:"input-group"},yo={key:0},vo={key:1},go=R(()=>l("br",null,null,-1)),fo={key:2},bo={class:"input-group"},Vo=R(()=>l("label",null,"电平:",-1)),xo={key:1},wo={class:"input-group"},Uo=R(()=>l("label",null,"IP地址:",-1)),$o={class:"input-group"},ko=R(()=>l("label",null,"端口:",-1)),Co={key:1},Po={class:"input-group"},So=R(()=>l("label",null,"名称:",-1)),Lo=R(()=>l("br",null,null,-1)),Io={__name:"index",setup(V){const G=F({}),N=h=>{G.value[h]=!G.value[h]},X=[{label:"不启用",value:0},{label:"CAN-POS",value:2},{label:"CAN-OPEN",value:3},{label:"本地IO",value:1},{label:"CAN-IO",value:5},{label:"GPIO",value:4}],O=[{label:"CAN1",value:1},{label:"CAN2",value:2},{label:"CAN3",value:3},{label:"CAN4",value:4},{label:"CAN5",value:5}],Y=()=>{a.value.SafetyLoop.Pls.push({name:"请输入名称",type:0,config:{io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}})},P=h=>{a.value.SafetyLoop.Pls.splice(h,1)},$=h=>{const M=a.value.SafetyLoop.Pls[h];M.type===0?M.config={io:{type:3,area:[{area_output:[2,2,2,2,1]}],near:[2,2,2,2,1],center:[2,2,2,2,1],far:[2,2,2,2,1]},net:{ip:"0.0.0.0",port:0}}:M.type===1&&(M.config.net={ip:"192.168.3.101",port:8002},M.config.io={type:0,area:[],near:[0,0,0,0,0],center:[0,0,0,0,0],far:[0,0,0,0,0]})},A=h=>{a.value.SafetyLoop.Pls[h].config.io.area.push({area_output:[0,0,0,0,0]})},k=(h,M)=>{a.value.SafetyLoop.Pls[h].config.io.area.splice(M,1)},_=h=>[3,2,5].includes(a.value.SafetyLoop.Pls[h].config.io.near[0]),p=h=>[3,2,5].includes(a.value.SafetyLoop.Pls[h].config.io.center[0]),C=h=>[3,2,5].includes(a.value.SafetyLoop.Pls[h].config.io.far[0]),w=(h,M)=>[3,2,5].includes(a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[0]),D=(h,M)=>!c(h),s=(h,M)=>a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[0]===4,L=(h,M)=>a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[0]===1,U=(h,M)=>{const Q=parseInt(a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[3],16);a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[3]=isNaN(Q)?2:parseInt(a.value.SafetyLoop.Pls[h].config.io.area[M].area_output[3],16)},g=h=>!c(h),c=h=>a.value.SafetyLoop.Pls[h].config.io.near[0]===4,n=h=>!T(h),T=h=>a.value.SafetyLoop.Pls[h].config.io.center[0]===4,ge=h=>!he(h),he=h=>a.value.SafetyLoop.Pls[h].config.io.far[0]===4,pe=h=>a.value.SafetyLoop.Pls[h].config.io.near[0]===1,re=h=>a.value.SafetyLoop.Pls[h].config.io.center[0]===1,_e=h=>a.value.SafetyLoop.Pls[h].config.io.far[0]===1,fe=h=>{const M=parseInt(a.value.SafetyLoop.Pls[h].config.io.near[3],16);a.value.SafetyLoop.Pls[h].config.io.near[3]=isNaN(M)?2:parseInt(a.value.SafetyLoop.Pls[h].config.io.near[3],16)},be=h=>{const M=parseInt(a.value.SafetyLoop.Pls[h].config.io.center[3],16);a.value.SafetyLoop.Pls[h].config.io.center[3]=isNaN(M)?2:parseInt(a.value.SafetyLoop.Pls[h].config.io.center[3],16)},Ve=h=>{const M=parseInt(a.value.SafetyLoop.Pls[h].config.io.far[3],16);a.value.SafetyLoop.Pls[h].config.io.far[3]=isNaN(M)?2:parseInt(a.value.SafetyLoop.Pls[h].config.io.far[3],16)};return(h,M)=>{const Q=de,q=z,S=ee,B=le,te=Z;return e(),u(y,null,[t(Q,{type:"primary",onClick:Y,style:{"margin-left":"1vw"}},{default:d(()=>[b("添加卡片")]),_:1}),l("div",lt,[(e(!0),u(y,null,v(m(a).SafetyLoop.Pls,(r,f)=>(e(),i(te,{key:f,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[G.value[f]?(e(),u("div",tt,[l("div",ot,[at,t(q,{modelValue:r.name,"onUpdate:modelValue":o=>r.name=o,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(Q,{type:"danger",onClick:o=>P(f)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"])]),l("div",nt,[ut,t(B,{modelValue:r.type,"onUpdate:modelValue":o=>r.type=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"},onChange:o=>$(f)},{default:d(()=>[t(S,{label:"IO",value:0}),t(S,{label:"网口",value:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),r.type===0?(e(),u("div",dt,[l("div",st,[it,t(B,{modelValue:r.config.io.type,"onUpdate:modelValue":o=>r.config.io.type=o,placeholder:"选择IO类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(S,{label:"正常类型",value:1}),t(S,{label:"互斥类型",value:2}),t(S,{label:"单点切区",value:3}),t(S,{label:"多点切区",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),t(te,null,{default:d(()=>[t(Q,{type:"success",onClick:o=>A(f),style:{"margin-top":"10px"}},{default:d(()=>[b("添加切区")]),_:2},1032,["onClick"]),l("div",pt,[(e(!0),u(y,null,v(r.config.io.area,(o,I)=>(e(),u("div",{key:I,class:"input-group"},[t(te,{style:{flex:"1","min-width":"150px",padding:"10px"}},{default:d(()=>[l("label",null,"切区 "+oe(I+1)+":",1),t(Q,{type:"danger",onClick:x=>k(f,I)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"]),l("div",rt,[l("div",_t,[ct,t(B,{modelValue:o.area_output[0],"onUpdate:modelValue":x=>o.area_output[0]=x,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(X,x=>t(S,{key:x.value,label:x.label,value:x.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),w(f,I)?(e(),u("div",ht,[mt,t(B,{modelValue:o.area_output[1],"onUpdate:modelValue":x=>o.area_output[1]=x,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(O,x=>t(S,{key:x.value,label:x.label,value:x.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),D(f,I)?(e(),u("div",yt,[L(f,I)?(e(),u("label",vt,"本地IO地址:")):(e(),u("label",gt,"模块编号:")),L(f,I)?(e(),i(q,{key:2,modelValue:o.area_output[2],"onUpdate:modelValue":x=>o.area_output[2]=x,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(B,{key:3,modelValue:o.area_output[2],"onUpdate:modelValue":x=>o.area_output[2]=x,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(x,ue)=>ue),x=>(e(),i(S,{key:x,label:x,value:x},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",ft,[L(f,I)?(e(),u("label",bt,"输出点对应位:")):s(f,I)?(e(),u("label",Vt,[b("输入点对应位:"),xt,b("自动转化")])):(e(),u("label",wt,"模块内输出点编号:")),L(f,I)?(e(),i(B,{key:3,modelValue:o.area_output[3],"onUpdate:modelValue":x=>o.area_output[3]=x,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(x,ue)=>ue),x=>(e(),i(S,{key:x,label:"bit"+x,value:x},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):s(f,I)?(e(),i(q,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:o.area_output[3],"onUpdate:modelValue":x=>o.area_output[3]=x,modelModifiers:{number:!0},onChange:x=>U(f,I)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(B,{key:5,modelValue:o.area_output[3],"onUpdate:modelValue":x=>o.area_output[3]=x,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(x,ue)=>ue),x=>(e(),i(S,{key:x,label:x,value:x},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Ut,[$t,t(B,{modelValue:o.area_output[4],"onUpdate:modelValue":x=>o.area_output[4]=x,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(S,{label:"高",value:1}),t(S,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)]))),128))])]),_:2},1024),l("div",kt,[t(te,{class:"plscard"},{default:d(()=>[Ct,l("div",Pt,[l("div",St,[Lt,t(B,{modelValue:r.config.io.near[0],"onUpdate:modelValue":o=>r.config.io.near[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(X,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_(f)?(e(),u("div",It,[Nt,t(B,{modelValue:r.config.io.near[1],"onUpdate:modelValue":o=>r.config.io.near[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(O,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),g(f)?(e(),u("div",Ot,[pe(f)?(e(),u("label",At,"本地IO地址:")):(e(),u("label",Bt,"模块编号:")),pe(f)?(e(),i(q,{key:2,modelValue:r.config.io.near[2],"onUpdate:modelValue":o=>r.config.io.near[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(B,{key:3,modelValue:r.config.io.near[2],"onUpdate:modelValue":o=>r.config.io.near[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",Rt,[pe(f)?(e(),u("label",Mt,"输出点对应位:")):c(f)?(e(),u("label",Dt,[b("输入点对应位:"),Et,b("自动转化")])):(e(),u("label",Gt,"模块内输出点编号:")),pe(f)?(e(),i(B,{key:3,modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(o,I)=>I),o=>(e(),i(S,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):c(f)?(e(),i(q,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,modelModifiers:{number:!0},onChange:o=>fe(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(B,{key:5,modelValue:r.config.io.near[3],"onUpdate:modelValue":o=>r.config.io.near[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",Tt,[Xt,t(B,{modelValue:r.config.io.near[4],"onUpdate:modelValue":o=>r.config.io.near[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(S,{label:"高",value:1}),t(S,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),t(te,{class:"plscard"},{default:d(()=>[Yt,l("div",jt,[l("div",Ft,[Jt,t(B,{modelValue:r.config.io.center[0],"onUpdate:modelValue":o=>r.config.io.center[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(X,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p(f)?(e(),u("div",qt,[Kt,t(B,{modelValue:r.config.io.center[1],"onUpdate:modelValue":o=>r.config.io.center[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(O,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),n(f)?(e(),u("div",Qt,[re(f)?(e(),u("label",zt,"本地IO地址:")):(e(),u("label",Ht,"模块编号:")),re(f)?(e(),i(q,{key:2,modelValue:r.config.io.center[2],"onUpdate:modelValue":o=>r.config.io.center[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(B,{key:3,modelValue:r.config.io.center[2],"onUpdate:modelValue":o=>r.config.io.center[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",Wt,[re(f)?(e(),u("label",Zt,"输出点对应位:")):T(f)?(e(),u("label",eo,[b("输入点对应位:"),lo,b("自动转化")])):(e(),u("label",to,"模块内输出点编号:")),re(f)?(e(),i(B,{key:3,modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(o,I)=>I),o=>(e(),i(S,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):T(f)?(e(),i(q,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,modelModifiers:{number:!0},onChange:o=>be(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(B,{key:5,modelValue:r.config.io.center[3],"onUpdate:modelValue":o=>r.config.io.center[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",oo,[ao,t(B,{modelValue:r.config.io.center[4],"onUpdate:modelValue":o=>r.config.io.center[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(S,{label:"高",value:1}),t(S,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),t(te,{class:"plscard"},{default:d(()=>[no,l("div",uo,[l("div",so,[io,t(B,{modelValue:r.config.io.far[0],"onUpdate:modelValue":o=>r.config.io.far[0]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(X,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),C(f)?(e(),u("div",po,[ro,t(B,{modelValue:r.config.io.far[1],"onUpdate:modelValue":o=>r.config.io.far[1]=o,placeholder:"选择类型",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(),u(y,null,v(O,o=>t(S,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):E("",!0),ge(f)?(e(),u("div",_o,[_e(f)?(e(),u("label",co,"本地IO地址:")):(e(),u("label",ho,"模块编号:")),_e(f)?(e(),i(q,{key:2,modelValue:r.config.io.far[2],"onUpdate:modelValue":o=>r.config.io.far[2]=o,modelModifiers:{number:!0},placeholder:"模块编号",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])):(e(),i(B,{key:3,modelValue:r.config.io.far[2],"onUpdate:modelValue":o=>r.config.io.far[2]=o,placeholder:"选择模块编号",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))])):E("",!0),l("div",mo,[_e(f)?(e(),u("label",yo,"输出点对应位:")):he(f)?(e(),u("label",vo,[b("输入点对应位:"),go,b("自动转化")])):(e(),u("label",fo,"模块内输出点编号:")),_e(f)?(e(),i(B,{key:3,modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:10},(o,I)=>I),o=>(e(),i(S,{key:o,label:"bit"+o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):he(f)?(e(),i(q,{key:4,style:{"margin-right":"10px",width:"100px"},modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,modelModifiers:{number:!0},onChange:o=>Ve(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(e(),i(B,{key:5,modelValue:r.config.io.far[3],"onUpdate:modelValue":o=>r.config.io.far[3]=o,placeholder:"选择输出点",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[(e(!0),u(y,null,v(Array.from({length:100},(o,I)=>I),o=>(e(),i(S,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))]),l("div",bo,[Vo,t(B,{modelValue:r.config.io.far[4],"onUpdate:modelValue":o=>r.config.io.far[4]=o,placeholder:"高低电平",style:{"margin-right":"10px",width:"100px"}},{default:d(()=>[t(S,{label:"高",value:1}),t(S,{label:"低",value:0})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1024)])])):r.type===1?(e(),u("div",xo,[l("div",wo,[Uo,t(q,{modelValue:r.config.net.ip,"onUpdate:modelValue":o=>r.config.net.ip=o,placeholder:"输入IP地址",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",$o,[ko,t(q,{modelValue:r.config.net.port,"onUpdate:modelValue":o=>r.config.net.port=o,modelModifiers:{number:!0},placeholder:"输入端口",type:"number",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])])])):E("",!0)])):(e(),u("div",Co,[l("div",Po,[So,t(q,{modelValue:r.name,"onUpdate:modelValue":o=>r.name=o,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(Q,{type:"danger",onClick:o=>P(f)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"])])])),Lo,t(Q,{onClick:o=>N(f)},{default:d(()=>[b("展开/折叠")]),_:2},1032,["onClick"])]),_:2},1024))),128))])],64)}}},No=K(Io,[["__scopeId","data-v-899b1f1b"]]);const ne=V=>(H("data-v-c5ed1898"),V=V(),W(),V),Oo={style:{display:"flex","flex-wrap":"wrap",gap:"20px"}},Ao=ne(()=>l("h4",null,"手控盒类型",-1)),Bo=ne(()=>l("h4",null,"无线",-1)),Ro=ne(()=>l("br",null,null,-1)),Mo=ne(()=>l("br",null,null,-1)),Do=ne(()=>l("h4",null,"串口",-1)),Eo=ne(()=>l("h4",null,"网口",-1)),Go={__name:"index",setup(V){return(G,N)=>{const X=ee,O=le,Y=Z,P=z;return e(),u("div",Oo,[t(Y,{"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Ao,t(O,{modelValue:m(a).ManCtrlDevice.type,"onUpdate:modelValue":N[0]||(N[0]=$=>m(a).ManCtrlDevice.type=$),placeholder:"",style:{"margin-right":"10px",width:"10vw"}},{default:d(()=>[t(X,{label:"com手控盒",value:1}),t(X,{label:"can手控盒",value:2})]),_:1},8,["modelValue"])]),_:1}),t(Y,{"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Bo,Ro,b(" ip: "),t(P,{modelValue:m(a).ManCtrlDevice.remoteDevice.ip,"onUpdate:modelValue":N[1]||(N[1]=$=>m(a).ManCtrlDevice.remoteDevice.ip=$),placeholder:"",type:"string",style:{width:"15vw"}},null,8,["modelValue"]),Mo,b(" 端口: "),t(P,{modelValue:m(a).ManCtrlDevice.remoteDevice.port,"onUpdate:modelValue":N[2]||(N[2]=$=>m(a).ManCtrlDevice.remoteDevice.port=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{width:"15vw"}},null,8,["modelValue"])]),_:1}),m(a).ManCtrlDevice.type===1?(e(),i(Y,{key:0,"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Do,t(P,{modelValue:m(a).ManCtrlDevice.com.com_id,"onUpdate:modelValue":N[3]||(N[3]=$=>m(a).ManCtrlDevice.com.com_id=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):E("",!0),m(a).ManCtrlDevice.type===2?(e(),i(Y,{key:1,"body-style":{padding:"20px"},class:"button-card"},{default:d(()=>[Eo,t(P,{modelValue:m(a).ManCtrlDevice.can.can_id,"onUpdate:modelValue":N[4]||(N[4]=$=>m(a).ManCtrlDevice.can.can_id=$),modelModifiers:{number:!0},placeholder:"",type:"number",style:{"margin-right":"10px",width:"100px"}},null,8,["modelValue"])]),_:1})):E("",!0)])}}},To=K(Go,[["__scopeId","data-v-c5ed1898"]]);const J=V=>(H("data-v-969e3c1f"),V=V(),W(),V),Xo={style:{display:"flex",gap:"20px","flex-wrap":"wrap","margin-top":"2%"}},Yo={class:"input-group"},jo=J(()=>l("label",null,"名称:",-1)),Fo={class:"input-group"},Jo=J(()=>l("label",null,"类型:",-1)),qo={key:0},Ko=J(()=>l("h4",null,"传感器配置:",-1)),Qo={class:"input-group"},zo=J(()=>l("label",null,"X 限制:",-1)),Ho={class:"input-group"},Wo=J(()=>l("label",null,"角度限制:",-1)),Zo={class:"input-group"},ea=J(()=>l("label",null,"死算距离:",-1)),la={class:"input-group"},ta=J(()=>l("label",null,"高级死算距离:",-1)),oa={class:"input-group"},aa=J(()=>l("label",null,"传感器类型:",-1)),na={class:"input-group"},ua=J(()=>l("label",null,"方向:",-1)),da={class:"input-group"},sa=J(()=>l("label",null,"分辨率:",-1)),ia={class:"input-group"},pa=J(()=>l("label",null,"CAN 端口 ID:",-1)),ra={class:"input-group"},_a=J(()=>l("label",null,"单元 ID:",-1)),ca={class:"input-group"},ha=J(()=>l("label",null,"X 安装位置:",-1)),ma={class:"input-group"},ya=J(()=>l("label",null,"Y 安装位置:",-1)),va={class:"input-group"},ga=J(()=>l("label",null,"X 安装位置:",-1)),fa={class:"input-group"},ba=J(()=>l("label",null,"Y 安装位置:",-1)),Va={__name:"index",setup(V){const G=()=>{a.value.NavSys.push({name:"请输入名称",type:1,sensor:[{x_limit:.1,thita_limit:.174,deadReckoningDist:.3,highLevel_deadReckoningDist:.1}]})},N=P=>{a.value.NavSys.splice(P,1)},X=P=>{const $=a.value.NavSys[P].type===1?{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}:{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0};a.value.NavSys[P].sensor.push($)},O=(P,$)=>{a.value.NavSys[P].sensor.splice($,1)},Y=P=>{P.type===1?P.sensor=[{x_limit:0,thita_limit:0,deadReckoningDist:0,highLevel_deadReckoningDist:0}]:P.type===2?P.sensor=[{type:1,dir:0,resolution:0,canport_id:0,unit_id:0,x_install:0,y_install:0}]:P.sensor=[{x_install:0,y_install:0}]};return(P,$)=>{const A=de,k=z,_=ee,p=le,C=Z;return e(),u(y,null,[t(A,{type:"primary",onClick:G,style:{"margin-left":"1vw"}},{default:d(()=>[b("添加卡片")]),_:1}),l("div",Xo,[(e(!0),u(y,null,v(m(a).NavSys,(w,D)=>(e(),i(C,{key:D,class:"button-card","body-style":{padding:"20px"}},{default:d(()=>[l("div",Yo,[jo,t(k,{modelValue:w.name,"onUpdate:modelValue":s=>w.name=s,placeholder:"输入名称",style:{width:"150px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),t(A,{type:"danger",onClick:s=>N(D)},{default:d(()=>[b("删除")]),_:2},1032,["onClick"])]),l("div",Fo,[Jo,t(p,{modelValue:w.type,"onUpdate:modelValue":s=>w.type=s,onChange:s=>Y(w),placeholder:"选择类型",style:{width:"150px","margin-right":"10px"}},{default:d(()=>[t(_,{label:"轮廓导航",value:1}),t(_,{label:"磁导航",value:2}),t(_,{label:"惯性导航",value:3}),t(_,{label:"二维码导航",value:4})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),w.sensor?(e(),u("div",qo,[Ko,(e(!0),u(y,null,v(w.sensor,(s,L)=>(e(),u("div",{key:L,class:"sensor-group"},[w.type===1?(e(),i(C,{key:0},{default:d(()=>[l("div",Qo,[zo,t(k,{modelValue:s.x_limit,"onUpdate:modelValue":U=>s.x_limit=U,placeholder:"输入 X 限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Ho,[Wo,t(k,{modelValue:s.thita_limit,"onUpdate:modelValue":U=>s.thita_limit=U,placeholder:"输入角度限制",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Zo,[ea,t(k,{modelValue:s.deadReckoningDist,"onUpdate:modelValue":U=>s.deadReckoningDist=U,placeholder:"输入死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",la,[ta,t(k,{modelValue:s.highLevel_deadReckoningDist,"onUpdate:modelValue":U=>s.highLevel_deadReckoningDist=U,placeholder:"输入高级死算距离",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(A,{type:"danger",onClick:U=>O(D,L)},{default:d(()=>[b("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):w.type===2?(e(),i(C,{key:1},{default:d(()=>[l("div",oa,[aa,t(k,{modelValue:s.type,"onUpdate:modelValue":U=>s.type=U,placeholder:"输入传感器类型",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",na,[ua,t(k,{modelValue:s.dir,"onUpdate:modelValue":U=>s.dir=U,placeholder:"输入方向",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",da,[sa,t(k,{modelValue:s.resolution,"onUpdate:modelValue":U=>s.resolution=U,placeholder:"输入分辨率",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ia,[pa,t(k,{modelValue:s.canport_id,"onUpdate:modelValue":U=>s.canport_id=U,placeholder:"输入 CAN 端口 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ra,[_a,t(k,{modelValue:s.unit_id,"onUpdate:modelValue":U=>s.unit_id=U,placeholder:"输入单元 ID",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ca,[ha,t(k,{modelValue:s.x_install,"onUpdate:modelValue":U=>s.x_install=U,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ma,[ya,t(k,{modelValue:s.y_install,"onUpdate:modelValue":U=>s.y_install=U,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(A,{type:"danger",onClick:U=>O(D,L)},{default:d(()=>[b("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):w.type===3||w.type===4?(e(),i(C,{key:2},{default:d(()=>[l("div",va,[ga,t(k,{modelValue:s.x_install,"onUpdate:modelValue":U=>s.x_install=U,placeholder:"输入 X 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),l("div",fa,[ba,t(k,{modelValue:s.y_install,"onUpdate:modelValue":U=>s.y_install=U,placeholder:"输入 Y 安装位置",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),t(A,{type:"danger",onClick:U=>O(D,L)},{default:d(()=>[b("删除传感器")]),_:2},1032,["onClick"])]),_:2},1024)):E("",!0)]))),128)),t(A,{type:"success",onClick:s=>X(D)},{default:d(()=>[b("添加传感器")]),_:2},1032,["onClick"])])):E("",!0)]),_:2},1024))),128))])],64)}}},xa=K(Va,[["__scopeId","data-v-969e3c1f"]]);F(!0);F({name:"",value:[1,1,1,1,1],editingIndex:-1,ontime:0,offtime:0});const j=V=>(H("data-v-f7959930"),V=V(),W(),V),wa={class:"page-container main-view"},Ua={class:"table-box content-container page-content-box",style:{"background-image":"linear-gradient(to bottom right, #d0dcdc95, #d5eedf17)"}},$a={class:"left"},ka=j(()=>l("hr",{class:"hengxian"},null,-1)),Ca={class:"left"},Pa=j(()=>l("h2",null,"⚠️ 电器模块：",-1)),Sa=j(()=>l("hr",{class:"hengxian2"},null,-1)),La=j(()=>l("h3",null,"⚠️ 面板:",-1)),Ia=j(()=>l("br",null,null,-1)),Na=j(()=>l("hr",{class:"hengxian3"},null,-1)),Oa=j(()=>l("h3",null,"⚠️ 安全回路:",-1)),Aa=j(()=>l("br",null,null,-1)),Ba=j(()=>l("hr",{class:"hengxian3"},null,-1)),Ra=j(()=>l("h3",null,"⚠️ 电池指示器:",-1)),Ma=j(()=>l("br",null,null,-1)),Da=j(()=>l("hr",{class:"hengxian3"},null,-1)),Ea=j(()=>l("h3",{style:{display:"inline-block"}},"⚠️ 手控设备:",-1)),Ga=j(()=>l("br",null,null,-1)),Ta=j(()=>l("br",null,null,-1)),Xa={key:0},Ya=j(()=>l("br",null,null,-1)),ja=j(()=>l("hr",{class:"hengxian3"},null,-1)),Fa=j(()=>l("h3",null,"⚠️ 导航:",-1)),Ja=j(()=>l("hr",{class:"hengxian2"},null,-1)),qa={__name:"electrion",setup(V){const G=F(!1),N=()=>{G.value=!0},X=xe(()=>JSON.stringify(a.value,null,2));F(!0),F(!0),F(!0),F(!0);const O=F(!1);F(!0);const Y=F(!0);F(!0);const P=()=>{O.value=!0},$=()=>{router.push("/main/second")},A=()=>{router.push("/main/fifth")};return(k,_)=>{const p=de,C=Ue,w=ye,D=ve;return e(),u("div",null,[l("div",wa,[l("div",Ua,[t(me,{height:"100%",showUpBt:!0},{default:d(()=>[l("div",$a,[t(p,{type:"info",onClick:N},{default:d(()=>[b(" 查看设备 ")]),_:1}),t(C,{modelValue:G.value,"onUpdate:modelValue":_[0]||(_[0]=s=>G.value=s),title:"设备总览",visible:G.value,width:"900px",onClose:_[1]||(_[1]=s=>G.value=!1)},{default:d(()=>[t(me,{height:"100%",showUpBt:!0},{default:d(()=>[t(we)]),_:1})]),_:1},8,["modelValue","visible"]),b("   "),t(p,{type:"info",onClick:P},{default:d(()=>[b(" 查看 ")]),_:1}),t(C,{modelValue:O.value,"onUpdate:modelValue":_[2]||(_[2]=s=>O.value=s),title:"数据",visible:O.value,onClose:_[3]||(_[3]=s=>O.value=!1)},{default:d(()=>[t(me,{height:"100%",showUpBt:!0},{default:d(()=>[l("pre",null,oe(X.value),1)]),_:1})]),_:1},8,["modelValue","visible"]),b("   "),t(p,{type:"primary",onClick:$},{default:d(()=>[b("上一步")]),_:1}),t(p,{type:"primary",onClick:A},{default:d(()=>[b("下一步")]),_:1})]),ka,l("div",Ca,[Pa,b(" 配置电器模块： "),Sa,La,Ia,t(Ll),Na,Oa,Aa,t(D,null,{default:d(()=>[t(w,{label:"PLS设置"},{default:d(()=>[t(No)]),_:1}),t(w,{label:"保险杠"},{default:d(()=>[t(je)]),_:1}),t(w,{label:"继电器"},{default:d(()=>[t(il)]),_:1}),t(w,{label:"急停"},{default:d(()=>[t(zl)]),_:1})]),_:1}),Ba,Ra,Ma,t(et),Da,Ea,Ga,Ta,Y.value?(e(),u("div",Xa,[t(To),Ya])):E("",!0),ja,Fa,t(xa)]),Ja]),_:1})])])])}}},vn=K(qa,[["__scopeId","data-v-f7959930"]]);export{vn as default};
