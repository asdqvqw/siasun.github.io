import{co as ht,ae as Dt,Q as I,cp as vl,cq as Te,bP as Be,bL as lt,c2 as hl,d as De,bN as Ve,aV as R,r as se,bl as N,bB as Re,aG as gl,ai as Le,bJ as de,cr as je,aK as Ft,aQ as bl,b0 as Ke,c0 as Ct,aB as fe,cs as yl,bO as gt,o as x,c as le,bc as ce,aC as U,n as we,a as J,ct as Sl,cu as wl,aZ as Ye,ao as Pl,cv as Cl,b as f,aA as Vt,cw as ge,c6 as We,bT as Vl,cx as Ue,cy as Il,cz as ut,cA as Ol,cB as El,cC as It,cD as Tl,cE as zl,cF as kl,cG as Ml,c3 as Nl,cH as Ht,cI as Kt,bQ as Wt,bx as Rl,bh as Ot,aR as Ll,a_ as Qe,a$ as Et,bH as Ze,f as c,g as Ce,e as he,F as it,aY as Tt,w as Pe,by as $l,aD as Bl,ah as Al,_ as Dl,m as _,cJ as Ee,cj as zt,l as Fl,cK as Hl,p as Kl,q as Wl}from"./index-36e2e691.js";import{E as Ul}from"./el-form-item-f0d88713.js";import{i as kt,C as Gl,b as xl}from"./el-tag-5a5c3d96.js";import{B as ql}from"./el-scrollbar-1cd9d3fa.js";import{u as Jl,a as jl,E as Ql}from"./el-popper-d1ee9424.js";import{a as Zl,E as Yl}from"./el-col-962e77d0.js";import{E as _l}from"./el-switch-8bc5d0fb.js";/* empty css                */import{a as Xl,b as es}from"./index-768707f5.js";import{E as ts}from"./index-5a9d070c.js";import{i as ls}from"./browser-23ea34f5.js";import{e as ss}from"./strings-76a06904.js";import{d as ns}from"./debounce-796c354e.js";const Ut=e=>ht?window.requestAnimationFrame(e):setTimeout(e,16),Gt=e=>ht?window.cancelAnimationFrame(e):clearTimeout(e);var Mt=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function as(e,t){return!!(e===t||Mt(e)&&Mt(t))}function os(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!as(e[n],t[n]))return!1;return!0}function is(e,t){t===void 0&&(t=os);var n=null;function o(){for(var r=[],d=0;d<arguments.length;d++)r[d]=arguments[d];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var p=e.apply(this,r);return n={lastResult:p,lastArgs:r,lastThis:this},p}return o.clear=function(){n=null},o}const rs=()=>{const t=Dt().proxy.$props;return I(()=>{const n=(o,r,d)=>({});return t.perfMode?vl(n):is(n)})},us=50,Nt="itemRendered",Rt="scroll",xt="forward",qt="backward",Ge="auto",Jt="smart",jt="start",et="center",Qt="end",Ae="horizontal",bt="vertical",ds="ltr",_e="rtl",dt="negative",Zt="positive-ascending",Yt="positive-descending",cs={[Ae]:"left",[bt]:"top"},fs=20,ps={[Ae]:"deltaX",[bt]:"deltaY"},ms=({atEndEdge:e,atStartEdge:t,layout:n},o)=>{let r,d=0;const p=w=>w<0&&t.value||w>0&&e.value;return{hasReachedEdge:p,onWheel:w=>{Gt(r);const C=w[ps[n.value]];p(d)&&p(d+C)||(d+=C,ls()||w.preventDefault(),r=Ut(()=>{o(d),d=0}))}}},ct=Te({type:Be([Number,Function]),required:!0}),ft=Te({type:Number}),pt=Te({type:Number,default:2}),vs=Te({type:String,values:["ltr","rtl"],default:"ltr"}),mt=Te({type:Number,default:0}),tt=Te({type:Number,required:!0}),_t=Te({type:String,values:["horizontal","vertical"],default:bt}),Xt=lt({className:{type:String,default:""},containerElement:{type:Be([String,Object]),default:"div"},data:{type:Be(Array),default:()=>hl([])},direction:vs,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Be([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),hs=lt({cache:pt,estimatedItemSize:ft,layout:_t,initScrollOffset:mt,total:tt,itemSize:ct,...Xt}),vt={type:Number,default:6},el={type:Number,default:0},tl={type:Number,default:2};lt({columnCache:pt,columnWidth:ct,estimatedColumnWidth:ft,estimatedRowHeight:ft,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:Be(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:pt,rowHeight:ct,totalColumn:tt,totalRow:tt,hScrollbarSize:vt,vScrollbarSize:vt,scrollbarStartGap:el,scrollbarEndGap:tl,...Xt});const gs=lt({alwaysOn:Boolean,class:String,layout:_t,total:tt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vt,startGap:el,endGap:tl,visible:Boolean}),rt=(e,t)=>e<t?xt:qt,xe=e=>e===ds||e===_e||e===Ae;let Ne=null;function Lt(e=!1){if(Ne===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const o=document.createElement("div"),r=o.style;return r.width="100px",r.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?Ne=Yt:(t.scrollLeft=1,t.scrollLeft===0?Ne=dt:Ne=Zt),document.body.removeChild(t),Ne}return Ne}function bs({move:e,size:t,bar:n},o){const r={},d=`translate${n.axis}(${e}px)`;return r[n.size]=t,r.transform=d,r.msTransform=d,r.webkitTransform=d,o==="horizontal"?r.height="100%":r.width="100%",r}const ys=De({name:"ElVirtualScrollBar",props:gs,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=I(()=>e.startGap+e.endGap),o=Ve("virtual-scrollbar"),r=Ve("scrollbar"),d=R(),p=R();let s=null,w=null;const C=se({isDragging:!1,traveled:0}),i=I(()=>ql[e.layout]),b=I(()=>e.clientSize-N(n)),S=I(()=>({position:"absolute",width:`${Ae===e.layout?b.value:e.scrollbarSize}px`,height:`${Ae===e.layout?e.scrollbarSize:b.value}px`,[cs[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),a=I(()=>{const h=e.ratio,E=e.clientSize;if(h>=100)return Number.POSITIVE_INFINITY;if(h>=50)return h*E/100;const v=E/3;return Math.floor(Math.min(Math.max(h*E,fs),v))}),q=I(()=>{if(!Number.isFinite(a.value))return{display:"none"};const h=`${a.value}px`;return bs({bar:i.value,size:h,move:C.traveled},e.layout)}),A=I(()=>Math.floor(e.clientSize-a.value-N(n))),B=()=>{window.addEventListener("mousemove",T),window.addEventListener("mouseup",D);const h=N(p);h&&(w=document.onselectstart,document.onselectstart=()=>!1,h.addEventListener("touchmove",T),h.addEventListener("touchend",D))},P=()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",D),document.onselectstart=w,w=null;const h=N(p);h&&(h.removeEventListener("touchmove",T),h.removeEventListener("touchend",D))},L=h=>{h.stopImmediatePropagation(),!(h.ctrlKey||[1,2].includes(h.button))&&(C.isDragging=!0,C[i.value.axis]=h.currentTarget[i.value.offset]-(h[i.value.client]-h.currentTarget.getBoundingClientRect()[i.value.direction]),t("start-move"),B())},D=()=>{C.isDragging=!1,C[i.value.axis]=0,t("stop-move"),P()},T=h=>{const{isDragging:E}=C;if(!E||!p.value||!d.value)return;const v=C[i.value.axis];if(!v)return;Gt(s);const V=(d.value.getBoundingClientRect()[i.value.direction]-h[i.value.client])*-1,z=p.value[i.value.offset]-v,H=V-z;s=Ut(()=>{C.traveled=Math.max(e.startGap,Math.min(H,A.value)),t("scroll",H,A.value)})},G=h=>{const E=Math.abs(h.target.getBoundingClientRect()[i.value.direction]-h[i.value.client]),v=p.value[i.value.offset]/2,V=E-v;C.traveled=Math.max(0,Math.min(V,A.value)),t("scroll",V,A.value)};return Re(()=>e.scrollFrom,h=>{C.isDragging||(C.traveled=Math.ceil(h*A.value))}),gl(()=>{P()}),()=>Le("div",{role:"presentation",ref:d,class:[o.b(),e.class,(e.alwaysOn||C.isDragging)&&"always-on"],style:S.value,onMousedown:de(G,["stop","prevent"]),onTouchstartPrevent:L},Le("div",{ref:p,class:r.e("thumb"),style:q.value,onMousedown:L},[]))}}),ll=({name:e,getOffset:t,getItemSize:n,getItemOffset:o,getEstimatedTotalSize:r,getStartIndexForOffset:d,getStopIndexForStartIndex:p,initCache:s,clearCache:w,validateProps:C})=>De({name:e??"ElVirtualList",props:hs,emits:[Nt,Rt],setup(i,{emit:b,expose:S}){C(i);const a=Dt(),q=Ve("vl"),A=R(s(i,a)),B=rs(),P=R(),L=R(),D=R(),T=R({isScrolling:!1,scrollDir:"forward",scrollOffset:je(i.initScrollOffset)?i.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:i.scrollbarAlwaysOn}),G=I(()=>{const{total:y,cache:k}=i,{isScrolling:$,scrollDir:j,scrollOffset:F}=N(T);if(y===0)return[0,0,0,0];const Q=d(i,F,N(A)),Z=p(i,Q,F,N(A)),m=!$||j===qt?Math.max(1,k):1,g=!$||j===xt?Math.max(1,k):1;return[Math.max(0,Q-m),Math.max(0,Math.min(y-1,Z+g)),Q,Z]}),h=I(()=>r(i,N(A))),E=I(()=>xe(i.layout)),v=I(()=>[{position:"relative",[`overflow-${E.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:i.direction,height:je(i.height)?`${i.height}px`:i.height,width:je(i.width)?`${i.width}px`:i.width},i.style]),V=I(()=>{const y=N(h),k=N(E);return{height:k?"100%":`${y}px`,pointerEvents:N(T).isScrolling?"none":void 0,width:k?`${y}px`:"100%"}}),z=I(()=>E.value?i.width:i.height),{onWheel:H}=ms({atStartEdge:I(()=>T.value.scrollOffset<=0),atEndEdge:I(()=>T.value.scrollOffset>=h.value),layout:I(()=>i.layout)},y=>{var k,$;($=(k=D.value).onMouseUp)==null||$.call(k),ne(Math.min(T.value.scrollOffset+y,h.value-z.value))}),K=()=>{const{total:y}=i;if(y>0){const[F,Q,Z,m]=N(G);b(Nt,F,Q,Z,m)}const{scrollDir:k,scrollOffset:$,updateRequested:j}=N(T);b(Rt,k,$,j)},ae=y=>{const{clientHeight:k,scrollHeight:$,scrollTop:j}=y.currentTarget,F=N(T);if(F.scrollOffset===j)return;const Q=Math.max(0,Math.min(j,$-k));T.value={...F,isScrolling:!0,scrollDir:rt(F.scrollOffset,Q),scrollOffset:Q,updateRequested:!1},fe(me)},oe=y=>{const{clientWidth:k,scrollLeft:$,scrollWidth:j}=y.currentTarget,F=N(T);if(F.scrollOffset===$)return;const{direction:Q}=i;let Z=$;if(Q===_e)switch(Lt()){case dt:{Z=-$;break}case Yt:{Z=j-k-$;break}}Z=Math.max(0,Math.min(Z,j-k)),T.value={...F,isScrolling:!0,scrollDir:rt(F.scrollOffset,Z),scrollOffset:Z,updateRequested:!1},fe(me)},ue=y=>{N(E)?oe(y):ae(y),K()},be=(y,k)=>{const $=(h.value-z.value)/k*y;ne(Math.min(h.value-z.value,$))},ne=y=>{y=Math.max(y,0),y!==N(T).scrollOffset&&(T.value={...N(T),scrollOffset:y,scrollDir:rt(N(T).scrollOffset,y),updateRequested:!0},fe(me))},ee=(y,k=Ge)=>{const{scrollOffset:$}=N(T);y=Math.max(0,Math.min(y,i.total-1)),ne(t(i,y,k,$,N(A)))},pe=y=>{const{direction:k,itemSize:$,layout:j}=i,F=B.value(w&&$,w&&j,w&&k);let Q;if(yl(F,String(y)))Q=F[y];else{const Z=o(i,y,N(A)),m=n(i,y,N(A)),g=N(E),M=k===_e,te=g?Z:0;F[y]=Q={position:"absolute",left:M?void 0:`${te}px`,right:M?`${te}px`:void 0,top:g?0:`${Z}px`,height:g?"100%":`${m}px`,width:g?`${m}px`:"100%"}}return Q},me=()=>{T.value.isScrolling=!1,fe(()=>{B.value(-1,null,null)})},ie=()=>{const y=P.value;y&&(y.scrollTop=0)};Ft(()=>{if(!ht)return;const{initScrollOffset:y}=i,k=N(P);je(y)&&k&&(N(E)?k.scrollLeft=y:k.scrollTop=y),K()}),bl(()=>{const{direction:y,layout:k}=i,{scrollOffset:$,updateRequested:j}=N(T),F=N(P);if(j&&F)if(k===Ae)if(y===_e)switch(Lt()){case dt:{F.scrollLeft=-$;break}case Zt:{F.scrollLeft=$;break}default:{const{clientWidth:Q,scrollWidth:Z}=F;F.scrollLeft=Z-Q-$;break}}else F.scrollLeft=$;else F.scrollTop=$});const re={ns:q,clientSize:z,estimatedTotalSize:h,windowStyle:v,windowRef:P,innerRef:L,innerStyle:V,itemsToRender:G,scrollbarRef:D,states:T,getItemStyle:pe,onScroll:ue,onScrollbarScroll:be,onWheel:H,scrollTo:ne,scrollToItem:ee,resetScrollTop:ie};return S({windowRef:P,innerRef:L,getItemStyleCache:B,scrollTo:ne,scrollToItem:ee,resetScrollTop:ie,states:T}),re},render(i){var b;const{$slots:S,className:a,clientSize:q,containerElement:A,data:B,getItemStyle:P,innerElement:L,itemsToRender:D,innerStyle:T,layout:G,total:h,onScroll:E,onScrollbarScroll:v,onWheel:V,states:z,useIsScrolling:H,windowStyle:K,ns:ae}=i,[oe,ue]=D,be=Ke(A),ne=Ke(L),ee=[];if(h>0)for(let re=oe;re<=ue;re++)ee.push((b=S.default)==null?void 0:b.call(S,{data:B,key:re,index:re,isScrolling:H?z.isScrolling:void 0,style:P(re)}));const pe=[Le(ne,{style:T,ref:"innerRef"},Ct(ne)?ee:{default:()=>ee})],me=Le(ys,{ref:"scrollbarRef",clientSize:q,layout:G,onScroll:v,ratio:q*100/this.estimatedTotalSize,scrollFrom:z.scrollOffset/(this.estimatedTotalSize-q),total:h}),ie=Le(be,{class:[ae.e("window"),a],style:K,onScroll:E,onWheel:V,ref:"windowRef",key:0},Ct(be)?[pe]:{default:()=>[pe]});return Le("div",{key:0,class:[ae.e("wrapper"),z.scrollbarAlwaysOn?"always-on":""]},[ie,me])}}),Ss=ll({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:o,width:r},d,p,s)=>{const w=xe(o)?r:e,C=Math.max(0,t*n-w),i=Math.min(C,d*n),b=Math.max(0,(d+1)*n-w);switch(p===Jt&&(s>=b-w&&s<=i+w?p=Ge:p=et),p){case jt:return i;case Qt:return b;case et:{const S=Math.round(b+(i-b)/2);return S<Math.ceil(w/2)?0:S>C+Math.floor(w/2)?C:S}case Ge:default:return s>=b&&s<=i?s:s<b?b:i}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:o,width:r},d,p)=>{const s=d*n,w=xe(o)?r:e,C=Math.ceil((w+p-s)/n);return Math.max(0,Math.min(t-1,d+C-1))},initCache(){},clearCache:!0,validateProps(){}}),$e=(e,t,n)=>{const{itemSize:o}=e,{items:r,lastVisitedIndex:d}=n;if(t>d){let p=0;if(d>=0){const s=r[d];p=s.offset+s.size}for(let s=d+1;s<=t;s++){const w=o(s);r[s]={offset:p,size:w},p+=w}n.lastVisitedIndex=t}return r[t]},ws=(e,t,n)=>{const{items:o,lastVisitedIndex:r}=t;return(r>0?o[r].offset:0)>=n?sl(e,t,0,r,n):Ps(e,t,Math.max(0,r),n)},sl=(e,t,n,o,r)=>{for(;n<=o;){const d=n+Math.floor((o-n)/2),p=$e(e,d,t).offset;if(p===r)return d;p<r?n=d+1:p>r&&(o=d-1)}return Math.max(0,n-1)},Ps=(e,t,n,o)=>{const{total:r}=e;let d=1;for(;n<r&&$e(e,n,t).offset<o;)n+=d,d*=2;return sl(e,t,Math.floor(n/2),Math.min(n,r-1),o)},$t=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:o})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const s=t[o];r=s.offset+s.size}const p=(e-o-1)*n;return r+p},Cs=ll({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>$e(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:$t,getOffset:(e,t,n,o,r)=>{const{height:d,layout:p,width:s}=e,w=xe(p)?s:d,C=$e(e,t,r),i=$t(e,r),b=Math.max(0,Math.min(i-w,C.offset)),S=Math.max(0,C.offset-w+C.size);switch(n===Jt&&(o>=S-w&&o<=b+w?n=Ge:n=et),n){case jt:return b;case Qt:return S;case et:return Math.round(S+(b-S)/2);case Ge:default:return o>=S&&o<=b?o:o<S?S:b}},getStartIndexForOffset:(e,t,n)=>ws(e,n,t),getStopIndexForStartIndex:(e,t,n,o)=>{const{height:r,total:d,layout:p,width:s}=e,w=xe(p)?s:r,C=$e(e,t,o),i=n+w;let b=C.offset+C.size,S=t;for(;S<d-1&&b<i;)S++,b+=$e(e,S,o).size;return S},initCache({estimatedItemSize:e=us},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(o,r=!0)=>{var d,p;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,o-1),(d=t.exposed)==null||d.getItemStyleCache(-1),r&&((p=t.proxy)==null||p.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),Vs=De({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Ve("select")}}});function Is(e,t,n,o,r,d){return e.item.isTitle?(x(),le("div",{key:0,class:U(e.ns.be("group","title")),style:we([e.style,{lineHeight:`${e.height}px`}])},ce(e.item.label),7)):(x(),le("div",{key:1,class:U(e.ns.be("group","split")),style:we(e.style)},[J("span",{class:U(e.ns.be("group","split-dash")),style:we({top:`${e.height/2}px`})},null,6)],6))}var Os=gt(Vs,[["render",Is],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Es(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Ts={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Sl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Jl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:wl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Be(String),values:jl,default:"bottom-start"}},zs={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},ks=De({props:zs,emits:["select","hover"],setup(e,{emit:t}){const n=Ve("select"),{hoverItem:o,selectOptionClick:r}=Es(e,{emit:t});return{ns:n,hoverItem:o,selectOptionClick:r}}}),Ms=["aria-selected"];function Ns(e,t,n,o,r,d){return x(),le("li",{"aria-selected":e.selected,style:we(e.style),class:U([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...p)=>e.hoverItem&&e.hoverItem(...p)),onClick:t[1]||(t[1]=de((...p)=>e.selectOptionClick&&e.selectOptionClick(...p),["stop"]))},[Ye(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[J("span",null,ce(e.item.label),1)])],46,Ms)}var Rs=gt(ks,[["render",Ns],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const nl="ElSelectV2Injection";var Ls=De({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:n}){const o=Pl(nl),r=Ve("select"),d=R([]),p=R(),s=I(()=>e.data.length);Re(()=>s.value,()=>{var v,V;(V=(v=o.popper.value).updatePopper)==null||V.call(v)});const w=I(()=>Cl(o.props.estimatedOptionHeight)),C=I(()=>w.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:v=>d.value[v]}),i=(v=[],V)=>{const{props:{valueKey:z}}=o;return We(V)?v&&v.some(H=>ge(H,z)===ge(V,z)):v.includes(V)},b=(v,V)=>{if(We(V)){const{valueKey:z}=o.props;return ge(v,z)===ge(V,z)}else return v===V},S=(v,V)=>{const{valueKey:z}=o.props;return o.props.multiple?i(v,ge(V,z)):b(v,ge(V,z))},a=(v,V)=>{const{disabled:z,multiple:H,multipleLimit:K}=o.props;return z||!V&&(H?K>0&&v.length>=K:!1)},q=v=>e.hoveringIndex===v;n({listRef:p,isSized:w,isItemDisabled:a,isItemHovering:q,isItemSelected:S,scrollToItem:v=>{const V=p.value;V&&V.scrollToItem(v)},resetScrollTop:()=>{const v=p.value;v&&v.resetScrollTop()}});const P=v=>{const{index:V,data:z,style:H}=v,K=N(w),{itemSize:ae,estimatedSize:oe}=N(C),{modelValue:ue}=o.props,{onSelect:be,onHover:ne}=o,ee=z[V];if(ee.type==="Group")return f(Os,{item:ee,style:H,height:K?ae:oe},null);const pe=S(ue,ee),me=a(ue,pe),ie=q(V);return f(Rs,Vt(v,{selected:pe,disabled:ee.disabled||me,created:!!ee.created,hovering:ie,item:ee,onSelect:be,onHover:ne}),{default:re=>{var y;return((y=t.default)==null?void 0:y.call(t,re))||f("span",null,[ee.label])}})},{onKeyboardNavigate:L,onKeyboardSelect:D}=o,T=()=>{L("forward")},G=()=>{L("backward")},h=()=>{o.expanded=!1},E=v=>{const{code:V}=v,{tab:z,esc:H,down:K,up:ae,enter:oe}=Vl;switch(V!==z&&(v.preventDefault(),v.stopPropagation()),V){case z:case H:{h();break}case K:{T();break}case ae:{G();break}case oe:{D();break}}};return()=>{var v;const{data:V,width:z}=e,{height:H,multiple:K,scrollbarAlwaysOn:ae}=o.props;if(V.length===0)return f("div",{class:r.b("dropdown"),style:{width:`${z}px`}},[(v=t.empty)==null?void 0:v.call(t)]);const oe=N(w)?Ss:Cs;return f("div",{class:[r.b("dropdown"),r.is("multiple",K)]},[f(oe,Vt({ref:p},N(C),{className:r.be("dropdown","list"),scrollbarAlwaysOn:ae,data:V,height:H,width:z,total:V.length,onKeydown:E}),{default:ue=>f(P,ue,null)})])}}});function $s(e,t){const n=R(0),o=R(null),r=I(()=>e.allowCreate&&e.filterable);function d(i){const b=S=>S.value===i;return e.options&&e.options.some(b)||t.createdOptions.some(b)}function p(i){r.value&&(e.multiple&&i.created?n.value++:o.value=i)}function s(i){if(r.value)if(i&&i.length>0&&!d(i)){const b={value:i,label:i,created:!0,disabled:!1};t.createdOptions.length>=n.value?t.createdOptions[n.value]=b:t.createdOptions.push(b)}else if(e.multiple)t.createdOptions.length=n.value;else{const b=o.value;t.createdOptions.length=0,b&&b.created&&t.createdOptions.push(b)}}function w(i){if(!r.value||!i||!i.created||i.created&&e.reserveKeyword&&t.inputValue===i.label)return;const b=t.createdOptions.findIndex(S=>S.value===i.value);~b&&(t.createdOptions.splice(b,1),n.value--)}function C(){r.value&&(t.createdOptions.length=0,n.value=0)}return{createNewOption:s,removeNewOption:w,selectNewOption:p,clearAllNewOption:C}}const Bs=e=>{const t=[];return e.forEach(n=>{Ue(n.options)?(t.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(o=>{t.push(o)}),t.push({type:"Group"})):t.push(n)}),t};function As(e){const t=R(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:d=>{const p=d.target.value,s=p[p.length-1]||"";t.value=!Il(s)},handleCompositionEnd:d=>{t.value&&(t.value=!1,ut(e)&&e(d))}}}const Bt="",At=11,Ds={larget:51,default:42,small:33},Fs=(e,t)=>{const{t:n}=Ol(),o=Ve("select-v2"),r=Ve("input"),{form:d,formItem:p}=El(),s=se({inputValue:Bt,displayInputValue:Bt,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),w=R(-1),C=R(-1),i=R(null),b=R(null),S=R(null),a=R(null),q=R(null),A=R(null),B=R(null),P=R(!1),L=I(()=>e.disabled||(d==null?void 0:d.disabled)),D=I(()=>{const l=K.value.length*34;return l>e.height?e.height:l}),T=I(()=>!It(e.modelValue)),G=I(()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:T.value;return e.clearable&&!L.value&&s.comboBoxHovering&&l}),h=I(()=>e.remote&&e.filterable?"":Tl),E=I(()=>h.value&&o.is("reverse",P.value)),v=I(()=>(p==null?void 0:p.validateState)||""),V=I(()=>zl[v.value]),z=I(()=>e.remote?300:0),H=I(()=>{const l=K.value;return e.loading?e.loadingText||n("el.select.loading"):e.remote&&s.inputValue===""&&l.length===0?!1:e.filterable&&s.inputValue&&l.length>0?e.noMatchText||n("el.select.noMatch"):l.length===0?e.noDataText||n("el.select.noData"):null}),K=I(()=>{const l=u=>{const O=s.inputValue,W=new RegExp(ss(O),"i");return O?W.test(u.label||""):!0};return e.loading?[]:Bs(e.options.concat(s.createdOptions).map(u=>{if(Ue(u.options)){const O=u.options.filter(l);if(O.length>0)return{...u,options:O}}else if(e.remote||l(u))return u;return null}).filter(u=>u!==null))}),ae=I(()=>K.value.every(l=>l.disabled)),oe=kl(),ue=I(()=>oe.value==="small"?"small":"default"),be=I(()=>{const l=A.value,u=ue.value||"default",O=l?Number.parseInt(getComputedStyle(l).paddingLeft):0,W=l?Number.parseInt(getComputedStyle(l).paddingRight):0;return s.selectWidth-W-O-Ds[u]}),ne=()=>{var l;C.value=((l=q.value)==null?void 0:l.offsetWidth)||200},ee=I(()=>({width:`${s.calculatedWidth===0?At:Math.ceil(s.calculatedWidth)+At}px`})),pe=I(()=>Ue(e.modelValue)?e.modelValue.length===0&&!s.displayInputValue:e.filterable?s.displayInputValue.length===0:!0),me=I(()=>{const l=e.placeholder||n("el.select.placeholder");return e.multiple||It(e.modelValue)?l:s.selectedLabel}),ie=I(()=>{var l,u;return(u=(l=a.value)==null?void 0:l.popperRef)==null?void 0:u.contentRef}),re=I(()=>{if(e.multiple){const l=e.modelValue.length;if(e.modelValue.length>0)return K.value.findIndex(u=>u.value===e.modelValue[l-1])}else if(e.modelValue)return K.value.findIndex(l=>l.value===e.modelValue);return-1}),y=I({get(){return P.value&&H.value!==!1},set(l){P.value=l}}),{createNewOption:k,removeNewOption:$,selectNewOption:j,clearAllNewOption:F}=$s(e,s),{handleCompositionStart:Q,handleCompositionUpdate:Z,handleCompositionEnd:m}=As(l=>Pt(l)),g=()=>{var l,u,O;(u=(l=b.value).focus)==null||u.call(l),(O=a.value)==null||O.updatePopper()},M=()=>{if(!e.automaticDropdown&&!L.value)return s.isComposing&&(s.softFocus=!0),fe(()=>{var l,u;P.value=!P.value,(u=(l=b.value)==null?void 0:l.focus)==null||u.call(l)})},te=()=>(e.filterable&&s.inputValue!==s.selectedLabel&&(s.query=s.selectedLabel),ze(s.inputValue),fe(()=>{k(s.inputValue)})),Y=ns(te,z.value),ze=l=>{s.previousQuery!==l&&(s.previousQuery=l,e.filterable&&ut(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&ut(e.remoteMethod)&&e.remoteMethod(l))},st=l=>{kt(e.modelValue,l)||t(Kt,l)},Ie=l=>{t(Ht,l),st(l),s.previousValue=l==null?void 0:l.toString()},ke=(l=[],u)=>{if(!We(u))return l.indexOf(u);const O=e.valueKey;let W=-1;return l.some((ye,Se)=>ge(ye,O)===ge(u,O)?(W=Se,!0):!1),W},ve=l=>We(l)?ge(l,e.valueKey):l,nt=l=>We(l)?l.label:l,Me=()=>{if(!(e.collapseTags&&!e.filterable))return fe(()=>{var l,u;if(!b.value)return;const O=A.value;q.value.height=O.offsetHeight,P.value&&H.value!==!1&&((u=(l=a.value)==null?void 0:l.updatePopper)==null||u.call(l))})},He=()=>{var l,u;if(X(),ne(),(u=(l=a.value)==null?void 0:l.updatePopper)==null||u.call(l),e.multiple)return Me()},X=()=>{const l=A.value;l&&(s.selectWidth=l.getBoundingClientRect().width)},yt=(l,u,O=!0)=>{var W,ye;if(e.multiple){let Se=e.modelValue.slice();const Je=ke(Se,ve(l));Je>-1?(Se=[...Se.slice(0,Je),...Se.slice(Je+1)],s.cachedOptions.splice(Je,1),$(l)):(e.multipleLimit<=0||Se.length<e.multipleLimit)&&(Se=[...Se,ve(l)],s.cachedOptions.push(l),j(l),Oe(u)),Ie(Se),l.created&&(s.query="",ze(""),s.inputLength=20),e.filterable&&!e.reserveKeyword&&((ye=(W=b.value).focus)==null||ye.call(W),qe("")),e.filterable&&(s.calculatedWidth=B.value.getBoundingClientRect().width),Me(),fl()}else w.value=u,s.selectedLabel=l.label,Ie(ve(l)),P.value=!1,s.isComposing=!1,s.isSilentBlur=O,j(l),l.created||F(),Oe(u)},al=(l,u)=>{const{valueKey:O}=e,W=e.modelValue.indexOf(ge(u,O));if(W>-1&&!L.value){const ye=[...e.modelValue.slice(0,W),...e.modelValue.slice(W+1)];return s.cachedOptions.splice(W,1),Ie(ye),t("remove-tag",ge(u,O)),s.softFocus=!0,$(u),fe(g)}l.stopPropagation()},ol=l=>{const u=s.isComposing;s.isComposing=!0,s.softFocus?s.softFocus=!1:u||t("focus",l)},St=l=>(s.softFocus=!1,fe(()=>{var u,O;(O=(u=b.value)==null?void 0:u.blur)==null||O.call(u),B.value&&(s.calculatedWidth=B.value.getBoundingClientRect().width),s.isSilentBlur?s.isSilentBlur=!1:s.isComposing&&t("blur",l),s.isComposing=!1})),il=()=>{s.displayInputValue.length>0?qe(""):P.value=!1},rl=l=>{if(s.displayInputValue.length===0){l.preventDefault();const u=e.modelValue.slice();u.pop(),$(s.cachedOptions.pop()),Ie(u)}},ul=()=>{let l;return Ue(e.modelValue)?l=[]:l=void 0,s.softFocus=!0,e.multiple?s.cachedOptions=[]:s.selectedLabel="",P.value=!1,Ie(l),t("clear"),F(),fe(g)},qe=l=>{s.displayInputValue=l,s.inputValue=l},wt=(l,u=void 0)=>{const O=K.value;if(!["forward","backward"].includes(l)||L.value||O.length<=0||ae.value)return;if(!P.value)return M();u===void 0&&(u=s.hoveringIndex);let W=-1;l==="forward"?(W=u+1,W>=O.length&&(W=0)):l==="backward"&&(W=u-1,(W<0||W>=O.length)&&(W=O.length-1));const ye=O[W];if(ye.disabled||ye.type==="Group")return wt(l,W);Oe(W),at(W)},dl=()=>{if(P.value)~s.hoveringIndex&&K.value[s.hoveringIndex]&&yt(K.value[s.hoveringIndex],s.hoveringIndex,!1);else return M()},Oe=l=>{s.hoveringIndex=l},cl=()=>{s.hoveringIndex=-1},fl=()=>{var l;const u=b.value;u&&((l=u.focus)==null||l.call(u))},Pt=l=>{const u=l.target.value;if(qe(u),s.displayInputValue.length>0&&!P.value&&(P.value=!0),s.calculatedWidth=B.value.getBoundingClientRect().width,e.multiple&&Me(),e.remote)Y();else return te()},pl=()=>(P.value=!1,St()),ml=()=>(s.inputValue=s.displayInputValue,fe(()=>{~re.value&&(Oe(re.value),at(s.hoveringIndex))})),at=l=>{S.value.scrollToItem(l)},ot=()=>{if(cl(),e.multiple)if(e.modelValue.length>0){let l=!1;s.cachedOptions.length=0,s.previousValue=e.modelValue.toString(),e.modelValue.forEach(u=>{const O=K.value.findIndex(W=>ve(W)===u);~O&&(s.cachedOptions.push(K.value[O]),l||Oe(O),l=!0)})}else s.cachedOptions=[],s.previousValue=void 0;else if(T.value){s.previousValue=e.modelValue;const l=K.value,u=l.findIndex(O=>ve(O)===ve(e.modelValue));~u?(s.selectedLabel=l[u].label,Oe(u)):s.selectedLabel=`${e.modelValue}`}else s.selectedLabel="",s.previousValue=void 0;F(),ne()};return Re(P,l=>{var u,O;t("visible-change",l),l?(O=(u=a.value).update)==null||O.call(u):(s.displayInputValue="",s.previousQuery=null,k(""))}),Re(()=>e.modelValue,(l,u)=>{var O;(!l||l.toString()!==s.previousValue)&&ot(),!kt(l,u)&&e.validateEvent&&((O=p==null?void 0:p.validate)==null||O.call(p,"change").catch(W=>Ml()))},{deep:!0}),Re(()=>e.options,()=>{const l=b.value;(!l||l&&document.activeElement!==l)&&ot()},{deep:!0}),Re(K,()=>fe(S.value.resetScrollTop)),Ft(()=>{ot()}),Nl(q,He),{collapseTagSize:ue,currentPlaceholder:me,expanded:P,emptyText:H,popupHeight:D,debounce:z,filteredOptions:K,iconComponent:h,iconReverse:E,inputWrapperStyle:ee,popperSize:C,dropdownMenuVisible:y,hasModelValue:T,shouldShowPlaceholder:pe,selectDisabled:L,selectSize:oe,showClearBtn:G,states:s,tagMaxWidth:be,nsSelectV2:o,nsInput:r,calculatorRef:B,controlRef:i,inputRef:b,menuRef:S,popper:a,selectRef:q,selectionRef:A,popperRef:ie,validateState:v,validateIcon:V,debouncedOnInputChange:Y,deleteTag:al,getLabel:nt,getValueKey:ve,handleBlur:St,handleClear:ul,handleClickOutside:pl,handleDel:rl,handleEsc:il,handleFocus:ol,handleMenuEnter:ml,handleResize:He,toggleMenu:M,scrollTo:at,onInput:Pt,onKeyboardNavigate:wt,onKeyboardSelect:dl,onSelect:yt,onHover:Oe,onUpdateInputValue:qe,handleCompositionStart:Q,handleCompositionEnd:m,handleCompositionUpdate:Z}},Hs=De({name:"ElSelectV2",components:{ElSelectMenu:Ls,ElTag:ts,ElTooltip:Ql,ElIcon:Wt},directives:{ClickOutside:Gl,ModelText:Rl},props:Ts,emits:[Ht,Kt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=I(()=>{const{modelValue:r,multiple:d}=e,p=d?[]:void 0;return Ue(r)?d?r:p:d?p:r}),o=Fs(se({...Ot(e),modelValue:n}),t);return Ll(nl,{props:se({...Ot(e),height:o.popupHeight,modelValue:n}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:n}}}),Ks={key:0},Ws=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Us=["textContent"],Gs=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],xs=["textContent"];function qs(e,t,n,o,r,d){const p=Qe("el-tag"),s=Qe("el-tooltip"),w=Qe("el-icon"),C=Qe("el-select-menu"),i=Et("model-text"),b=Et("click-outside");return Ze((x(),le("div",{ref:"selectRef",class:U([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[25]||(t[25]=de((...S)=>e.toggleMenu&&e.toggleMenu(...S),["stop"])),onMouseenter:t[26]||(t[26]=S=>e.states.comboBoxHovering=!0),onMouseleave:t[27]||(t[27]=S=>e.states.comboBoxHovering=!1)},[f(s,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[24]||(t[24]=S=>e.states.inputValue=e.states.displayInputValue)},{default:c(()=>{var S;return[J("div",{ref:"selectionRef",class:U([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(x(),le("div",Ks,[Ye(e.$slots,"prefix")])):Ce("v-if",!0),e.multiple?(x(),le("div",{key:1,class:U(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(x(),le("div",{key:0,class:U(e.nsSelectV2.e("selected-item"))},[f(p,{closable:!e.selectDisabled&&!((S=e.states.cachedOptions[0])!=null&&S.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:t[0]||(t[0]=a=>e.deleteTag(a,e.states.cachedOptions[0]))},{default:c(()=>{var a;return[J("span",{class:U(e.nsSelectV2.e("tags-text")),style:we({maxWidth:`${e.tagMaxWidth}px`})},ce((a=e.states.cachedOptions[0])==null?void 0:a.label),7)]}),_:1},8,["closable","size"]),e.modelValue.length>1?(x(),he(p,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:c(()=>[e.collapseTagsTooltip?(x(),he(s,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:c(()=>[J("span",{class:U(e.nsSelectV2.e("tags-text")),style:we({maxWidth:`${e.tagMaxWidth}px`})},"+ "+ce(e.modelValue.length-1),7)]),content:c(()=>[J("div",{class:U(e.nsSelectV2.e("selection"))},[(x(!0),le(it,null,Tt(e.states.cachedOptions.slice(1),(a,q)=>(x(),le("div",{key:q,class:U(e.nsSelectV2.e("selected-item"))},[(x(),he(p,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:A=>e.deleteTag(A,a)},{default:c(()=>[J("span",{class:U(e.nsSelectV2.e("tags-text")),style:we({maxWidth:`${e.tagMaxWidth}px`})},ce(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(x(),le("span",{key:1,class:U(e.nsSelectV2.e("tags-text")),style:we({maxWidth:`${e.tagMaxWidth}px`})},"+ "+ce(e.modelValue.length-1),7))]),_:1},8,["size"])):Ce("v-if",!0)],2)):(x(!0),le(it,{key:1},Tt(e.states.cachedOptions,(a,q)=>(x(),le("div",{key:q,class:U(e.nsSelectV2.e("selected-item"))},[(x(),he(p,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:A=>e.deleteTag(A,a)},{default:c(()=>[J("span",{class:U(e.nsSelectV2.e("tags-text")),style:we({maxWidth:`${e.tagMaxWidth}px`})},ce(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),J("div",{class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:we(e.inputWrapperStyle)},[Ze(J("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:U([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[1]||(t[1]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a)),onFocus:t[2]||(t[2]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[3]||(t[3]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[4]||(t[4]=(...a)=>e.onInput&&e.onInput(...a)),onCompositionstart:t[5]||(t[5]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[6]||(t[6]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[7]||(t[7]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onKeydown:[t[8]||(t[8]=Pe(de(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[9]||(t[9]=Pe(de(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[10]||(t[10]=Pe(de((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[11]||(t[11]=Pe(de((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"])),t[12]||(t[12]=Pe(de((...a)=>e.handleDel&&e.handleDel(...a),["stop"]),["delete"]))]},null,42,Ws),[[i,e.states.displayInputValue]]),e.filterable?(x(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(e.nsSelectV2.e("input-calculator")),textContent:ce(e.states.displayInputValue)},null,10,Us)):Ce("v-if",!0)],6)],2)):(x(),le(it,{key:2},[J("div",{class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Ze(J("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:U(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[13]||(t[13]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[14]||(t[14]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[15]||(t[15]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onFocus:t[16]||(t[16]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[17]||(t[17]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[18]||(t[18]=(...a)=>e.onInput&&e.onInput(...a)),onKeydown:[t[19]||(t[19]=Pe(de(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[20]||(t[20]=Pe(de(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[21]||(t[21]=Pe(de((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[22]||(t[22]=Pe(de((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[23]||(t[23]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a))},null,42,Gs),[[i,e.states.displayInputValue]])],2),e.filterable?(x(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:ce(e.states.displayInputValue)},null,10,xs)):Ce("v-if",!0)],64)),e.shouldShowPlaceholder?(x(),le("span",{key:3,class:U([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},ce(e.currentPlaceholder),3)):Ce("v-if",!0),J("span",{class:U(e.nsSelectV2.e("suffix"))},[e.iconComponent?Ze((x(),he(w,{key:0,class:U([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:c(()=>[(x(),he(Ke(e.iconComponent)))]),_:1},8,["class"])),[[$l,!e.showClearBtn]]):Ce("v-if",!0),e.showClearBtn&&e.clearIcon?(x(),he(w,{key:1,class:U([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:de(e.handleClear,["prevent","stop"])},{default:c(()=>[(x(),he(Ke(e.clearIcon)))]),_:1},8,["class","onClick"])):Ce("v-if",!0),e.validateState&&e.validateIcon?(x(),he(w,{key:2,class:U([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:c(()=>[(x(),he(Ke(e.validateIcon)))]),_:1},8,["class"])):Ce("v-if",!0)],2)],2)]}),content:c(()=>[f(C,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:c(S=>[Ye(e.$slots,"default",Bl(Al(S)))]),empty:c(()=>[Ye(e.$slots,"empty",{},()=>[J("p",{class:U(e.nsSelectV2.e("empty"))},ce(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[b,e.handleClickOutside,e.popperRef]])}var Xe=gt(Hs,[["render",qs],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Xe.install=e=>{e.component(Xe.name,Xe)};const Js=Xe,js=Js;const Fe=e=>(Kl("data-v-c859a6b6"),e=e(),Wl(),e),Qs=Fe(()=>J("h4",{style:{margin:"10px auto"}},"控 制",-1)),Zs=Fe(()=>J("h4",{style:{"margin-bottom":"10px",margin:"10px auto"}},"速 度",-1)),Ys=Fe(()=>J("h4",{style:{margin:"10px auto"}},"模 式",-1)),_s=Fe(()=>J("h4",{style:{margin:"10px auto"}},"上 线",-1)),Xs=Fe(()=>J("h4",{style:{margin:"10px auto"}},"PLS 区 域",-1)),en={style:{margin:"0 auto"}},tn=Fe(()=>J("h4",{style:{margin:"10px auto"}},"上 线 点",-1)),ln={style:{margin:"0 auto"}},sn={__name:"index",setup(e){R([]);const t=R(!1),n=R("DEF"),o=R(!1),r=R(""),d=R(""),p=Array.from({length:16}).map((m,g)=>({value:`${g}`,label:`${g}`})),s=Array.from({length:200}).map((m,g)=>({value:`${g+1}`,label:`${g+1}`})),w=R("left"),C=R(0),i=R(0),b=R(),S=R(),a=se({id:"",text:"",params:{}}),q=R();let A=1;const B=se({id:1,text:"↖",params:{a:4},isPress:!1}),P=se({id:2,text:"↑",params:{a:0},isPress:!1}),L=se({id:3,text:"↗",params:{a:5},isPress:!1}),D=se({id:4,text:"←",params:{a:2},isPress:!1}),T=se({id:5,text:"×",params:{a:10}}),G=se({id:6,text:"→",params:{a:3},isPress:!1}),h=se({id:7,text:"↙",params:{a:6},isPress:!1}),E=se({id:8,text:"↓",params:{a:1},isPress:!1}),v=se({id:9,text:"↘",params:{a:7},isPress:!1}),V=se({id:10,text:"",params:{a:13}}),z=se({id:11,text:"",params:{a:12}});function H(m){B.isPress||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress?ue():K(m)}function K(m){m===1?B.isPress=!0:m===2?P.isPress=!0:m===3?L.isPress=!0:m===4?D.isPress=!0:m===6?G.isPress=!0:m===7?h.isPress=!0:m===8?E.isPress=!0:m===9&&(v.isPress=!0),o.value==!0&&$(),C.value=0,i.value=0,q.value=m,ae(m),console.log("!!!PRESwwwwwwwwSING!!!"),b.value=setInterval(()=>{oe()},600)}const ae=m=>{switch(m){case 1:a.id=B.id,a.params=B.params;break;case 2:a.id=P.id,a.params=P.params;break;case 3:a.id=L.id,a.params=L.params;break;case 4:a.id=D.id,a.params=D.params;break;case 5:a.id=T.id,a.params=T.params;break;case 6:a.id=G.id,a.params=G.params;break;case 7:a.id=h.id,a.params=h.params;break;case 8:a.id=E.id,a.params=E.params;break;case 9:a.id=v.id,a.params=v.params;break;case 10:a.id=V.id,a.params=V.params;break;case 11:a.id=z.id,a.params=z.params;break}},oe=()=>{if(C.value++,t.value==!0&&(a.params.a==4||a.params.a==5||a.params.a==6||a.params.a==7)){var m={uCmdType:0,uCmdParm:a.params.a+4,uCmdParmExt:""};console.log("!!!PRESSING!!!")}else t.value==!0&&(a.params.a==2||a.params.a==3)?m={uCmdType:0,uCmdParm:a.params.a+10,uCmdParmExt:""}:m={uCmdType:0,uCmdParm:a.params.a,uCmdParmExt:""};console.log(JSON.stringify(m)),console.log(typeof JSON.stringify(m)),Ee({method:"post",url:"/api/ctrl/manual",data:JSON.stringify(m)}).then(g=>{}).catch(g=>{}).finally(()=>{i.value++})};function ue(){B.isPress=!1,P.isPress=!1,L.isPress=!1,D.isPress=!1,G.isPress=!1,h.isPress=!1,E.isPress=!1,v.isPress=!1,console.log(B.isPress),o.value==!0&&(S.value=setInterval(()=>{k()},600),console.log("Start()")),clearTimeout(b.value),q.value="",b.value=""}const be=()=>{let m="/api/ctrl/manual";A=1,ie(m)},ne=()=>{let m="/api/ctrl/manual";A=2,ie(m)},ee=()=>{let m="/api/ctrl/manual";A=3,ie(m)},pe=()=>{let m="/api/ctrl/manual";A=4,ie(m)},me=()=>{let m="/api/ctrl/manual";A=5,ie(m)},ie=(m,g)=>{var M={uCmdType:3,uCmdParm:A,uCmdParmExt:""};console.log(JSON.stringify(M)),console.log(typeof JSON.stringify(M)),Ee({method:"post",url:m,data:JSON.stringify(M)}).then(te=>{zt.success("请求成功")}).catch(te=>{zt.error("请求失败")}).finally(()=>{})},re=()=>{var m={uCmdType:2,uCmdParm:0,uCmdParmExt:""};console.log(JSON.stringify(m)),console.log(typeof JSON.stringify(m)),Ee({method:"post",url:"/api/ctrl/manual",data:JSON.stringify(m)}).then(g=>{}).catch(g=>{}).finally(()=>{})},y=m=>{m==!0?(S.value=setInterval(()=>{k()},600),console.log("Start()")):$()},k=()=>{console.log("number");var m={uCmdType:4,uCmdParm:12,uCmdParmExt:""};console.log(JSON.stringify(m)),Ee({method:"post",url:"/api/ctrl/manual",data:JSON.stringify(m)}).then(g=>{}).catch(g=>{}).finally(()=>{})};function $(){console.log("onEnd()"),clearInterval(S.value),S.value=""}const j=m=>{let g=1;switch(m.target.value){case"left":g=1;break;case"mid":g=2;break;case"right":g=3;break}var M={triswt:g};console.log(JSON.stringify(M)),console.log(typeof JSON.stringify(M)),Ee({method:"post",url:"/api/ctrl/triswt",data:JSON.stringify(M)}).then(te=>{}).catch(te=>{}).finally(()=>{})},F=()=>{var m={plscut:Number(r.value)};console.log(JSON.stringify(m)),Ee({method:"post",url:"/api/ctrl/plscut",data:JSON.stringify(m)}).then(g=>{}).catch(g=>{}).finally(()=>{})},Q=()=>{var m={onlinepoint:Number(d.value)};console.log(JSON.stringify(m)),Ee({method:"post",url:"/api/ctrl/onlinepoint",data:JSON.stringify(m)}).then(g=>{}).catch(g=>{}).finally(()=>{})},Z=()=>{t.value==!0?n.value="PRESS":n.value="DEF"};return(m,g)=>{const M=Zl,te=Wt,Y=Fl,ze=Hl,st=xl,Ie=_l,ke=Yl,ve=Xl,nt=es,Me=js,He=Ul;return x(),he(M,{style:{margin:"100px 30px 30px 30px"},gutter:10},{default:c(()=>[f(ke,{xs:15,sm:15,md:15,lg:8,xl:8},{default:c(()=>[f(M,null,{default:c(()=>[Qs]),_:1}),f(M,{style:{"margin-bottom":"2px",height:"90px"}},{default:c(()=>[f(ze,{style:{width:"100%"}},{default:c(()=>[f(Y,{disabled:!o.value||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onClick:g[0]||(g[0]=X=>H(B.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↖ ")]),_:1})]),_:1},8,["disabled"]),f(Y,{disabled:!o.value||B.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onClick:g[1]||(g[1]=X=>H(P.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↑ ")]),_:1})]),_:1},8,["disabled"]),f(Y,{disabled:!o.value||P.isPress||B.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onClick:g[2]||(g[2]=X=>H(L.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↗ ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),f(M,{style:{"margin-bottom":"2px",height:"90px"}},{default:c(()=>[f(ze,{style:{width:"100%"}},{default:c(()=>[f(Y,{disabled:!o.value||P.isPress||L.isPress||B.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onClick:g[3]||(g[3]=X=>H(D.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ← ")]),_:1})]),_:1},8,["disabled"]),f(Y,{disabled:!o.value||B.isPress||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onClick:m.changeClick,type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(st,{disabled:!o.value||B.isPress||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||v.isPress,onChange:Z,modelValue:t.value,"onUpdate:modelValue":g[4]||(g[4]=X=>t.value=X),size:"large"},{default:c(()=>[_(ce(n.value),1)]),_:1},8,["disabled","modelValue"])]),_:1},8,["disabled","onClick"]),f(Y,{disabled:!o.value||P.isPress||L.isPress||D.isPress||B.isPress||h.isPress||E.isPress||v.isPress,onClick:g[5]||(g[5]=X=>H(G.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" → ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),f(M,{style:{"margin-bottom":"2px",height:"90px"}},{default:c(()=>[f(ze,{style:{width:"100%"}},{default:c(()=>[f(Y,{disabled:!o.value||P.isPress||L.isPress||D.isPress||G.isPress||B.isPress||E.isPress||v.isPress,onClick:g[6]||(g[6]=X=>H(h.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↙ ")]),_:1})]),_:1},8,["disabled"]),f(Y,{disabled:!o.value||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||B.isPress||v.isPress,onClick:g[7]||(g[7]=X=>H(E.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↓ ")]),_:1})]),_:1},8,["disabled"]),f(Y,{disabled:!o.value||P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||B.isPress,onClick:g[8]||(g[8]=X=>H(v.id)),type:"info",style:{width:"31%",height:"100%","margin-left":"2px"}},{default:c(()=>[f(te,{size:"30"},{default:c(()=>[_(" ↘ ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),f(Ie,{disabled:P.isPress||L.isPress||D.isPress||G.isPress||h.isPress||E.isPress||B.isPress||v.isPress,onChange:y,modelValue:o.value,"onUpdate:modelValue":g[9]||(g[9]=X=>o.value=X),size:"large","active-text":"Open","inactive-text":"Close"},null,8,["disabled","modelValue"])]),_:1}),f(ke,{xs:9,sm:9,md:9,lg:4,xl:4},{default:c(()=>[f(M,null,{default:c(()=>[Zs]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:be,type:"success",style:{margin:"4px auto",width:"60%",height:"40px"}},{default:c(()=>[_("1 级")]),_:1})]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:ne,type:"success",style:{margin:"4px auto",width:"60%",height:"40px"}},{default:c(()=>[_("2 级")]),_:1})]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:ee,type:"success",style:{margin:"4px auto",width:"60%",height:"40px"}},{default:c(()=>[_("3 级")]),_:1})]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:pe,type:"success",style:{margin:"4px auto",width:"60%",height:"40px"}},{default:c(()=>[_("4 级")]),_:1})]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:me,type:"success",style:{margin:"4px auto",width:"60%",height:"40px"}},{default:c(()=>[_("5 级")]),_:1})]),_:1})]),_:1}),f(ke,{xs:24,sm:24,md:24,lg:5,xl:5},{default:c(()=>[f(M,null,{default:c(()=>[Ys]),_:1}),f(M,null,{default:c(()=>[f(nt,{modelValue:w.value,"onUpdate:modelValue":g[10]||(g[10]=X=>w.value=X),style:{margin:"0 auto"}},{default:c(()=>[f(ve,{onChange:j,size:"large",label:"left"},{default:c(()=>[_("手动")]),_:1}),f(ve,{onChange:j,size:"large",label:"mid"},{default:c(()=>[_("空闲")]),_:1}),f(ve,{onChange:j,size:"large",label:"right"},{default:c(()=>[_("自动")]),_:1})]),_:1},8,["modelValue"])]),_:1}),f(M,null,{default:c(()=>[_s]),_:1}),f(M,null,{default:c(()=>[f(Y,{onClick:re,size:"large",style:{margin:"0 auto"},type:"primary",icon:m.Place},{default:c(()=>[_("上线")]),_:1},8,["icon"])]),_:1})]),_:1}),f(ke,{xs:24,sm:24,md:24,lg:7,xl:7},{default:c(()=>[f(M,null,{default:c(()=>[Xs]),_:1}),f(M,null,{default:c(()=>[J("div",en,[f(He,{prop:"count"},{default:c(()=>[f(Me,{modelValue:r.value,"onUpdate:modelValue":g[11]||(g[11]=X=>r.value=X),placeholder:"Activity count",options:N(p)},null,8,["modelValue","options"]),f(Y,{onClick:F,style:{"margin-left":"2px"},type:"primary",icon:m.Setting},{default:c(()=>[_("设置")]),_:1},8,["icon"])]),_:1})])]),_:1}),f(M,null,{default:c(()=>[tn]),_:1}),f(M,null,{default:c(()=>[J("div",ln,[f(He,{prop:"count"},{default:c(()=>[f(Me,{modelValue:d.value,"onUpdate:modelValue":g[12]||(g[12]=X=>d.value=X),placeholder:"Activity count",options:N(s)},null,8,["modelValue","options"]),f(Y,{onClick:Q,style:{"margin-left":"2px"},type:"primary",icon:m.Setting},{default:c(()=>[_("设置")]),_:1},8,["icon"])]),_:1})])]),_:1})]),_:1})]),_:1})}}},bn=Dl(sn,[["__scopeId","data-v-c859a6b6"]]);export{bn as default};
